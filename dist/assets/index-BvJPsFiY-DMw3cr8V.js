import{u as Zn}from"./index-rK6rX7D_.js";function Ga(Lt,xt){for(var Ce=0;Ce<xt.length;Ce++){const $=xt[Ce];if(typeof $!="string"&&!Array.isArray($)){for(const ue in $)if(ue!=="default"&&!(ue in Lt)){const ut=Object.getOwnPropertyDescriptor($,ue);ut&&Object.defineProperty(Lt,ue,ut.get?ut:{enumerable:!0,get:()=>$[ue]})}}}return Object.freeze(Object.defineProperty(Lt,Symbol.toStringTag,{value:"Module"}))}var yn={exports:{}};(function(Lt,xt){(function(Ce,$){$(xt)})(Zn,function(Ce){var $,ue,ut=Object.defineProperty,Po=Object.defineProperties,Bo=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,yi=(t,e,i)=>e in t?ut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,z=(t,e)=>{for(var i in e||(e={}))In.call(e,i)&&yi(t,i,e[i]);if(Jt)for(var i of Jt(e))fn.call(e,i)&&yi(t,i,e[i]);return t},Ye=(t,e)=>Po(t,Bo(e)),Fe=(t,e)=>{var i={};for(var n in t)In.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&Jt)for(var n of Jt(t))e.indexOf(n)<0&&fn.call(t,n)&&(i[n]=t[n]);return i},x=(t,e,i)=>(yi(t,typeof e!="symbol"?e+"":e,i),i),oe=(t,e,i)=>new Promise((n,s)=>{var o=a=>{try{d(i.next(a))}catch(c){s(c)}},l=a=>{try{d(i.throw(a))}catch(c){s(c)}},d=a=>a.done?n(a.value):Promise.resolve(a.value).then(o,l);d((i=i.apply(t,e)).next())});function Do(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Ut(t,e,i,n){return new(i||(i=Promise))(function(s,o){function l(c){try{a(n.next(c))}catch(r){o(r)}}function d(c){try{a(n.throw(c))}catch(r){o(r)}}function a(c){var r;c.done?s(c.value):(r=c.value,r instanceof i?r:new i(function(u){u(r)})).then(l,d)}a((n=n.apply(t,e||[])).next())})}function pt(t){const e=t==null?void 0:t.host;return(e==null?void 0:e.shadowRoot)===t}function ht(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function Kt(t){try{const i=t.rules||t.cssRules;return i?((e=Array.from(i,Sn).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e):null}catch{return null}var e}function Sn(t){let e;if(function(i){return"styleSheet"in i}(t))try{e=Kt(t.styleSheet)||function(i){const{cssText:n}=i;if(n.split('"').length<3)return n;const s=["@import",`url(${JSON.stringify(i.href)})`];return i.layerName===""?s.push("layer"):i.layerName&&s.push(`layer(${i.layerName})`),i.supportsText&&s.push(`supports(${i.supportsText})`),i.media.length&&s.push(i.media.mediaText),s.join(" ")+";"}(t)}catch{}else if(function(i){return"selectorText"in i}(t)&&t.selectorText.includes(":"))return function(i){const n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return i.replace(n,"$1\\$2")}(t.cssText);return e||t.cssText}(ue=$||($={}))[ue.Document=0]="Document",ue[ue.DocumentType=1]="DocumentType",ue[ue.Element=2]="Element",ue[ue.Text=3]="Text",ue[ue.CDATA=4]="CDATA",ue[ue.Comment=5]="Comment";class Vn{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var i;if(!e)return-1;const n=(i=this.getMeta(e))===null||i===void 0?void 0:i.id;return n??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const i=this.getId(e);this.idNodeMap.delete(i),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,i){const n=i.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,i)}replace(e,i){const n=this.getNode(e);if(n){const s=this.nodeMetaMap.get(n);s&&this.nodeMetaMap.set(i,s)}this.idNodeMap.set(e,i)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function _e(t){return t.toLowerCase()}const Xn="__rrweb_original__";function Ii(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?_e(e):null}function Cn(t,e){var i;let n;try{n=new URL(t,e??window.location.href)}catch{return null}const s=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(i=s==null?void 0:s[1])!==null&&i!==void 0?i:null}function fi(t){return t=((t=t.replace(/[^ -~]+/g,""))==null?void 0:t.split(" ").map(e=>Math.random().toString(20).substr(2,e.length)).join(" "))||""}function Si(t){return t==="img"||t==="video"||t==="audio"||t==="source"}const Qo=[new RegExp("[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*"),new RegExp("[0-9]{9,16}"),new RegExp("[0-9]{3}-?[0-9]{2}-?[0-9]{4}"),new RegExp("[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}"),new RegExp("[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{4}"),new RegExp("[0-9]{1,5}.?[0-9]{0,3}s[a-zA-Z]{2,30}s[a-zA-Z]{2,15}"),new RegExp("(?:[0-9]{1,3}.){3}[0-9]{1,3}")];function Gn(t){return!!t&&Qo.some(e=>e.test(t))}const Wn=({maskInputOptions:t,tagName:e,type:i,overwriteRecord:n})=>{const s=i&&i.toLowerCase();return!(n==="true"||!t[e.toLowerCase()]&&(!s||!t[s]))};function Vi({element:t,maskInputOptions:e,tagName:i,type:n,value:s,overwriteRecord:o,maskInputFn:l}){let d=s||"";return Wn({maskInputOptions:e,tagName:i,type:n,overwriteRecord:o})&&(d=l?l(d,t):"*".repeat(d.length)),d}let jo=1;const _o=new RegExp("[^a-z0-9-_:]"),mt=-2;function Rn(){return jo++}let qe,vn;const qo=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,$o=/^(?:[a-z+]+:)?\/\//i,er=/^www\..*/i,tr=/^(data:)([^,]*),(.*)/i;function Yt(t,e){return(t||"").replace(qo,(i,n,s,o,l,d)=>{const a=s||l||d,c=n||o||"";if(!a)return i;if($o.test(a)||er.test(a))return`url(${c}${a}${c})`;if(tr.test(a))return`url(${c}${a}${c})`;if(a[0]==="/")return`url(${c}${function(p){let h="";return h=p.indexOf("//")>-1?p.split("/").slice(0,3).join("/"):p.split("/")[0],h=h.split("?")[0],h}(e)+a}${c})`;const r=e.split("/"),u=a.split("/");r.pop();for(const p of u)p!=="."&&(p===".."?r.pop():r.push(p));return`url(${c}${r.join("/")}${c})`})}const ir=/^[^ \t\n\r\u000c]+/,nr=/^[, \t\n\r\u000c]+/;function bt(t,e){if(!e||e.trim()==="")return e;const i=t.createElement("a");return i.href=e,i.href}function sr(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Xi(){const t=document.createElement("a");return t.href="",t.href}function kn(t,e,i,n){return n&&(i==="src"||i==="href"&&(e!=="use"||n[0]!=="#")||i==="xlink:href"&&n[0]!=="#"?bt(t,n):i!=="background"||e!=="table"&&e!=="td"&&e!=="th"?i==="srcset"?function(s,o){if(o.trim()==="")return o;let l=0;function d(c){let r;const u=c.exec(o.substring(l));return u?(r=u[0],l+=r.length,r):""}const a=[];for(;d(nr),!(l>=o.length);){let c=d(ir);if(c.slice(-1)===",")c=bt(s,c.substring(0,c.length-1)),a.push(c);else{let r="";c=bt(s,c);let u=!1;for(;;){const p=o.charAt(l);if(p===""){a.push((c+r).trim());break}if(u)p===")"&&(u=!1);else{if(p===","){l+=1,a.push((c+r).trim());break}p==="("&&(u=!0)}r+=p,l+=1}}}return a.join(", ")}(t,n):i==="style"?Yt(n,Xi()):e==="object"&&i==="data"?bt(t,n):n:bt(t,n))}function Nn(t,e,i){return(t==="video"||t==="audio")&&e==="autoplay"}function wn(t,e,i){try{if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let n=t.classList.length;n--;){const s=t.classList[n];if(e.test(s))return!0}if(i)return t.matches(i)}catch{}return!1}function Ft(t,e,i){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return!!i&&Ft(t.parentNode,e,i);for(let n=t.classList.length;n--;){const s=t.classList[n];if(e.test(s))return!0}return!!i&&Ft(t.parentNode,e,i)}function Tn(t,e,i,n){try{const s=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(s===null)return!1;if(typeof e=="string"){if(n){if(s.closest(`.${e}`))return!0}else if(s.classList.contains(e))return!0}else if(Ft(s,e,n))return!0;if(i){if(n){if(s.closest(i))return!0}else if(s.matches(i))return!0}}catch{}return!1}function or(t,e){const{doc:i,mirror:n,blockClass:s,blockSelector:o,needsMask:l,inlineStylesheet:d,maskInputOptions:a={},maskTextClass:c,maskTextFn:r,maskInputFn:u,dataURLOptions:p={},inlineImages:h,recordCanvas:m,keepIframeSrcFn:b,newlyAddedElement:I=!1,privacySetting:g}=e,f=function(y,S){if(!S.hasNode(y))return;const G=S.getId(y);return G===1?void 0:G}(i,n);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:$.Document,childNodes:[],compatMode:t.compatMode}:{type:$.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:$.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:f};case t.ELEMENT_NODE:return function(y,S){const{doc:G,blockClass:N,blockSelector:w,inlineStylesheet:K,maskInputOptions:L={},maskInputFn:T,maskTextClass:J,dataURLOptions:k={},inlineImages:Z,recordCanvas:V,keepIframeSrcFn:v,newlyAddedElement:W=!1,privacySetting:C,rootId:R}=S;let Y=wn(y,N,w);const q=wn(y,J,null),ee=C==="strict";let P=function(F){if(F instanceof HTMLFormElement)return"form";const A=_e(F.tagName);return _o.test(A)?"div":A}(y),M={};const Ie=y.attributes.length;for(let F=0;F<Ie;F++){const A=y.attributes[F];Nn(P,A.name)||(M[A.name]=kn(G,P,_e(A.name),A.value))}if(P==="link"&&K){const F=Array.from(G.styleSheets).find(de=>de.href===y.href);let A=null;F&&(A=Kt(F)),A&&(delete M.rel,delete M.href,M._cssText=Yt(A,F.href))}if(P==="style"&&y.sheet&&!(y.innerText||y.textContent||"").trim().length){const F=Kt(y.sheet);F&&(M._cssText=Yt(F,Xi()))}if(P==="input"||P==="textarea"||P==="select"){const F=y.value,A=y.checked;M.type!=="radio"&&M.type!=="checkbox"&&M.type!=="submit"&&M.type!=="button"&&F?M.value=Vi({element:y,type:Ii(y),tagName:P,value:F,overwriteRecord:y.getAttribute("data-hl-record"),maskInputOptions:L,maskInputFn:T}):A&&(M.checked=A)}if(P==="option"&&(y.selected&&!L.select?M.selected=!0:delete M.selected),P==="canvas"&&V){if(y.__context==="2d")(function(F){const A=F.getContext("2d");if(!A)return!0;for(let de=0;de<F.width;de+=50)for(let Le=0;Le<F.height;Le+=50){const dt=A.getImageData,wt=Xn in dt?dt[Xn]:dt;if(new Uint32Array(wt.call(A,de,Le,Math.min(50,F.width-de),Math.min(50,F.height-Le)).data.buffer).some(mi=>mi!==0))return!1}return!0})(y)||(M.rr_dataURL=y.toDataURL(k.type,k.quality));else if(!("__context"in y)){const F=y.toDataURL(k.type,k.quality),A=document.createElement("canvas");A.width=y.width,A.height=y.height,F!==A.toDataURL(k.type,k.quality)&&(M.rr_dataURL=F)}}if(P==="img"&&Z&&!Y&&!q&&!ee){qe||(qe=G.createElement("canvas"),vn=qe.getContext("2d"));const F=y,A=F.crossOrigin;F.crossOrigin="anonymous";const de=()=>{F.removeEventListener("load",de);try{qe.width=F.naturalWidth,qe.height=F.naturalHeight,vn.drawImage(F,0,0),M.rr_dataURL=qe.toDataURL(k.type,k.quality)}catch(Le){console.warn(`Cannot inline img src=${F.currentSrc}! Error: ${Le}`)}A?M.crossOrigin=A:F.removeAttribute("crossorigin")};F.complete&&F.naturalWidth!==0?de():F.addEventListener("load",de)}if(P!=="audio"&&P!=="video"||(M.rr_mediaState=y.paused?"paused":"played",M.rr_mediaCurrentTime=y.currentTime),W||(y.scrollLeft&&(M.rr_scrollLeft=y.scrollLeft),y.scrollTop&&(M.rr_scrollTop=y.scrollTop)),Y||q||ee&&Si(P)){const{width:F,height:A}=y.getBoundingClientRect();M={class:M.class,rr_width:`${F}px`,rr_height:`${A}px`}}ee&&Si(P)&&(Y=!0),P!=="iframe"||v(M.src)||(y.contentDocument||(M.rr_src=M.src),delete M.src);let Xe;try{customElements.get(P)&&(Xe=!0)}catch{}if(Z&&P==="video"){const F=y;if(F.src===""||F.src.indexOf("blob:")!==-1){const{width:A,height:de}=y.getBoundingClientRect();M={rr_width:`${A}px`,rr_height:`${de}px`,rr_inlined_video:!0},P="canvas"}}return{type:$.Element,tagName:P,attributes:M,childNodes:[],isSVG:sr(y)||void 0,needBlock:Y,needMask:q,rootId:R,isCustom:Xe}}(t,{doc:i,blockClass:s,blockSelector:o,inlineStylesheet:d,maskInputOptions:a,maskInputFn:u,maskTextClass:c,dataURLOptions:p,inlineImages:h,recordCanvas:m,keepIframeSrcFn:b,newlyAddedElement:I,privacySetting:g,rootId:f});case t.TEXT_NODE:return function(y,S){var G,N;const{needsMask:w,maskTextFn:K,privacySetting:L,rootId:T}=S,J=y.parentNode&&y.parentNode.tagName;let k=y.textContent;const Z=J==="STYLE"||void 0,V=J==="SCRIPT"||void 0;let v=!1;if(Z&&k){try{y.nextSibling||y.previousSibling||!((G=y.parentNode.sheet)===null||G===void 0)&&G.cssRules&&(k=Kt(y.parentNode.sheet))}catch(Y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${Y}`,y)}k=Yt(k,Xi()),v=!0}V?(k="SCRIPT_PLACEHOLDER",v=!0):J==="NOSCRIPT"&&(k="",v=!0),!Z&&!V&&k&&w&&(k=K?K(k,y.parentElement):k.replace(/[\S]/g,"*"));const W=L==="strict",C=(N=y.parentElement)===null||N===void 0?void 0:N.getAttribute("data-hl-record"),R=L==="default"&&Gn(k);return(W||R)&&!C&&!v&&J&&!new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(J)&&k&&(k=fi(k)),{type:$.Text,textContent:k||"",isStyle:Z,rootId:T}}(t,{needsMask:l,maskTextFn:r,privacySetting:g,rootId:f});case t.CDATA_SECTION_NODE:return{type:$.CDATA,textContent:"",rootId:f};case t.COMMENT_NODE:return{type:$.Comment,textContent:t.textContent||"",rootId:f};default:return!1}}function ie(t){return t==null?"":t.toLowerCase()}function $e(t,e){const{doc:i,mirror:n,blockClass:s,blockSelector:o,maskTextClass:l,maskTextSelector:d,skipChild:a=!1,inlineStylesheet:c=!0,maskInputOptions:r={},maskTextFn:u,maskInputFn:p,slimDOMOptions:h,dataURLOptions:m={},inlineImages:b=!1,recordCanvas:I=!1,onSerialize:g,onIframeLoad:f,iframeLoadTimeout:y=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:G=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:w=!1,privacySetting:K}=e;let{needsMask:L}=e,{preserveWhiteSpace:T=!0}=e;!L&&t.childNodes&&(L=Tn(t,l,d,L===void 0));const J=or(t,{doc:i,mirror:n,blockClass:s,blockSelector:o,needsMask:L,inlineStylesheet:c,maskInputOptions:r,maskTextClass:l,maskTextFn:u,maskInputFn:p,dataURLOptions:m,inlineImages:b,recordCanvas:I,keepIframeSrcFn:N,newlyAddedElement:w,privacySetting:K});if(!J)return console.warn(t,"not serialized"),null;let k;k=n.hasNode(t)?n.getId(t):!function(C,R){return!!(R.comment&&C.type===$.Comment||C.type===$.Element&&(R.script&&(C.tagName==="script"||C.tagName==="link"&&(C.attributes.rel==="preload"||C.attributes.rel==="modulepreload")&&C.attributes.as==="script"||C.tagName==="link"&&C.attributes.rel==="prefetch"&&typeof C.attributes.href=="string"&&Cn(C.attributes.href)==="js")||R.headFavicon&&(C.tagName==="link"&&C.attributes.rel==="shortcut icon"||C.tagName==="meta"&&(ie(C.attributes.name).match(/^msapplication-tile(image|color)$/)||ie(C.attributes.name)==="application-name"||ie(C.attributes.rel)==="icon"||ie(C.attributes.rel)==="apple-touch-icon"||ie(C.attributes.rel)==="shortcut icon"))||C.tagName==="meta"&&(R.headMetaDescKeywords&&ie(C.attributes.name).match(/^description|keywords$/)||R.headMetaSocial&&(ie(C.attributes.property).match(/^(og|twitter|fb):/)||ie(C.attributes.name).match(/^(og|twitter):/)||ie(C.attributes.name)==="pinterest")||R.headMetaRobots&&(ie(C.attributes.name)==="robots"||ie(C.attributes.name)==="googlebot"||ie(C.attributes.name)==="bingbot")||R.headMetaHttpEquiv&&C.attributes["http-equiv"]!==void 0||R.headMetaAuthorship&&(ie(C.attributes.name)==="author"||ie(C.attributes.name)==="generator"||ie(C.attributes.name)==="framework"||ie(C.attributes.name)==="publisher"||ie(C.attributes.name)==="progid"||ie(C.attributes.property).match(/^article:/)||ie(C.attributes.property).match(/^product:/))||R.headMetaVerification&&(ie(C.attributes.name)==="google-site-verification"||ie(C.attributes.name)==="yandex-verification"||ie(C.attributes.name)==="csrf-token"||ie(C.attributes.name)==="p:domain_verify"||ie(C.attributes.name)==="verify-v1"||ie(C.attributes.name)==="verification"||ie(C.attributes.name)==="shopify-checkout-api-token"))))}(J,h)&&(T||J.type!==$.Text||J.isStyle||J.textContent.replace(/^\s+|\s+$/gm,"").length)?Rn():mt;const Z=Object.assign(J,{id:k});if(n.add(t,Z),k===mt)return null;g&&g(t);let V=!a,v=K,W=K==="strict";if(Z.type===$.Element){if(V=V&&!Z.needBlock,W||(W=!!Z.needBlock||!!Z.needMask),v=W?"strict":v,W&&Si(Z.tagName)){const R=t.cloneNode();R.src="",n.add(R,Z)}delete Z.needBlock,delete Z.needMask;const C=t.shadowRoot;C&&ht(C)&&(Z.isShadowHost=!0)}if((Z.type===$.Document||Z.type===$.Element)&&V){h.headWhitespace&&Z.type===$.Element&&Z.tagName==="head"&&(T=!1);const C={doc:i,mirror:n,blockClass:s,blockSelector:o,needsMask:L,maskTextClass:l,maskTextSelector:d,skipChild:a,inlineStylesheet:c,maskInputOptions:r,maskTextFn:u,maskInputFn:p,slimDOMOptions:h,dataURLOptions:m,inlineImages:b,recordCanvas:I,preserveWhiteSpace:T,onSerialize:g,onIframeLoad:f,iframeLoadTimeout:y,onStylesheetLoad:S,stylesheetLoadTimeout:G,keepIframeSrcFn:N,privacySetting:v};if(!(Z.type===$.Element&&Z.tagName==="textarea"&&Z.attributes.value!==void 0))for(const R of Array.from(t.childNodes)){const Y=$e(R,C);Y&&Z.childNodes.push(Y)}if(function(R){return R.nodeType===R.ELEMENT_NODE}(t)&&t.shadowRoot)for(const R of Array.from(t.shadowRoot.childNodes)){const Y=$e(R,C);Y&&(ht(t.shadowRoot)&&(Y.isShadow=!0),Z.childNodes.push(Y))}}return t.parentNode&&pt(t.parentNode)&&ht(t.parentNode)&&(Z.isShadow=!0),Z.type===$.Element&&Z.tagName==="iframe"&&function(C,R,Y){const q=C.contentWindow;if(!q)return;let ee,P=!1;try{ee=q.document.readyState}catch{return}if(ee!=="complete"){const Ie=setTimeout(()=>{P||(R(),P=!0)},Y);return void C.addEventListener("load",()=>{clearTimeout(Ie),P=!0,R()})}const M="about:blank";if(q.location.href!==M||C.src===M||C.src==="")return setTimeout(R,0),C.addEventListener("load",R);C.addEventListener("load",R)}(t,()=>{const C=t.contentDocument;if(C&&f){const R=$e(C,{doc:C,mirror:n,blockClass:s,blockSelector:o,needsMask:L,maskTextClass:l,maskTextSelector:d,skipChild:!1,inlineStylesheet:c,maskInputOptions:r,maskTextFn:u,maskInputFn:p,slimDOMOptions:h,dataURLOptions:m,inlineImages:b,recordCanvas:I,preserveWhiteSpace:T,onSerialize:g,onIframeLoad:f,iframeLoadTimeout:y,onStylesheetLoad:S,stylesheetLoadTimeout:G,keepIframeSrcFn:N,privacySetting:K});R&&f(t,R)}},y),Z.type===$.Element&&Z.tagName==="link"&&typeof Z.attributes.rel=="string"&&(Z.attributes.rel==="stylesheet"||Z.attributes.rel==="preload"&&typeof Z.attributes.href=="string"&&Cn(Z.attributes.href)==="css")&&function(C,R,Y){let q,ee=!1;try{q=C.sheet}catch{return}if(q)return;const P=setTimeout(()=>{ee||(R(),ee=!0)},Y);C.addEventListener("load",()=>{clearTimeout(P),ee=!0,R()})}(t,()=>{if(S){const C=$e(t,{doc:i,mirror:n,blockClass:s,blockSelector:o,needsMask:L,maskTextClass:l,maskTextSelector:d,skipChild:!1,inlineStylesheet:c,maskInputOptions:r,maskTextFn:u,maskInputFn:p,slimDOMOptions:h,dataURLOptions:m,inlineImages:b,recordCanvas:I,preserveWhiteSpace:T,onSerialize:g,onIframeLoad:f,iframeLoadTimeout:y,onStylesheetLoad:S,stylesheetLoadTimeout:G,keepIframeSrcFn:N,privacySetting:K});C&&S(t,C)}},G),Z}function be(t,e,i=document){const n={capture:!0};return i.addEventListener(t,e,n),()=>i.removeEventListener(t,e,n)}const et=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ln={map:{},getId:()=>(console.error(et),-1),getNode:()=>(console.error(et),null),removeNodeFromMap(){console.error(et)},has:()=>(console.error(et),!1),reset(){console.error(et)}};function gt(t,e,i={}){let n=null,s=0;return function(...o){const l=Date.now();s||i.leading!==!1||(s=l);const d=e-(l-s),a=this;d<=0||d>e?(n&&(clearTimeout(n),n=null),s=l,t.apply(a,o)):n||i.trailing===!1||(n=setTimeout(()=>{s=i.leading===!1?0:Date.now(),n=null,t.apply(a,o)},d))}}function Ht(t,e,i,n,s=window){const o=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,n?i:{set(l){setTimeout(()=>{i.set.call(this,l)},0),o&&o.set&&o.set.call(this,l)}}),()=>Ht(t,e,o||{},!0)}function tt(t,e,i){try{if(!(e in t))return()=>{};const n=t[e],s=i(n);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),t[e]=s,()=>{t[e]=n}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(Ln=new Proxy(Ln,{get:(t,e,i)=>(e==="map"&&console.error(et),Reflect.get(t,e,i))}));let Et=Date.now;function xn(t){var e,i,n,s,o,l;const d=t.document;return{left:d.scrollingElement?d.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:(d==null?void 0:d.documentElement.scrollLeft)||((i=(e=d==null?void 0:d.body)===null||e===void 0?void 0:e.parentElement)===null||i===void 0?void 0:i.scrollLeft)||((n=d==null?void 0:d.body)===null||n===void 0?void 0:n.scrollLeft)||0,top:d.scrollingElement?d.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:(d==null?void 0:d.documentElement.scrollTop)||((o=(s=d==null?void 0:d.body)===null||s===void 0?void 0:s.parentElement)===null||o===void 0?void 0:o.scrollTop)||((l=d==null?void 0:d.body)===null||l===void 0?void 0:l.scrollTop)||0}}function Jn(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Un(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Kn(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}/[1-9][0-9]{12}/.test(Date.now().toString())||(Et=()=>new Date().getTime());const rr=t=>{try{if(t instanceof HTMLElement)return t.tagName==="CANVAS"}catch{return!1}return!1};function me(t,e,i,n){if(!t)return!1;const s=Kn(t);if(!s)return!1;try{if(typeof e=="string"){if(s.classList.contains(e)||n&&s.closest("."+e)!==null)return!0}else if(Ft(s,e,n))return!0}catch{}return!!(i&&(s.matches(i)||n&&s.closest(i)!==null))}function Ci(t,e){return e.getId(t)===mt}function Yn(t,e){if(pt(t))return!1;const i=e.getId(t);return!e.has(i)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||Yn(t.parentNode,e))}function Gi(t){return!!t.changedTouches}function Fn(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Hn(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Wi(t){return!!(t!=null&&t.shadowRoot)}class lr{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var i;return(i=this.styleIDMap.get(e))!==null&&i!==void 0?i:-1}has(e){return this.styleIDMap.has(e)}add(e,i){if(this.has(e))return this.getId(e);let n;return n=i===void 0?this.id++:i,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function En(t){var e,i;let n=null;return((i=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t))===null||i===void 0?void 0:i.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(n=t.getRootNode().host),n}function ar(t){const e=t.ownerDocument;if(!e)return!1;const i=function(n){let s,o=n;for(;s=En(o);)o=s;return o}(t);return e.contains(i)}function Mn(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||ar(t))}var j=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(j||{}),D=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(D||{}),ye=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(ye||{}),He=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(He||{}),it=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(it||{});function On(t){return"__ln"in t}class cr{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let i=this.head;for(let n=0;n<e;n++)i=(i==null?void 0:i.next)||null;return i}addNode(e){const i={value:e,previous:null,next:null};if(e.__ln=i,e.previousSibling&&On(e.previousSibling)){const n=e.previousSibling.__ln.next;i.next=n,i.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=i,n&&(n.previous=i)}else if(e.nextSibling&&On(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;i.previous=n,i.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=i,n&&(n.next=i)}else this.head&&(this.head.previous=i),i.next=this.head,this.head=i;i.next===null&&(this.tail=i),this.length++}removeNode(e){const i=e.__ln;this.head&&(i.previous?(i.previous.next=i.next,i.next?i.next.previous=i.previous:this.tail=i.previous):(this.head=i.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const zn=(t,e)=>`${t}@${e}`;class dr{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],i=new Set,n=new cr,s=a=>{let c=a,r=mt;for(;r===mt;)c=c&&c.nextSibling,r=c&&this.mirror.getId(c);return r},o=a=>{if(!a.parentNode||!Mn(a)||a.parentNode.tagName==="TEXTAREA")return;const c=pt(a.parentNode)?this.mirror.getId(En(a)):this.mirror.getId(a.parentNode),r=s(a);if(c===-1||r===-1)return n.addNode(a);const u=$e(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,privacySetting:this.privacySetting,onSerialize:p=>{Fn(p,this.mirror)&&this.iframeManager.addIframe(p),Hn(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Wi(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(p,h)=>{this.iframeManager.attachIframe(p,h),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,h)=>{this.stylesheetManager.attachLinkElement(p,h)}});u&&(e.push({parentId:c,nextId:r,node:u}),i.add(u.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)An(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)Bn(this.droppedSet,a)||An(this.removes,a,this.mirror)?Bn(this.movedSet,a)?o(a):this.droppedSet.add(a):o(a);let l=null;for(;n.length;){let a=null;if(l){const c=this.mirror.getId(l.value.parentNode),r=s(l.value);c!==-1&&r!==-1&&(a=l)}if(!a){let c=n.tail;for(;c;){const r=c;if(c=c.previous,r){const u=this.mirror.getId(r.value.parentNode);if(s(r.value)===-1)continue;if(u!==-1){a=r;break}{const p=r.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){a=r;break}}}}}}if(!a){for(;n.head;)n.removeNode(n.head.value);break}l=a.previous,n.removeNode(a.value),o(a.value)}const d={texts:this.texts.map(a=>{var c,r;const u=a.node;u.parentNode.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(u.parentNode);let p=a.value;const h=this.privacySetting==="strict",m=this.privacySetting==="default"&&Gn(p),b=(r=(c=a.node)===null||c===void 0?void 0:c.parentElement)===null||r===void 0?void 0:r.getAttribute("data-hl-record");return(h||m)&&!b&&p&&(p=fi(p)),{id:this.mirror.getId(u),value:p}}).filter(a=>!i.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:c}=a;if(typeof c.style=="string"){const r=JSON.stringify(a.styleDiff),u=JSON.stringify(a._unchangedStyles);r.length<c.style.length&&(r+u).split("var(").length===c.style.split("var(").length&&(c.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:c}}).filter(a=>!i.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:e};(d.texts.length||d.attributes.length||d.removes.length||d.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(d))},this.genTextAreaValueMutation=e=>{let i=this.attributeMap.get(e);i||(i={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e,i)),i.attributes.value=Array.from(e.childNodes,n=>n.textContent||"").join("")},this.processMutation=e=>{if(!Ci(e.target,this.mirror))switch(e.type){case"characterData":{const i=e.target.textContent;me(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue||this.texts.push({value:Tn(e.target,this.maskTextClass,this.maskTextSelector,!0)&&i?this.maskTextFn?this.maskTextFn(i,Kn(e.target)):i.replace(/[\S]/g,"*"):i,node:e.target});break}case"attributes":{const i=e.target;let n=e.attributeName,s=e.target.getAttribute(n);if(n==="value"){const l=Ii(i);s=Vi({element:i,maskInputOptions:this.maskInputOptions,tagName:i.tagName,type:l,value:s,overwriteRecord:i.getAttribute("data-hl-record"),maskInputFn:this.maskInputFn})}if(me(e.target,this.blockClass,this.blockSelector,!1)||s===e.oldValue)return;let o=this.attributeMap.get(e.target);if(i.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(s)){if(i.contentDocument)return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),n==="type"&&i.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&i.setAttribute("data-rr-is-password","true"),!Nn(i.tagName,n)){if(e.target.tagName==="INPUT"){const l=e.target;if(l.type==="password"){o.attributes.value="*".repeat(l.value.length);break}}if(o.attributes[n]=kn(this.doc,_e(i.tagName),_e(n),s),n==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const l=this.unattachedDoc.createElement("span");e.oldValue&&l.setAttribute("style",e.oldValue);for(const d of Array.from(i.style)){const a=i.style.getPropertyValue(d),c=i.style.getPropertyPriority(d);a!==l.style.getPropertyValue(d)||c!==l.style.getPropertyPriority(d)?o.styleDiff[d]=c===""?a:[a,c]:o._unchangedStyles[d]=[a,c]}for(const d of Array.from(l.style))i.style.getPropertyValue(d)===""&&(o.styleDiff[d]=!1)}}break}case"childList":if(me(e.target,this.blockClass,this.blockSelector,!0))return;if(e.target.tagName==="TEXTAREA")return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach(i=>this.genAdds(i,e.target)),e.removedNodes.forEach(i=>{const n=this.mirror.getId(i),s=pt(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);me(e.target,this.blockClass,this.blockSelector,!1)||Ci(i,this.mirror)||!function(o,l){return l.getId(o)!==-1}(i,this.mirror)||(this.addedSet.has(i)?(Ri(this.addedSet,i),this.droppedSet.add(i)):this.addedSet.has(e.target)&&n===-1||Yn(e.target,this.mirror)||(this.movedSet.has(i)&&this.movedMap[zn(n,s)]?Ri(this.movedSet,i):this.removes.push({parentId:s,id:n,isShadow:!(!pt(e.target)||!ht(e.target))||void 0})),this.mapRemoves.push(i))})}},this.genAdds=(e,i)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Ci(e,this.mirror))return;this.movedSet.add(e);let n=null;i&&this.mirror.hasNode(i)&&(n=this.mirror.getId(i)),n&&n!==-1&&(this.movedMap[zn(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);me(e,this.blockClass,this.blockSelector,!1)||(e.childNodes.forEach(n=>this.genAdds(n)),Wi(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","privacySetting","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(i=>{this[i]=e[i]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ri(t,e){t.delete(e),e.childNodes.forEach(i=>Ri(t,i))}function An(t,e,i){return t.length!==0&&Pn(t,e,i)}function Pn(t,e,i){const{parentNode:n}=e;if(!n)return!1;const s=i.getId(n);return!!t.some(o=>o.id===s)||Pn(t,n,i)}function Bn(t,e){return t.size!==0&&Dn(t,e)}function Dn(t,e){const{parentNode:i}=e;return!!i&&(!!t.has(i)||Dn(t,i))}let Zt;const Q=t=>Zt?(...e)=>{try{return t(...e)}catch(i){if(Zt&&Zt(i)===!0)return;throw i}}:t,Oe=[];function yt(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function Qn(t,e){var i,n;const s=new dr;Oe.push(s),s.init(t);let o=window.MutationObserver||window.__rrMutationObserver;const l=(n=(i=window==null?void 0:window.Zone)===null||i===void 0?void 0:i.__symbol__)===null||n===void 0?void 0:n.call(i,"MutationObserver");l&&window[l]&&(o=window[l]);const d=new o(Q(s.processMutations.bind(s)));return d.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),d}function ur({mouseInteractionCb:t,doc:e,mirror:i,blockClass:n,blockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const l=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,d=[];let a=null;return Object.keys(ye).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&l[c]!==!1).forEach(c=>{let r=_e(c);const u=(p=>h=>{const m=yt(h);if(me(m,n,s,!0)||rr(m))return;let b=null,I=p;if("pointerType"in h){switch(h.pointerType){case"mouse":b=He.Mouse;break;case"touch":b=He.Touch;break;case"pen":b=He.Pen}b===He.Touch&&(ye[p]===ye.MouseDown?I="TouchStart":ye[p]===ye.MouseUp&&(I="TouchEnd"))}else Gi(h)&&(b=He.Touch);b!==null?(a=b,(I.startsWith("Touch")&&b===He.Touch||I.startsWith("Mouse")&&b===He.Mouse)&&(b=null)):ye[p]===ye.Click&&(b=a,a=null);const g=Gi(h)?h.changedTouches[0]:h;if(!g)return;const f=i.getId(m),{clientX:y,clientY:S}=g;Q(t)(Object.assign({type:ye[I],id:f,x:y,y:S},b!==null&&{pointerType:b}))})(c);if(window.PointerEvent)switch(ye[c]){case ye.MouseDown:case ye.MouseUp:r=r.replace("mouse","pointer");break;case ye.TouchStart:case ye.TouchEnd:return}d.push(be(r,u,e))}),Q(()=>{d.forEach(c=>c())})}function jn({scrollCb:t,doc:e,mirror:i,blockClass:n,blockSelector:s,sampling:o}){return be("scroll",Q(gt(Q(l=>{const d=yt(l);if(!d||me(d,n,s,!0))return;const a=i.getId(d);if(d===e&&e.defaultView){const c=xn(e.defaultView);t({id:a,x:c.left,y:c.top})}else t({id:a,x:d.scrollLeft,y:d.scrollTop})}),o.scroll||100)),e)}const pr=["INPUT","TEXTAREA","SELECT"],_n=new WeakMap;function Mt(t){return function(e,i){if(Ot("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Ot("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Ot("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Ot("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);i.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);i.unshift(n)}return i}(t,[])}function Ee(t,e,i){let n,s;return t?(t.ownerNode?n=e.getId(t.ownerNode):s=i.getId(t),{styleId:s,id:n}):{}}function qn({mirror:t,stylesheetManager:e},i){var n,s,o;let l=null;l=i.nodeName==="#document"?t.getId(i):t.getId(i.host);const d=i.nodeName==="#document"?(n=i.defaultView)===null||n===void 0?void 0:n.Document:(o=(s=i.ownerDocument)===null||s===void 0?void 0:s.defaultView)===null||o===void 0?void 0:o.ShadowRoot,a=d!=null&&d.prototype?Object.getOwnPropertyDescriptor(d==null?void 0:d.prototype,"adoptedStyleSheets"):void 0;return l!==null&&l!==-1&&d&&a?(Object.defineProperty(i,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){var c;return(c=a.get)===null||c===void 0?void 0:c.call(this)},set(c){var r;const u=(r=a.set)===null||r===void 0?void 0:r.call(this,c);if(l!==null&&l!==-1)try{e.adoptStyleSheets(c,l)}catch{}return u}}),Q(()=>{Object.defineProperty(i,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})})):()=>{}}function hr(t,e={}){const i=t.doc.defaultView;if(!i)return()=>{};let n;(function(g,f){const{mutationCb:y,mousemoveCb:S,mouseInteractionCb:G,scrollCb:N,viewportResizeCb:w,inputCb:K,mediaInteractionCb:L,styleSheetRuleCb:T,styleDeclarationCb:J,canvasMutationCb:k,fontCb:Z,selectionCb:V,customElementCb:v}=g;g.mutationCb=(...W)=>{f.mutation&&f.mutation(...W),y(...W)},g.mousemoveCb=(...W)=>{f.mousemove&&f.mousemove(...W),S(...W)},g.mouseInteractionCb=(...W)=>{f.mouseInteraction&&f.mouseInteraction(...W),G(...W)},g.scrollCb=(...W)=>{f.scroll&&f.scroll(...W),N(...W)},g.viewportResizeCb=(...W)=>{f.viewportResize&&f.viewportResize(...W),w(...W)},g.inputCb=(...W)=>{f.input&&f.input(...W),K(...W)},g.mediaInteractionCb=(...W)=>{f.mediaInteaction&&f.mediaInteaction(...W),L(...W)},g.styleSheetRuleCb=(...W)=>{f.styleSheetRule&&f.styleSheetRule(...W),T(...W)},g.styleDeclarationCb=(...W)=>{f.styleDeclaration&&f.styleDeclaration(...W),J(...W)},g.canvasMutationCb=(...W)=>{f.canvasMutation&&f.canvasMutation(...W),k(...W)},g.fontCb=(...W)=>{f.font&&f.font(...W),Z(...W)},g.selectionCb=(...W)=>{f.selection&&f.selection(...W),V(...W)},g.customElementCb=(...W)=>{f.customElement&&f.customElement(...W),v(...W)}})(t,e),t.recordDOM&&(n=Qn(t,t.doc));const s=function({mousemoveCb:g,sampling:f,doc:y,mirror:S}){if(f.mousemove===!1)return()=>{};const G=typeof f.mousemove=="number"?f.mousemove:50,N=typeof f.mousemoveCallback=="number"?f.mousemoveCallback:500;let w,K=[];const L=gt(Q(k=>{const Z=Date.now()-w;g(K.map(V=>(V.timeOffset-=Z,V)),k),K=[],w=null}),N),T=Q(gt(Q(k=>{const Z=yt(k),{clientX:V,clientY:v}=Gi(k)?k.changedTouches[0]:k;w||(w=Et()),K.push({x:V,y:v,id:S.getId(Z),timeOffset:Et()-w}),L(typeof DragEvent<"u"&&k instanceof DragEvent?D.Drag:k instanceof MouseEvent?D.MouseMove:D.TouchMove)}),G,{trailing:!1})),J=[be("mousemove",T,y),be("touchmove",T,y),be("drag",T,y)];return Q(()=>{J.forEach(k=>k())})}(t),o=ur(t),l=jn(t),d=function({viewportResizeCb:g},{win:f}){let y=-1,S=-1;return be("resize",Q(gt(Q(()=>{const G=Jn(),N=Un();y===G&&S===N||(g({width:Number(N),height:Number(G)}),y=G,S=N)}),200)),f)}(t,{win:i}),a=function({inputCb:g,doc:f,mirror:y,blockClass:S,blockSelector:G,ignoreClass:N,ignoreSelector:w,maskInputOptions:K,maskInputFn:L,sampling:T,userTriggeredOnInput:J}){function k(R){let Y=yt(R);const q=R.isTrusted,ee=Y&&Y.tagName;if(Y&&ee==="OPTION"&&(Y=Y.parentElement),!Y||!ee||pr.indexOf(ee)<0||me(Y,S,G,!0)||Y.classList.contains(N)||w&&Y.matches(w))return;let P=Y.value,M=!1;const Ie=Ii(Y)||"",Xe=Y.getAttribute("data-hl-record");Ie==="radio"||Ie==="checkbox"?M=Y.checked:Wn({maskInputOptions:K,type:Ie,tagName:ee,overwriteRecord:Xe})&&(P=Vi({element:Y,maskInputOptions:K,tagName:ee,type:Ie,value:P,overwriteRecord:Xe,maskInputFn:L})),Z(Y,J?{text:P,isChecked:M,userTriggered:q}:{text:P,isChecked:M});const F=Y.name;Ie==="radio"&&F&&M&&f.querySelectorAll(`input[type="radio"][name="${F}"]`).forEach(A=>{if(A!==Y){const de=A.value;Z(A,J?{text:de,isChecked:!M,userTriggered:!1}:{text:de,isChecked:!M})}})}function Z(R,Y){const q=_n.get(R);if(!q||q.text!==Y.text||q.isChecked!==Y.isChecked){_n.set(R,Y);const ee=y.getId(R);Q(g)(Object.assign(Object.assign({},Y),{id:ee}))}}const V=(T.input==="last"?["change"]:["input","change"]).map(R=>be(R,Q(k),f)),v=f.defaultView;if(!v)return()=>{V.forEach(R=>R())};const W=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),C=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return W&&W.set&&V.push(...C.map(R=>Ht(R[0],R[1],{set(){Q(k)({target:this,isTrusted:!1})}},!1,v))),Q(()=>{V.forEach(R=>R())})}(t),c=function({mediaInteractionCb:g,blockClass:f,blockSelector:y,mirror:S,sampling:G,doc:N}){const w=Q(L=>gt(Q(T=>{const J=yt(T);if(!J||me(J,f,y,!0))return;const{currentTime:k,volume:Z,muted:V,playbackRate:v}=J;g({type:L,id:S.getId(J),currentTime:k,volume:Z,muted:V,playbackRate:v})}),G.media||500)),K=[be("play",w(0),N),be("pause",w(1),N),be("seeked",w(2),N),be("volumechange",w(3),N),be("ratechange",w(4),N)];return Q(()=>{K.forEach(L=>L())})}(t);let r=()=>{},u=()=>{},p=()=>{},h=()=>{};t.recordDOM&&(r=function({styleSheetRuleCb:g,mirror:f,stylesheetManager:y},{win:S}){if(!S.CSSStyleSheet||!S.CSSStyleSheet.prototype)return()=>{};const G=S.CSSStyleSheet.prototype.insertRule;S.CSSStyleSheet.prototype.insertRule=new Proxy(G,{apply:Q((J,k,Z)=>{const[V,v]=Z,{id:W,styleId:C}=Ee(k,f,y.styleMirror);return(W&&W!==-1||C&&C!==-1)&&g({id:W,styleId:C,adds:[{rule:V,index:v}]}),J.apply(k,Z)})});const N=S.CSSStyleSheet.prototype.deleteRule;let w,K;S.CSSStyleSheet.prototype.deleteRule=new Proxy(N,{apply:Q((J,k,Z)=>{const[V]=Z,{id:v,styleId:W}=Ee(k,f,y.styleMirror);return(v&&v!==-1||W&&W!==-1)&&g({id:v,styleId:W,removes:[{index:V}]}),J.apply(k,Z)})}),S.CSSStyleSheet.prototype.replace&&(w=S.CSSStyleSheet.prototype.replace,S.CSSStyleSheet.prototype.replace=new Proxy(w,{apply:Q((J,k,Z)=>{const[V]=Z,{id:v,styleId:W}=Ee(k,f,y.styleMirror);return(v&&v!==-1||W&&W!==-1)&&g({id:v,styleId:W,replace:V}),J.apply(k,Z)})})),S.CSSStyleSheet.prototype.replaceSync&&(K=S.CSSStyleSheet.prototype.replaceSync,S.CSSStyleSheet.prototype.replaceSync=new Proxy(K,{apply:Q((J,k,Z)=>{const[V]=Z,{id:v,styleId:W}=Ee(k,f,y.styleMirror);return(v&&v!==-1||W&&W!==-1)&&g({id:v,styleId:W,replaceSync:V}),J.apply(k,Z)})}));const L={};zt("CSSGroupingRule")?L.CSSGroupingRule=S.CSSGroupingRule:(zt("CSSMediaRule")&&(L.CSSMediaRule=S.CSSMediaRule),zt("CSSConditionRule")&&(L.CSSConditionRule=S.CSSConditionRule),zt("CSSSupportsRule")&&(L.CSSSupportsRule=S.CSSSupportsRule));const T={};return Object.entries(L).forEach(([J,k])=>{T[J]={insertRule:k.prototype.insertRule,deleteRule:k.prototype.deleteRule},k.prototype.insertRule=new Proxy(T[J].insertRule,{apply:Q((Z,V,v)=>{const[W,C]=v,{id:R,styleId:Y}=Ee(V.parentStyleSheet,f,y.styleMirror);return(R&&R!==-1||Y&&Y!==-1)&&g({id:R,styleId:Y,adds:[{rule:W,index:[...Mt(V),C||0]}]}),Z.apply(V,v)})}),k.prototype.deleteRule=new Proxy(T[J].deleteRule,{apply:Q((Z,V,v)=>{const[W]=v,{id:C,styleId:R}=Ee(V.parentStyleSheet,f,y.styleMirror);return(C&&C!==-1||R&&R!==-1)&&g({id:C,styleId:R,removes:[{index:[...Mt(V),W]}]}),Z.apply(V,v)})})}),Q(()=>{S.CSSStyleSheet.prototype.insertRule=G,S.CSSStyleSheet.prototype.deleteRule=N,w&&(S.CSSStyleSheet.prototype.replace=w),K&&(S.CSSStyleSheet.prototype.replaceSync=K),Object.entries(L).forEach(([J,k])=>{k.prototype.insertRule=T[J].insertRule,k.prototype.deleteRule=T[J].deleteRule})})}(t,{win:i}),u=qn(t,t.doc),p=function({styleDeclarationCb:g,mirror:f,ignoreCSSAttributes:y,stylesheetManager:S},{win:G}){const N=G.CSSStyleDeclaration.prototype.setProperty;G.CSSStyleDeclaration.prototype.setProperty=new Proxy(N,{apply:Q((K,L,T)=>{var J;const[k,Z,V]=T;if(y.has(k))return N.apply(L,[k,Z,V]);const{id:v,styleId:W}=Ee((J=L.parentRule)===null||J===void 0?void 0:J.parentStyleSheet,f,S.styleMirror);return(v&&v!==-1||W&&W!==-1)&&g({id:v,styleId:W,set:{property:k,value:Z,priority:V},index:Mt(L.parentRule)}),K.apply(L,T)})});const w=G.CSSStyleDeclaration.prototype.removeProperty;return G.CSSStyleDeclaration.prototype.removeProperty=new Proxy(w,{apply:Q((K,L,T)=>{var J;const[k]=T;if(y.has(k))return w.apply(L,[k]);const{id:Z,styleId:V}=Ee((J=L.parentRule)===null||J===void 0?void 0:J.parentStyleSheet,f,S.styleMirror);return(Z&&Z!==-1||V&&V!==-1)&&g({id:Z,styleId:V,remove:{property:k},index:Mt(L.parentRule)}),K.apply(L,T)})}),Q(()=>{G.CSSStyleDeclaration.prototype.setProperty=N,G.CSSStyleDeclaration.prototype.removeProperty=w})}(t,{win:i}),t.collectFonts&&(h=function({fontCb:g,doc:f}){const y=f.defaultView;if(!y)return()=>{};const S=[],G=new WeakMap,N=y.FontFace;y.FontFace=function(K,L,T){const J=new N(K,L,T);return G.set(J,{family:K,buffer:typeof L!="string",descriptors:T,fontSource:typeof L=="string"?L:JSON.stringify(Array.from(new Uint8Array(L)))}),J};const w=tt(f.fonts,"add",function(K){return function(L){return setTimeout(Q(()=>{const T=G.get(L);T&&(g(T),G.delete(L))}),0),K.apply(this,[L])}});return S.push(()=>{y.FontFace=N}),S.push(w),Q(()=>{S.forEach(K=>K())})}(t)));const m=function(g){const{doc:f,mirror:y,blockClass:S,blockSelector:G,selectionCb:N}=g;let w=!0;const K=Q(()=>{const L=f.getSelection();if(!L||w&&L!=null&&L.isCollapsed)return;w=L.isCollapsed||!1;const T=[],J=L.rangeCount||0;for(let k=0;k<J;k++){const Z=L.getRangeAt(k),{startContainer:V,startOffset:v,endContainer:W,endOffset:C}=Z;me(V,S,G,!0)||me(W,S,G,!0)||T.push({start:y.getId(V),startOffset:v,end:y.getId(W),endOffset:C})}N({ranges:T})});return K(),be("selectionchange",K)}(t),b=function({doc:g,customElementCb:f}){const y=g.defaultView;return y&&y.customElements?tt(y.customElements,"define",function(S){return function(G,N,w){try{f({define:{name:G}})}catch{console.warn(`Custom element callback failed for ${G}`)}return S.apply(this,[G,N,w])}}):()=>{}}(t),I=[];for(const g of t.plugins)I.push(g.observer(g.callback,i,g.options));return Q(()=>{Oe.forEach(g=>g.reset()),n==null||n.disconnect(),s(),o(),l(),d(),a(),c(),r(),u(),p(),h(),m(),b(),I.forEach(g=>g())})}function Ot(t){return window[t]!==void 0}function zt(t){return!!(window[t]!==void 0&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class $n{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,i,n,s){const o=n||this.getIdToRemoteIdMap(e),l=s||this.getRemoteIdToIdMap(e);let d=o.get(i);return d||(d=this.generateIdFn(),o.set(i,d),l.set(d,i)),d}getIds(e,i){const n=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return i.map(o=>this.getId(e,o,n,s))}getRemoteId(e,i,n){const s=n||this.getRemoteIdToIdMap(e);return typeof i!="number"?i:s.get(i)||-1}getRemoteIds(e,i){const n=this.getRemoteIdToIdMap(e);return i.map(s=>this.getRemoteId(e,s,n))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let i=this.iframeIdToRemoteIdMap.get(e);return i||(i=new Map,this.iframeIdToRemoteIdMap.set(e,i)),i}getRemoteIdToIdMap(e){let i=this.iframeRemoteIdToIdMap.get(e);return i||(i=new Map,this.iframeRemoteIdToIdMap.set(e,i)),i}}class mr{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new $n(Rn),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new $n(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,i){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:i}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(n=this.loadListener)===null||n===void 0||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const i=e;if(i.data.type!=="rrweb"||i.origin!==i.data.origin)return;const n=e.source;if(!n)return;const s=this.crossOriginIframeMap.get(n);if(!s)return;const o=this.transformCrossOriginEvent(s,i.data.event);o&&this.wrappedEmit(o,i.data.isCheckout)}transformCrossOriginEvent(e,i){var n;switch(i.type){case j.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(i.data.node,e);const s=i.data.node.id;return this.crossOriginIframeRootIdMap.set(e,s),this.patchRootIdOnNode(i.data.node,s),{timestamp:i.timestamp,type:j.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:i.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case j.Meta:case j.Load:case j.DomContentLoaded:return!1;case j.Plugin:return i;case j.Custom:return this.replaceIds(i.data.payload,e,["id","parentId","previousId","nextId"]),i;case j.IncrementalSnapshot:switch(i.data.source){case D.Mutation:return i.data.adds.forEach(s=>{this.replaceIds(s,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,e);const o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(s.node,o)}),i.data.removes.forEach(s=>{this.replaceIds(s,e,["parentId","id"])}),i.data.attributes.forEach(s=>{this.replaceIds(s,e,["id"])}),i.data.texts.forEach(s=>{this.replaceIds(s,e,["id"])}),i;case D.Drag:case D.TouchMove:case D.MouseMove:return i.data.positions.forEach(s=>{this.replaceIds(s,e,["id"])}),i;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(i.data,e,["id"]),i;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(i.data,e,["id"]),this.replaceStyleIds(i.data,e,["styleId"]),i;case D.Font:return i;case D.Selection:return i.data.ranges.forEach(s=>{this.replaceIds(s,e,["start","end"])}),i;case D.AdoptedStyleSheet:return this.replaceIds(i.data,e,["id"]),this.replaceStyleIds(i.data,e,["styleIds"]),(n=i.data.styles)===null||n===void 0||n.forEach(s=>{this.replaceStyleIds(s,e,["styleId"])}),i}}return!1}replace(e,i,n,s){for(const o of s)(Array.isArray(i[o])||typeof i[o]=="number")&&(Array.isArray(i[o])?i[o]=e.getIds(n,i[o]):i[o]=e.getId(n,i[o]));return i}replaceIds(e,i,n){return this.replace(this.crossOriginIframeMirror,e,i,n)}replaceStyleIds(e,i,n){return this.replace(this.crossOriginIframeStyleMirror,e,i,n)}replaceIdOnNode(e,i){this.replaceIds(e,i,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,i)})}patchRootIdOnNode(e,i){e.type===$.Document||e.rootId||(e.rootId=i),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,i)})}}class br{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,i){if(!ht(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Qn(Object.assign(Object.assign({},this.bypassOptions),{doc:i,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(jn(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(qn({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,i){const n=this;this.restoreHandlers.push(tt(e.prototype,"attachShadow",function(s){return function(o){const l=s.call(this,o);return this.shadowRoot&&Mn(this)&&n.addShadowRoot(this.shadowRoot,i),l}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gr=typeof Uint8Array>"u"?[]:new Uint8Array(256),At=0;At<64;At++)gr[It.charCodeAt(At)]=At;const es=new Map,ts=(t,e,i)=>{if(!t||!ns(t,e)&&typeof t!="object")return;const n=function(o,l){let d=es.get(o);return d||(d=new Map,es.set(o,d)),d.has(l)||d.set(l,[]),d.get(l)}(i,t.constructor.name);let s=n.indexOf(t);return s===-1&&(s=n.length,n.push(t)),s};function Pt(t,e,i){if(t instanceof Array)return t.map(n=>Pt(n,e,i));if(t===null)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};if(t instanceof ArrayBuffer)return{rr_type:t.constructor.name,base64:function(n){var s,o=new Uint8Array(n),l=o.length,d="";for(s=0;s<l;s+=3)d+=It[o[s]>>2],d+=It[(3&o[s])<<4|o[s+1]>>4],d+=It[(15&o[s+1])<<2|o[s+2]>>6],d+=It[63&o[s+2]];return l%3==2?d=d.substring(0,d.length-1)+"=":l%3==1&&(d=d.substring(0,d.length-2)+"=="),d}(t)};if(t instanceof DataView)return{rr_type:t.constructor.name,args:[Pt(t.buffer,e,i),t.byteOffset,t.byteLength]};if(t instanceof HTMLImageElement){const n=t.constructor.name,{src:s}=t;return{rr_type:n,src:s}}return t instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:t.toDataURL()}:t instanceof ImageData?{rr_type:t.constructor.name,args:[Pt(t.data,e,i),t.width,t.height]}:ns(t,e)||typeof t=="object"?{rr_type:t.constructor.name,index:ts(t,e,i)}:t}const is=(t,e,i)=>t.map(n=>Pt(n,e,i)),ns=(t,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof e[i]=="function").find(i=>t instanceof e[i]);function ss(t,e,i,n){const s=[];try{const o=tt(t.HTMLCanvasElement.prototype,"getContext",function(l){return function(d,...a){if(!me(this,e,i,!0)){const c=function(r){return r==="experimental-webgl"?"webgl":r}(d);if("__context"in this||(this.__context=c),n&&["webgl","webgl2"].includes(c))if(a[0]&&typeof a[0]=="object"){const r=a[0];r.preserveDrawingBuffer||(r.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return l.apply(this,[d,...a])}});s.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(o=>o())}}function os(t,e,i,n,s,o,l){const d=[],a=Object.getOwnPropertyNames(t);for(const c of a)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if(typeof t[c]!="function")continue;const r=tt(t,c,function(u){return function(...p){const h=u.apply(this,p);if(ts(h,l,this),"tagName"in this.canvas&&!me(this.canvas,n,s,!0)){const m=is(p,l,this),b={type:e,property:c,args:m};i(this.canvas,b)}return h}});d.push(r)}catch{const u=Ht(t,c,{set(p){i(this.canvas,{type:e,property:c,args:[p],setter:!0})}});d.push(u)}return d}function Zr(t,e,i){var n=e===void 0?null:e,s=function(a,c){var r=atob(a);if(c){for(var u=new Uint8Array(r.length),p=0,h=r.length;p<h;++p)u[p]=r.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return r}(t,i!==void 0&&i),o=s.indexOf(`
`,10)+1,l=s.substring(o)+(n?"//# sourceMappingURL="+n:""),d=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(d)}var rs,ls,as,vi,yr=(rs="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4NCg0KICAgIFBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueQ0KICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC4NCg0KICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIDQogICAgUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZDQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULA0KICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTQ0KICAgIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SDQogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUg0KICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuDQogICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8NCg0KICAgIGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHsNCiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9DQogICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgew0KICAgICAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH0NCiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTsNCiAgICAgICAgfSk7DQogICAgfQoKICAgIC8qCiAgICAgKiBiYXNlNjQtYXJyYXlidWZmZXIgMS4wLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXI+CiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMjEgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPgogICAgICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2UKICAgICAqLwogICAgdmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nOwogICAgLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LgogICAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogICAgfQogICAgdmFyIGVuY29kZSA9IGZ1bmN0aW9uIChhcnJheWJ1ZmZlcikgewogICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJzsKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildOwogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdOwogICAgICAgIH0KICAgICAgICBpZiAobGVuICUgMyA9PT0gMikgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkgewogICAgICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9OwoKICAgIGNvbnN0IGxhc3RCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGNvbnN0IHRyYW5zcGFyZW50QmxvYk1hcCA9IG5ldyBNYXAoKTsNCiAgICBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7DQogICAgICAgICAgICBpZiAoJ09mZnNjcmVlbkNhbnZhcycgaW4gZ2xvYmFsVGhpcykgew0KICAgICAgICAgICAgICAgIGlmICh0cmFuc3BhcmVudEJsb2JNYXAuaGFzKGlkKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7DQogICAgICAgICAgICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoJzJkJyk7DQogICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IHlpZWxkIG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IHlpZWxkIGJsb2IuYXJyYXlCdWZmZXIoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOw0KICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U2NDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KICAgIGNvbnN0IHdvcmtlciA9IHNlbGY7DQogICAgbGV0IGxvZ0RlYnVnID0gZmFsc2U7DQogICAgY29uc3QgZGVidWcgPSAoLi4uYXJncykgPT4gew0KICAgICAgICBpZiAobG9nRGVidWcpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoLi4uYXJncyk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgbG9nRGVidWcgPSAhIWUuZGF0YS5sb2dEZWJ1ZzsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkeCwgZHksIGR3LCBkaCwgZGF0YVVSTE9wdGlvbnMgfSA9IGUuZGF0YTsNCiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc3BhcmVudEJhc2U2NCA9IGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJpdG1hcCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7DQogICAgICAgICAgICAgICAgYml0bWFwLmNsb3NlKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IHlpZWxkIG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gYmxvYi50eXBlOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgaWYgKCFsYXN0QmxvYk1hcC5oYXMoaWQpICYmICh5aWVsZCB0cmFuc3BhcmVudEJhc2U2NCkgPT09IGJhc2U2NCkgew0KICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgaXMgdHJhbnNwYXJlbnQnLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkLCBzdGF0dXM6ICd0cmFuc3BhcmVudCcgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpIHsNCiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ1toaWdobGlnaHQtd29ya2VyXSBjYW52YXMgYml0bWFwIGlzIHVuY2hhbmdlZCcsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0LA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkLCBzdGF0dXM6ICd1bmNoYW5nZWQnIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBkZWJ1ZygnW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgcHJvY2Vzc2VkJywgew0KICAgICAgICAgICAgICAgICAgICBpZCwNCiAgICAgICAgICAgICAgICAgICAgYmFzZTY0LA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIGlkLA0KICAgICAgICAgICAgICAgICAgICB0eXBlLA0KICAgICAgICAgICAgICAgICAgICBiYXNlNjQsDQogICAgICAgICAgICAgICAgICAgIHdpZHRoLA0KICAgICAgICAgICAgICAgICAgICBoZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIGR4LA0KICAgICAgICAgICAgICAgICAgICBkeSwNCiAgICAgICAgICAgICAgICAgICAgZHcsDQogICAgICAgICAgICAgICAgICAgIGRoLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIGRlYnVnKCdbaGlnaGxpZ2h0LXdvcmtlcl0gbm8gb2Zmc2NyZWVuY2FudmFzIHN1cHBvcnQnLCB7DQogICAgICAgICAgICAgICAgICAgIGlkOiBlLmRhdGEuaWQsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIHN0YXR1czogJ3Vuc3VwcG9ydGVkJyB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=",ls=null,as=!1,function(t){return vi=vi||Zr(rs,ls,as),new Worker(vi,t)});class Ir{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.snapshotInProgressMap=new Map,this.lastSnapshotTime=new Map,this.frozen=!1,this.locked=!1,this.processMutation=(r,u)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(r)||this.pendingCanvasMutations.set(r,[]),this.pendingCanvasMutations.get(r).push(u)},this.snapshot=r=>Ut(this,void 0,void 0,function*(){var u;this.debug(r,"starting snapshotting");const p=this.mirror.getId(r);if(this.snapshotInProgressMap.get(p))this.debug(r,"snapshotting already in progress for",p);else{this.snapshotInProgressMap.set(p,!0);try{if(this.options.clearWebGLBuffer!==!1&&["webgl","webgl2"].includes(r.__context)){const g=r.getContext(r.__context);((u=g==null?void 0:g.getContextAttributes())===null||u===void 0?void 0:u.preserveDrawingBuffer)===!1&&(g.clear(g==null?void 0:g.COLOR_BUFFER_BIT),this.debug(r,"cleared webgl canvas to load it into memory",{attributes:g==null?void 0:g.getContextAttributes()}))}if(r.width===0||r.height===0)return void this.debug(r,"not yet ready",{width:r.width,height:r.height});let h=this.options.resizeFactor||1;if(this.options.maxSnapshotDimension){const g=Math.max(r.width,r.height);h=Math.min(h,this.options.maxSnapshotDimension/g)}const m=r.width*h,b=r.height*h,I=yield createImageBitmap(r,{resizeWidth:m,resizeHeight:b});this.debug(r,"created image bitmap",{width:I.width,height:I.height}),this.worker.postMessage({id:p,bitmap:I,width:m,height:b,dx:0,dy:0,dw:r.width,dh:r.height,dataURLOptions:this.options.dataURLOptions,logDebug:!!this.logger},[I]),this.debug(r,"sent message")}catch(h){this.debug(r,"failed to snapshot",h)}finally{this.snapshotInProgressMap.set(p,!1)}}});const{sampling:i,win:n,blockClass:s,blockSelector:o,recordCanvas:l,recordVideos:d,initialSnapshotDelay:a,dataURLOptions:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.logger=e.logger,this.worker=new yr,this.worker.onmessage=r=>{const{id:u}=r.data;if(this.snapshotInProgressMap.set(u,!1),!("base64"in r.data))return void this.debug(null,"canvas worker received empty message",{data:r.data,status:r.data.status});const{base64:p,type:h,dx:m,dy:b,dw:I,dh:g}=r.data;this.mutationCb({id:u,type:it["2D"],commands:[{property:"clearRect",args:[m,b,I,g]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:p}],type:h}]},m,b,I,g]}]})},this.options=e,l&&i==="all"?(this.debug(null,"initializing canvas mutation observer",{sampling:i}),this.initCanvasMutationObserver(n,s,o)):l&&typeof i=="number"&&(this.debug(null,"initializing canvas fps observer",{sampling:i}),this.initCanvasFPSObserver(d,i,n,s,o,{initialSnapshotDelay:a,dataURLOptions:c},e.resizeFactor,e.maxSnapshotDimension))}debug(e,...i){if(!this.logger)return;const n=this.mirror.getId(e);let s="[highlight-canvas-manager]";e&&(s=`[highlight-canvas] [id:${n}]`,e.tagName.toLowerCase()==="canvas"&&(s+=` [ctx:${e.__context}]`)),this.logger.debug(s,e,...i)}initCanvasFPSObserver(e,i,n,s,o,l,d,a){const c=ss(n,s,o,!0),r=1e3/i;let u,p=0;const h=new Map,m=g=>{const f=[];return n.document.querySelectorAll("canvas").forEach(y=>{if(!me(y,s,o,!0)){this.debug(y,"discovered canvas"),f.push(y);const S=this.mirror.getId(y);h.has(S)||h.set(S,g)}}),f},b=g=>{const f=[];return e&&n.document.querySelectorAll("video").forEach(y=>{if((y.src===""||y.src.indexOf("blob:")!==-1)&&!me(y,s,o,!0)){f.push(y);const S=this.mirror.getId(y);h.has(S)||h.set(S,g)}}),f},I=g=>Ut(this,void 0,void 0,function*(){if(p&&g-p<r)return void(u=requestAnimationFrame(I));p=g;const f=S=>{const G=this.mirror.getId(S),N=h.get(G),w=!l.initialSnapshotDelay||g-N>l.initialSnapshotDelay;return this.debug(S,{delay:l.initialSnapshotDelay,delta:g-N,hadLoadingTime:w}),w},y=[];y.push(...m(g).filter(f).map(this.snapshot)),y.push(...b(g).filter(f).map(S=>Ut(this,void 0,void 0,function*(){this.debug(S,"starting video snapshotting");const G=this.mirror.getId(S);if(this.snapshotInProgressMap.get(G))this.debug(S,"video snapshotting already in progress for",G);else{this.snapshotInProgressMap.set(G,!0);try{const{width:N,height:w}=S.getBoundingClientRect(),{actualWidth:K,actualHeight:L}={actualWidth:S.videoWidth,actualHeight:S.videoHeight},T=Math.max(K,L);let J=d||1;a&&(J=Math.min(J,a/T));const k=K*J,Z=L*J,V=yield createImageBitmap(S,{resizeWidth:k,resizeHeight:Z});let v=Math.max(N,w)/T;const W=K*v,C=L*v,R=(N-W)/2,Y=(w-C)/2;this.debug(S,"created image bitmap",{actualWidth:K,actualHeight:L,boxWidth:N,boxHeight:w,outputWidth:W,outputHeight:C,resizeWidth:k,resizeHeight:Z,scale:J,outputScale:v,offsetX:R,offsetY:Y}),this.worker.postMessage({id:G,bitmap:V,width:k,height:Z,dx:R,dy:Y,dw:W,dh:C,dataURLOptions:l.dataURLOptions,logDebug:!!this.logger},[V]),this.debug(S,"send message")}catch(N){this.debug(S,"failed to snapshot",N)}finally{this.snapshotInProgressMap.set(G,!1)}}}))),yield Promise.all(y).catch(console.error),u=requestAnimationFrame(I)});u=requestAnimationFrame(I),this.resetObservers=()=>{c(),u&&cancelAnimationFrame(u)}}initCanvasMutationObserver(e,i,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const s=ss(e,i,n,!1),o=function(d,a,c,r){const u=[],p=Object.getOwnPropertyNames(a.CanvasRenderingContext2D.prototype);for(const h of p)try{if(typeof a.CanvasRenderingContext2D.prototype[h]!="function")continue;const m=tt(a.CanvasRenderingContext2D.prototype,h,function(b){return function(...I){return me(this.canvas,c,r,!0)||setTimeout(()=>{const g=is(I,a,this);d(this.canvas,{type:it["2D"],property:h,args:g})},0),b.apply(this,I)}});u.push(m)}catch{const b=Ht(a.CanvasRenderingContext2D.prototype,h,{set(I){d(this.canvas,{type:it["2D"],property:h,args:[I],setter:!0})}});u.push(b)}return()=>{u.forEach(h=>h())}}(this.processMutation.bind(this),e,i,n),l=function(d,a,c,r,u){const p=[];return p.push(...os(a.WebGLRenderingContext.prototype,it.WebGL,d,c,r,0,a)),a.WebGL2RenderingContext!==void 0&&p.push(...os(a.WebGL2RenderingContext.prototype,it.WebGL2,d,c,r,0,a)),()=>{p.forEach(h=>h())}}(this.processMutation.bind(this),e,i,n);this.resetObservers=()=>{s(),o(),l()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=i=>{this.rafStamps.latestId=i,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,i)=>{const n=this.mirror.getId(i);this.flushPendingCanvasMutationFor(i,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,i){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||i===-1)return;const s=n.map(l=>function(d,a){var c={};for(var r in d)Object.prototype.hasOwnProperty.call(d,r)&&a.indexOf(r)<0&&(c[r]=d[r]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(r=Object.getOwnPropertySymbols(d);u<r.length;u++)a.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(d,r[u])&&(c[r[u]]=d[r[u]])}return c}(l,["type"])),{type:o}=n[0];this.mutationCb({id:i,type:o,commands:s}),this.pendingCanvasMutations.delete(e)}}class fr{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new lr,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,i){"_cssText"in i.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:i.id,attributes:i.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,i){if(e.length===0)return;const n={id:i,styleIds:[]},s=[];for(const o of e){let l;this.styleMirror.has(o)?l=this.styleMirror.getId(o):(l=this.styleMirror.add(o),s.push({styleId:l,rules:Array.from(o.rules||CSSRule,(d,a)=>({rule:Sn(d),index:a}))})),n.styleIds.push(l)}s.length>0&&(n.styles=s),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Sr{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,i){const n=this.nodeMap.get(e);return n&&Array.from(n).some(s=>s!==i)}add(e,i){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(i))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function re(t){return Object.assign(Object.assign({},t),{timestamp:Et()})}let ne,Bt,ft,Dt=!1;const ve=new Vn;function xe(t={}){var e,i,n,s,o,l,d,a;const{emit:c,checkoutEveryNms:r,checkoutEveryNth:u,blockClass:p="highlight-block",blockSelector:h=null,ignoreClass:m="highlight-ignore",ignoreSelector:b=null,maskTextClass:I="highlight-mask",maskTextSelector:g=null,inlineStylesheet:f=!0,maskAllInputs:y,maskInputOptions:S,slimDOMOptions:G,maskInputFn:N,maskTextFn:w=fi,hooks:K,packFn:L,sampling:T={},mousemoveWait:J,recordDOM:k=!0,recordCanvas:Z=!1,recordCrossOriginIframes:V=!1,recordAfter:v=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:W=!1,collectFonts:C=!1,inlineImages:R=!1,plugins:Y,keepIframeSrcFn:q=()=>!1,privacySetting:ee="default",ignoreCSSAttributes:P=new Set([]),errorHandler:M,logger:Ie}=t,Xe=Object.assign(Object.assign({},t.dataURLOptions),(i=(e=t.sampling)===null||e===void 0?void 0:e.canvas)===null||i===void 0?void 0:i.dataURLOptions);Zt=M;const F=!V||window.parent===window;let A=!1;if(!F)try{window.parent.document&&(A=!1)}catch{A=!0}if(F&&!c)throw new Error("emit function is required");J!==void 0&&T.mousemove===void 0&&(T.mousemove=J),ve.reset();const de=y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:S!==void 0?S:{password:!0},Le=G===!0||G==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:G==="all",headMetaDescKeywords:G==="all"}:G||{};let dt;(function(E=window){"NodeList"in E&&!E.NodeList.prototype.forEach&&(E.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in E&&!E.DOMTokenList.prototype.forEach&&(E.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...fe)=>{let _=fe[0];if(!(0 in fe))throw new TypeError("1 argument is required");do if(this===_)return!0;while(_=_&&_.parentNode);return!1})})();let wt=0;const mi=E=>{for(const fe of Y||[])fe.eventProcessor&&(E=fe.eventProcessor(E));return L&&!A&&(E=L(E)),E};ne=(E,fe)=>{var _;if(!(!((_=Oe[0])===null||_===void 0)&&_.isFrozen())||E.type===j.FullSnapshot||E.type===j.IncrementalSnapshot&&E.data.source===D.Mutation||Oe.forEach(he=>he.unfreeze()),F)c==null||c(mi(E),fe);else if(A){const he={type:"rrweb",event:mi(E),origin:window.location.origin,isCheckout:fe};window.parent.postMessage(he,"*")}if(E.type===j.FullSnapshot)dt=E,wt=0;else if(E.type===j.IncrementalSnapshot){if(E.data.source===D.Mutation&&E.data.isAttachIframe)return;wt++;const he=u&&wt>=u,Ke=r&&E.timestamp-dt.timestamp>r;(he||Ke)&&Bt(!0)}};const bi=E=>{ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.Mutation},E)}))},zo=E=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.Scroll},E)})),Ao=E=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.CanvasMutation},E)})),Qe=new fr({mutationCb:bi,adoptedStyleSheetCb:E=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.AdoptedStyleSheet},E)}))}),je=new mr({mirror:ve,mutationCb:bi,stylesheetManager:Qe,recordCrossOriginIframes:V,wrappedEmit:ne});for(const E of Y||[])E.getMirror&&E.getMirror({nodeMirror:ve,crossOriginIframeMirror:je.crossOriginIframeMirror,crossOriginIframeStyleMirror:je.crossOriginIframeStyleMirror});const bn=new Sr;ft=new Ir({recordCanvas:Z,recordVideos:R,mutationCb:Ao,win:window,blockClass:p,blockSelector:h,mirror:ve,sampling:(n=T==null?void 0:T.canvas)===null||n===void 0?void 0:n.fps,samplingManual:(s=T==null?void 0:T.canvas)===null||s===void 0?void 0:s.fpsManual,clearWebGLBuffer:(o=T==null?void 0:T.canvas)===null||o===void 0?void 0:o.clearWebGLBuffer,initialSnapshotDelay:(l=T==null?void 0:T.canvas)===null||l===void 0?void 0:l.initialSnapshotDelay,dataURLOptions:Xe,resizeFactor:(d=T==null?void 0:T.canvas)===null||d===void 0?void 0:d.resizeFactor,maxSnapshotDimension:(a=T==null?void 0:T.canvas)===null||a===void 0?void 0:a.maxSnapshotDimension,logger:Ie});const gi=new br({mutationCb:bi,scrollCb:zo,bypassOptions:{blockClass:p,blockSelector:h,maskTextClass:I,maskTextSelector:g,inlineStylesheet:f,maskInputOptions:de,dataURLOptions:Xe,maskTextFn:w,maskInputFn:N,recordCanvas:Z,inlineImages:R,privacySetting:ee,sampling:T,slimDOMOptions:Le,iframeManager:je,stylesheetManager:Qe,canvasManager:ft,keepIframeSrcFn:q,processedNodeManager:bn},mirror:ve});Bt=(E=!1)=>{if(!k)return;ne(re({type:j.Meta,data:{href:window.location.href,width:Un(),height:Jn()}}),E),Qe.reset(),gi.init(),Oe.forEach(_=>_.lock());const fe=function(_,he){const{mirror:Ke=new Vn,blockClass:te="highlight-block",blockSelector:Tt=null,maskTextClass:ca="highlight-mask",maskTextSelector:da=null,inlineStylesheet:ua=!0,inlineImages:pa=!1,recordCanvas:ha=!1,maskAllInputs:gn=!1,maskTextFn:ma,maskInputFn:ba,slimDOM:Zi=!1,dataURLOptions:ga,preserveWhiteSpace:Za,onSerialize:ya,onIframeLoad:Ia,iframeLoadTimeout:fa,onStylesheetLoad:Sa,stylesheetLoadTimeout:Va,keepIframeSrcFn:Xa=()=>!1,privacySetting:Ca="default"}=he||{};return $e(_,{doc:_,mirror:Ke,blockClass:te,blockSelector:Tt,maskTextClass:ca,maskTextSelector:da,skipChild:!1,inlineStylesheet:ua,maskInputOptions:gn===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:gn===!1?{password:!0}:gn,maskTextFn:ma,maskInputFn:ba,slimDOMOptions:Zi||Zi==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:Zi==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:Zi||{},dataURLOptions:ga,inlineImages:pa,recordCanvas:ha,preserveWhiteSpace:Za,onSerialize:ya,onIframeLoad:Ia,iframeLoadTimeout:fa,onStylesheetLoad:Sa,stylesheetLoadTimeout:Va,keepIframeSrcFn:Xa,newlyAddedElement:!1,privacySetting:Ca})}(document,{mirror:ve,blockClass:p,blockSelector:h,maskTextClass:I,maskTextSelector:g,inlineStylesheet:f,maskAllInputs:de,maskTextFn:w,slimDOM:Le,dataURLOptions:Xe,recordCanvas:Z,inlineImages:R,privacySetting:ee,onSerialize:_=>{Fn(_,ve)&&je.addIframe(_),Hn(_,ve)&&Qe.trackLinkElement(_),Wi(_)&&gi.addShadowRoot(_.shadowRoot,document)},onIframeLoad:(_,he)=>{je.attachIframe(_,he),gi.observeAttachShadow(_)},onStylesheetLoad:(_,he)=>{Qe.attachLinkElement(_,he)},keepIframeSrcFn:q});if(!fe)return console.warn("Failed to snapshot the document");ne(re({type:j.FullSnapshot,data:{node:fe,initialOffset:xn(window)}}),E),Oe.forEach(_=>_.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Qe.adoptStyleSheets(document.adoptedStyleSheets,ve.getId(document))};try{const E=[],fe=he=>{var Ke;return Q(hr)({mutationCb:bi,mousemoveCb:(te,Tt)=>ne(re({type:j.IncrementalSnapshot,data:{source:Tt,positions:te}})),mouseInteractionCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.MouseInteraction},te)})),scrollCb:zo,viewportResizeCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.ViewportResize},te)})),inputCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.Input},te)})),mediaInteractionCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.MediaInteraction},te)})),styleSheetRuleCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.StyleSheetRule},te)})),styleDeclarationCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.StyleDeclaration},te)})),canvasMutationCb:Ao,fontCb:te=>ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.Font},te)})),selectionCb:te=>{ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.Selection},te)}))},customElementCb:te=>{ne(re({type:j.IncrementalSnapshot,data:Object.assign({source:D.CustomElement},te)}))},blockClass:p,ignoreClass:m,ignoreSelector:b,maskTextClass:I,maskTextSelector:g,maskInputOptions:de,inlineStylesheet:f,sampling:T,recordDOM:k,recordCanvas:Z,inlineImages:R,userTriggeredOnInput:W,collectFonts:C,doc:he,maskInputFn:N,maskTextFn:w,keepIframeSrcFn:q,blockSelector:h,slimDOMOptions:Le,dataURLOptions:Xe,mirror:ve,iframeManager:je,stylesheetManager:Qe,shadowDomManager:gi,processedNodeManager:bn,canvasManager:ft,ignoreCSSAttributes:P,privacySetting:ee,plugins:((Ke=Y==null?void 0:Y.filter(te=>te.observer))===null||Ke===void 0?void 0:Ke.map(te=>({observer:te.observer,options:te.options,callback:Tt=>ne(re({type:j.Plugin,data:{plugin:te.name,payload:Tt}}))})))||[]},K)};je.addLoadListener(he=>{try{E.push(fe(he.contentDocument))}catch(Ke){console.warn(Ke)}});const _=()=>{Bt(),E.push(fe(document)),Dt=!0};return document.readyState==="interactive"||document.readyState==="complete"?_():(E.push(be("DOMContentLoaded",()=>{ne(re({type:j.DomContentLoaded,data:{}})),v==="DOMContentLoaded"&&_()})),E.push(be("load",()=>{ne(re({type:j.Load,data:{}})),v==="load"&&_()},window))),()=>{E.forEach(he=>he()),bn.destroy(),Dt=!1,Zt=void 0}}catch(E){console.warn(E)}}xe.addCustomEvent=(t,e)=>{Dt&&ne(re({type:j.Custom,data:{tag:t,payload:e}}))},xe.freezePage=()=>{Oe.forEach(t=>t.freeze())},xe.takeFullSnapshot=t=>{if(!Dt)throw new Error("please take full snapshot after start recording");Bt(t)},xe.snapshotCanvas=t=>Ut(void 0,void 0,void 0,function*(){if(!ft)throw new Error("canvas manager is not initialized");yield ft.snapshot(t)}),xe.mirror=ve;const{addCustomEvent:cs}=xe,ds={key:"_sid"},Vr=t=>{const e=t?Object.assign({},ds,t):ds;let i=0;return{name:"rrweb/sequential-id@1",eventProcessor:n=>(Object.assign(n,{[e.key]:++i}),n),options:e}};function Xr(t){if(!t||!t.outerHTML)return"";let e="";for(;t.parentElement;){let i=t.localName;if(!i)break;i=i.toLowerCase();let n=t.parentElement,s=[];if(n.children&&n.children.length>0)for(let o=0;o<n.children.length;o++){let l=n.children[o];l.localName&&l.localName.toLowerCase&&l.localName.toLowerCase()===i&&s.push(l)}s.length>1&&(i+=":eq("+s.indexOf(t)+")"),e=i+(e?">"+e:""),t=n}return e}function ki(t){return Object.prototype.toString.call(t)==="[object Object]"}function us(t,e){if(e===0)return!0;const i=Object.keys(t);for(const n of i)if(ki(t[n])&&us(t[n],e-1))return!0;return!1}function Ni(t,e){const i={numOfKeysLimit:50,depthOfLimit:4};Object.assign(i,e);const n=[],s=[];return JSON.stringify(t,function(o,l){if(n.length>0){const d=n.indexOf(this);~d?n.splice(d+1):n.push(this),~d?s.splice(d,1/0,o):s.push(o),~n.indexOf(l)&&(l=n[0]===l?"[Circular ~]":"[Circular ~."+s.slice(0,n.indexOf(l)).join(".")+"]")}else n.push(l);if(l==null)return l;if(function(d){return ki(d)&&Object.keys(d).length>i.numOfKeysLimit||typeof d=="function"?!0:d instanceof Event&&d.isTrusted===!1?Object.keys(d).length===1:!!(ki(d)&&us(d,i.depthOfLimit))}(l))return function(d){let a=d.toString();return i.stringLengthLimit&&a.length>i.stringLengthLimit&&(a=`${a.slice(0,i.stringLengthLimit)}...`),a}(l);if(l instanceof Event){const d={};for(const a in l){const c=l[a];Array.isArray(c)?d[a]=Xr(c.length?c[0]:null):d[a]=c}return d}return l instanceof Node?l instanceof HTMLElement?l?l.outerHTML:"":l.nodeName:l instanceof Error?l.name+": "+l.message:l})}var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Zn<"u"?Zn:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ps,ze,hs,wi,ms,bs={exports:{}},gs={exports:{}};function Ti(){return ps||(ps=1,gs.exports=function(){function t(h){return!isNaN(parseFloat(h))&&isFinite(h)}function e(h){return h.charAt(0).toUpperCase()+h.substring(1)}function i(h){return function(){return this[h]}}var n=["isConstructor","isEval","isNative","isToplevel"],s=["columnNumber","lineNumber"],o=["fileName","functionName","source"],l=["args"],d=["evalOrigin"],a=n.concat(s,o,l,d);function c(h){if(h)for(var m=0;m<a.length;m++)h[a[m]]!==void 0&&this["set"+e(a[m])](h[a[m]])}c.prototype={getArgs:function(){return this.args},setArgs:function(h){if(Object.prototype.toString.call(h)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=h},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(h){if(h instanceof c)this.evalOrigin=h;else{if(!(h instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new c(h)}},toString:function(){var h=this.getFileName()||"",m=this.getLineNumber()||"",b=this.getColumnNumber()||"",I=this.getFunctionName()||"";return this.getIsEval()?h?"[eval] ("+h+":"+m+":"+b+")":"[eval]:"+m+":"+b:I?I+" ("+h+":"+m+":"+b+")":h+":"+m+":"+b}},c.fromString=function(h){var m=h.indexOf("("),b=h.lastIndexOf(")"),I=h.substring(0,m),g=h.substring(m+1,b).split(","),f=h.substring(b+1);if(f.indexOf("@")===0)var y=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(f,""),S=y[1],G=y[2],N=y[3];return new c({functionName:I,args:g||void 0,fileName:S,lineNumber:G||void 0,columnNumber:N||void 0})};for(var r=0;r<n.length;r++)c.prototype["get"+e(n[r])]=i(n[r]),c.prototype["set"+e(n[r])]=function(h){return function(m){this[h]=!!m}}(n[r]);for(var u=0;u<s.length;u++)c.prototype["get"+e(s[u])]=i(s[u]),c.prototype["set"+e(s[u])]=function(h){return function(m){if(!t(m))throw new TypeError(h+" must be a Number");this[h]=Number(m)}}(s[u]);for(var p=0;p<o.length;p++)c.prototype["get"+e(o[p])]=i(o[p]),c.prototype["set"+e(o[p])]=function(h){return function(m){this[h]=String(m)}}(o[p]);return c}()),gs.exports}bs.exports=(ze=Ti(),hs=/(^|@)\S+:\d+/,wi=/^\s*at .*(\S+:\d+|\(native\))/m,ms=/^(eval@)?(\[native code])?$/,{parse:function(t){if(t.stacktrace!==void 0||t["opera#sourceloc"]!==void 0)return this.parseOpera(t);if(t.stack&&t.stack.match(wi))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(t.indexOf(":")===-1)return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(t){return t.stack.split(`
`).filter(function(e){return!!e.match(wi)},this).map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var i=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=i.match(/ (\((.+):(\d+):(\d+)\)$)/),s=(i=n?i.replace(n[0],""):i).split(/\s+/).slice(1),o=this.extractLocation(n?n[1]:s.pop()),l=s.join(" ")||void 0,d=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new ze({functionName:l,fileName:d,lineNumber:o[1],columnNumber:o[2],source:e})},this)},parseFFOrSafari:function(t){return t.stack.split(`
`).filter(function(e){return!e.match(ms)},this).map(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),e.indexOf("@")===-1&&e.indexOf(":")===-1)return new ze({functionName:e});var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(i),s=n&&n[1]?n[1]:void 0,o=this.extractLocation(e.replace(i,""));return new ze({functionName:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf(`
`)>-1&&t.message.split(`
`).length>t.stacktrace.split(`
`).length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split(`
`),n=[],s=2,o=i.length;s<o;s+=2){var l=e.exec(i[s]);l&&n.push(new ze({fileName:l[2],lineNumber:l[1],source:i[s]}))}return n},parseOpera10:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split(`
`),n=[],s=0,o=i.length;s<o;s+=2){var l=e.exec(i[s]);l&&n.push(new ze({functionName:l[3]||void 0,fileName:l[2],lineNumber:l[1],source:i[s]}))}return n},parseOpera11:function(t){return t.stack.split(`
`).filter(function(e){return!!e.match(hs)&&!e.match(/^Error created at/)},this).map(function(e){var i,n=e.split("@"),s=this.extractLocation(n.pop()),o=n.shift()||"",l=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(i=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var d=i===void 0||i==="[arguments not available]"?void 0:i.split(",");return new ze({functionName:l,args:d,fileName:s[0],lineNumber:s[1],columnNumber:s[2],source:e})},this)}});var Zs=bs.exports;const St=Qt(Zs);function Gr(t,e){const i=e.logger;if(!i)return()=>{};let n;n=typeof i=="string"?window[i]:i;const s=[];if(e.level.includes("error")&&window){const l=d=>{const{message:a,error:c}=d;let r=[];c&&(r=St.parse(c));const u=[Ni(a,e.stringifyOptions)];t({type:"Error",trace:r,time:Date.now(),value:u})};window.addEventListener("error",l),s.push(()=>{window&&window.removeEventListener("error",l)})}for(const l of e.level)s.push(o(n,l));return()=>{s.forEach(l=>l())};function o(l,d){return l[d]?function(a,c,r){try{if(!(c in a))return()=>{};const u=a[c],p=r(u);return typeof p=="function"&&(p.prototype=p.prototype||{},Object.defineProperties(p,{__rrweb_original__:{enumerable:!1,value:u}})),a[c]=p,()=>{a[c]=u}}catch{return()=>{}}}(l,d,a=>(...c)=>{a.apply(this,c);try{const r=St.parse(new Error),u=e.serializeConsoleAttributes?c.map(p=>typeof p=="object"?Ni(p,e.stringifyOptions):p):c.filter(p=>typeof p!="object").map(p=>`${p}`);t({type:d,trace:r.slice(1),value:u,attributes:Ni(c.filter(p=>typeof p=="object").reduce((p,h)=>z(z({},p),h),{}),e.stringifyOptions),time:Date.now()})}catch(r){a("highlight logger error:",r,...c)}}):()=>{}}}var ys={exports:{}};(function(t,e){function i(n,s){var o=[],l=[];return s==null&&(s=function(d,a){return o[0]===a?"[Circular ~]":"[Circular ~."+l.slice(0,o.indexOf(a)).join(".")+"]"}),function(d,a){if(o.length>0){var c=o.indexOf(this);~c?o.splice(c+1):o.push(this),~c?l.splice(c,1/0,d):l.push(d),~o.indexOf(a)&&(a=s.call(this,d,a))}else o.push(a);return n==null?a:n.call(this,d,a)}}(t.exports=function(n,s,o,l){return JSON.stringify(n,i(s,l),o)}).getSerialize=i})(ys);const Ae=Qt(ys.exports);function Li(t,e,i,n){var s,o,l,d;let a=[];try{a=St.parse(n??e)}catch{a=St.parse(new Error)}let c={};e instanceof Error&&(e=e.message).cause&&(c={"exception.cause":e.cause});const r=Rr(a);t({event:Ae(e),type:"window.onerror",url:window.location.href,source:i??"",lineNumber:(s=r[0])!=null&&s.lineNumber?(o=r[0])==null?void 0:o.lineNumber:0,columnNumber:(l=r[0])!=null&&l.columnNumber?(d=r[0])==null?void 0:d.columnNumber:0,stackTrace:r,timestamp:new Date().toISOString(),payload:c?Ae(c):void 0})}const Wr=(t,{enablePromisePatch:e})=>{if(typeof window>"u")return()=>{};const i=window.onerror=(l,d,a,c,r)=>{Li(t,l,d,r)},n=window.onunhandledrejection=l=>{if(l.reason){const d=l.promise;d.getStack?Li(t,l.reason,l.type,d.getStack()):Li(t,l.reason,l.type)}},s=window.Promise,o=class extends s{constructor(l){super(l),x(this,"promiseCreationError"),this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const l=window.Zone===void 0;return e&&l}};return o.shouldPatch()&&(window.Promise=o),()=>{window.Promise=s,window.onunhandledrejection=n,window.onerror=i}},Rr=t=>{var e,i;if(t.length===0)return t;const n=t[0];return(e=n.fileName)!=null&&e.includes("highlight.run")||(i=n.fileName)!=null&&i.includes("highlight.io")||n.functionName==="new highlightPromise"?t.slice(1):t},vr=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var Vt=(t=>(t.DeviceMemory="DeviceMemory",t.ViewportHeight="ViewportHeight",t.ViewportWidth="ViewportWidth",t.ViewportArea="ViewportArea",t))(Vt||{}),Ne=(t=>(t.Device="Device",t.WebVital="WebVital",t.Performance="Performance",t.Frontend="Frontend",t.Backend="Backend",t))(Ne||{});const Is=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],fs=["websocket error",'\\"ResizeObserver loop'],Ss=(t,e,i)=>{const n=kr(e,t.headers,i);return Ye(z({},t),{headers:n})},kr=(t,e,i)=>{var n,s;const o=z({},e);return i?((n=Object.keys(o))==null||n.forEach(l=>{[...i].includes(l==null?void 0:l.toLowerCase())||(o[l]="[REDACTED]")}),o):((s=Object.keys(o))==null||s.forEach(l=>{[...Nr,...t].includes(l==null?void 0:l.toLowerCase())&&(o[l]="[REDACTED]")}),o)},Nr=["authorization","cookie","proxy-authorization","token"],wr=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],Vs="X-Highlight-Request",Xs=t=>{let e=t;return t.startsWith("https://")||t.startsWith("http://")||(e=`${window.location.origin}${e}`),e.replace(/\/+$/,"")},Cs=(t,e,i,n)=>{t.sort((d,a)=>d.responseEnd-a.responseEnd);const s=t.reduce((d,a)=>{const c=Xs(a.name);return a.initiatorType===i?d[i][c]=[...d[i][c]||[],a]:d.others[c]=[...d.others[c]||[],a],d},{xmlhttprequest:{},others:{},fetch:{}});let o={};o=e.reduce((d,a)=>{const c=Xs(a.request.url);return d[c]=[...d[c]||[],a],d},o);for(let d in s[i]){const a=s[i][d],c=o[d];if(!c)continue;const r=Math.max(a.length-c.length,0);for(let u=r;u<a.length;u++)a[u]&&(a[u].requestResponsePair=c[u-r])}let l=[];for(let d in s)for(let a in s[d])l=l.concat(s[d][a]);return l.sort((d,a)=>d.fetchStart-a.fetchStart).reduce((d,a)=>{let c=a.requestResponsePair;return c&&(c=((r,{headersToRedact:u,headersToRecord:p,requestResponseSanitizer:h})=>{var m,b;let I=r;if(h){let G=!0;try{I.request.body=JSON.parse(I.request.body)}catch{G=!1}let N=!0;try{I.response.body=JSON.parse(I.response.body)}catch{N=!1}try{I=h(I)}catch{}finally{G=G&&!!((m=I==null?void 0:I.request)!=null&&m.body),N=N&&!!((b=I==null?void 0:I.response)!=null&&b.body),G&&(I.request.body=JSON.stringify(I.request.body)),N&&(I.response.body=JSON.stringify(I.response.body))}if(!I)return null}const g=I,{request:f,response:y}=g,S=Fe(g,["request","response"]);return z({request:Ss(f,u,p),response:Ss(y,u,p)},S)})(a.requestResponsePair,n),!c)||(a.toJSON=function(){return{initiatorType:this.initiatorType,startTimeAbs:window.performance.timeOrigin+this.startTime,responseEndAbs:window.performance.timeOrigin+this.responseEnd,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,requestResponsePairs:c}},d.push(a)),d},[])},xi=(t,e,i)=>{return s=e,!((n=t).toLocaleLowerCase().includes("https://pub.highlight.run")||n.toLocaleLowerCase().includes("highlight.io")||n.toLocaleLowerCase().includes(s))||Ji(t,i);var n,s},Ji=(t,e)=>{var i;let n=[];e===!0?(n=["localhost",/^\//],(i=window==null?void 0:window.location)!=null&&i.host&&n.push(window.location.host)):e instanceof Array&&(n=e);let s=!1;return n.forEach(o=>{t.match(o)&&(s=!0)}),s},Gs=()=>function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=i.charAt(Math.floor(62*Math.random()));return e}(10),Ws=(t,e)=>t+"/"+e,Tr=(t,e,i,n,s,o,l)=>{const d=XMLHttpRequest.prototype,a=d.open,c=d.send,r=d.setRequestHeader;return d.open=function(u,p){return this._method=u,this._url=p,this._requestHeaders={},this._shouldRecordHeaderAndBody=!n.some(h=>p.toLowerCase().includes(h)),a.apply(this,arguments)},d.setRequestHeader=function(u,p){return this._requestHeaders[u]=p,r.apply(this,arguments)},d.send=function(u){if(!xi(this._url,e,i))return c.apply(this,arguments);const p=Gs();Ji(this._url,i)&&this.setRequestHeader(Vs,Ws(s,p));const h=this._shouldRecordHeaderAndBody,m={id:p,url:this._url,verb:this._method,headers:h?this._requestHeaders:{},body:void 0};if(h&&u){const b=Rs(u,m.url);b&&(m.body=Pe(b,o,l,m.headers))}return this.addEventListener("load",function(){return oe(this,null,function*(){const b={status:this.status,headers:{},body:void 0};if(h){const I=this.getAllResponseHeaders().trim().split(/[\r\n]+/),g={};if(I.forEach(function(f){const y=f.split(": "),S=y.shift();g[S]=y.join(": ")}),b.headers=g,u){const f=Rs(u,m.url);f&&(m.body=Pe(f,o,l,b.headers))}if(this.responseType===""||this.responseType==="text")b.body=Pe(this.responseText,o,l,b.headers),b.size=8*this.responseText.length;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const f=yield this.response.text();b.body=Pe(f,o,l,b.headers),b.size=this.response.size}catch{}}else try{b.body=Pe(this.response,o,l,b.headers)}catch{}}t({request:m,response:b,urlBlocked:!h})})}),this.addEventListener("error",function(){return oe(this,null,function*(){const b={status:this.status,headers:void 0,body:void 0};t({request:m,response:b,urlBlocked:!1})})}),c.apply(this,arguments)},()=>{d.open=a,d.send=c,d.setRequestHeader=r}},Rs=(t,e)=>{if(typeof t=="string"){if(!(e!=null&&e.includes("localhost"))&&!(e!=null&&e.includes("highlight.run"))||!t.includes("pushPayload"))return t}else if(typeof t=="object"||typeof t=="number"||typeof t=="boolean")return Ae(t);return null},Lr={"application/json":67108864,"text/plain":67108864},Pe=(t,e,i,n)=>{var s,o,l;let d=65536;if(n){let a="";a=typeof n.get=="function"?(s=n.get("content-type"))!=null?s:"":(o=n["content-type"])!=null?o:"";try{a=a.split(";")[0]}catch{}d=(l=Lr[a])!=null?l:65536}if(t){if(e)try{const a=JSON.parse(t);Array.isArray(a)?a.forEach(c=>{Object.keys(c).forEach(r=>{e.includes(r.toLocaleLowerCase())&&(c[r]="[REDACTED]")})}):Object.keys(a).forEach(c=>{e.includes(c.toLocaleLowerCase())&&(a[c]="[REDACTED]")}),t=JSON.stringify(a)}catch{}if(i)try{const a=JSON.parse(t);Object.keys(a).forEach(c=>{i.includes(c.toLocaleLowerCase())||(a[c]="[REDACTED]")}),t=JSON.stringify(a)}catch{}}try{t=t.slice(0,d)}catch{}return t},xr=(t,e,i,n,s,o,l)=>{const d=window._fetchProxy;return window._fetchProxy=function(a,c){const{method:r,url:u}=Jr(a,c);if(!xi(u,e,i))return d.call(this,a,c);const p=Gs();if(Ji(u,i)){c=c||{};let I=new Headers(c.headers);a instanceof Request&&[...a.headers].forEach(([g,f])=>I.set(g,f)),I.set(Vs,Ws(s,p)),c.headers=Object.fromEntries(I.entries())}const h={id:p,headers:{},body:void 0,url:u,verb:r},m=!n.some(I=>u.toLowerCase().includes(I));m&&(h.headers=Object.fromEntries(new Headers(c==null?void 0:c.headers).entries()),h.body=Pe(c==null?void 0:c.body,o,l,c==null?void 0:c.headers));let b=d.call(this,a,c);return Ur(b,h,t,m,o,l),b},()=>{window._fetchProxy=d}},Jr=(t,e)=>{const i=e&&e.method||typeof t=="object"&&"method"in t&&t.method||"GET";let n;return n=typeof t=="object"?"url"in t&&t.url?t.url:t.toString():t,{method:i,url:n}},Ur=(t,e,i,n,s,o)=>{t.then(l=>oe(this,null,function*(){let d={body:void 0,headers:void 0,status:0,size:0},a=!1;if("stack"in l||l instanceof Error)d=Ye(z({},d),{body:l.message,status:0,size:void 0}),a=!0;else if("status"in l){if(d=Ye(z({},d),{status:l.status}),n){let c;try{const r=l.clone().body;if(r){let u,p=r.getReader(),h=new TextDecoder,m="";for(;!(u=yield p.read()).done;){let b=u.value;m+=h.decode(b)}c=m,c=Pe(c,s,o,l.headers)}else c=""}catch(r){c=`Unable to clone response: ${r}`}d.body=c,d.headers=Object.fromEntries(l.headers.entries()),d.size=8*c.length}a=!0}a&&i({request:e,response:d,urlBlocked:!n})})).catch(()=>{})},Kr=({xhrCallback:t,fetchCallback:e,webSocketRequestCallback:i,webSocketEventCallback:n,disableWebSocketRecording:s,bodyKeysToRedact:o,backendUrl:l,tracingOrigins:d,urlBlocklist:a,sessionSecureID:c,bodyKeysToRecord:r})=>{const u=Tr(t,l,d,a,c,o,r),p=xr(e,l,d,a,c,o,r),h=s?()=>{}:((m,b,I)=>{const g=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=m;const f=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=y=>{const S=y,G=Fe(S,["message","size"]),N=I.some(w=>y.name.toLowerCase().includes(w));b(N?G:y)},()=>{window._highlightWebSocketRequestCallback=g,window._highlightWebSocketEventCallback=f}})(i,n,a);return()=>{u(),p(),h()}};class Je{constructor(e){var i,n;x(this,"disableConsoleRecording"),x(this,"reportConsoleErrors"),x(this,"enablePromisePatch"),x(this,"consoleMethodsToRecord"),x(this,"listeners"),x(this,"errors"),x(this,"messages"),x(this,"options"),x(this,"hasNetworkRecording",!0),x(this,"_backendUrl"),x(this,"disableNetworkRecording"),x(this,"enableRecordingNetworkContents"),x(this,"xhrNetworkContents"),x(this,"fetchNetworkContents"),x(this,"disableRecordingWebSocketContents"),x(this,"webSocketNetworkContents"),x(this,"webSocketEventContents"),x(this,"tracingOrigins"),x(this,"networkHeadersToRedact"),x(this,"networkBodyKeysToRedact"),x(this,"networkBodyKeysToRecord"),x(this,"networkHeaderKeysToRecord"),x(this,"urlBlocklist"),x(this,"requestResponseSanitizer"),this.options=e,this.disableConsoleRecording=!!e.disableConsoleRecording,this.reportConsoleErrors=(i=e.reportConsoleErrors)!=null&&i,this.enablePromisePatch=(n=e.enablePromisePatch)==null||n,this.consoleMethodsToRecord=e.consoleMethodsToRecord||[...vr],this.listeners=[],this.errors=[],this.messages=[]}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const e=this;this.disableConsoleRecording||this.listeners.push(Gr(i=>{var n,s,o;if(this.reportConsoleErrors&&(i.type==="Error"||i.type==="error")&&i.value&&i.trace){const l=Ae(i.value);if(Is.includes(l)||fs.some(d=>l.includes(d)))return;e.errors.push({event:l,type:"console.error",url:window.location.href,source:(n=i.trace[0])!=null&&n.fileName?i.trace[0].fileName:"",lineNumber:(s=i.trace[0])!=null&&s.lineNumber?i.trace[0].lineNumber:0,columnNumber:(o=i.trace[0])!=null&&o.columnNumber?i.trace[0].columnNumber:0,stackTrace:i.trace,timestamp:new Date().toISOString()})}e.messages.push(i)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(Wr(i=>{Is.includes(i.event)||fs.some(n=>i.event.includes(n))||e.errors.push(i)},{enablePromisePatch:this.enablePromisePatch})),Je.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(e=>e()),this.listeners=[]}static setupNetworkListener(e,i){var n,s,o,l,d,a,c,r,u,p,h,m;e._backendUrl=(i==null?void 0:i.backendUrl)||"https://pub.highlight.run",e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],e.networkHeadersToRedact=[],e.urlBlocklist=[],e.tracingOrigins=i.tracingOrigins||[],(i==null?void 0:i.disableNetworkRecording)!==void 0?(e.disableNetworkRecording=i==null?void 0:i.disableNetworkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[],e.networkBodyKeysToRecord=[],e.networkBodyKeysToRecord=[]):typeof(i==null?void 0:i.networkRecording)=="boolean"?(e.disableNetworkRecording=!i.networkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[]):(((n=i.networkRecording)==null?void 0:n.enabled)!==void 0?e.disableNetworkRecording=!i.networkRecording.enabled:e.disableNetworkRecording=!1,e.enableRecordingNetworkContents=((s=i.networkRecording)==null?void 0:s.recordHeadersAndBody)||!1,e.disableRecordingWebSocketContents=((o=i.networkRecording)==null?void 0:o.disableWebSocketEventRecordings)||!1,e.networkHeadersToRedact=((d=(l=i.networkRecording)==null?void 0:l.networkHeadersToRedact)==null?void 0:d.map(b=>b.toLowerCase()))||[],e.networkBodyKeysToRedact=((c=(a=i.networkRecording)==null?void 0:a.networkBodyKeysToRedact)==null?void 0:c.map(b=>b.toLowerCase()))||[],e.urlBlocklist=((u=(r=i.networkRecording)==null?void 0:r.urlBlocklist)==null?void 0:u.map(b=>b.toLowerCase()))||[],e.urlBlocklist=[...e.urlBlocklist,...wr],e.requestResponseSanitizer=(p=i.networkRecording)==null?void 0:p.requestResponseSanitizer,e.networkHeaderKeysToRecord=(h=i.networkRecording)==null?void 0:h.headerKeysToRecord,e.networkHeaderKeysToRecord&&(e.networkHeadersToRedact=[],e.networkHeaderKeysToRecord=e.networkHeaderKeysToRecord.map(b=>b.toLocaleLowerCase())),e.networkBodyKeysToRecord=(m=i.networkRecording)==null?void 0:m.bodyKeysToRecord,e.networkBodyKeysToRecord&&(e.networkBodyKeysToRedact=[],e.networkBodyKeysToRecord=e.networkBodyKeysToRecord.map(b=>b.toLocaleLowerCase()))),!e.disableNetworkRecording&&e.enableRecordingNetworkContents&&e.listeners.push(Kr({xhrCallback:b=>{e.xhrNetworkContents.push(b)},fetchCallback:b=>{e.fetchNetworkContents.push(b)},webSocketRequestCallback:b=>{e.webSocketNetworkContents&&e.webSocketNetworkContents.push(b)},webSocketEventCallback:b=>{e.webSocketEventContents.push(b)},disableWebSocketRecording:e.disableRecordingWebSocketContents,bodyKeysToRedact:e.networkBodyKeysToRedact,backendUrl:e._backendUrl,tracingOrigins:e.tracingOrigins,urlBlocklist:e.urlBlocklist,sessionSecureID:i.sessionSecureID,bodyKeysToRecord:e.networkBodyKeysToRecord}))}static getRecordedNetworkResources(e,i){var n;let s=[],o=[];if(!e.disableNetworkRecording){const l=((n=window==null?void 0:window.performance)==null?void 0:n.timeOrigin)||0;s=performance.getEntriesByType("resource");const d=2*(i-l);if(s=s.filter(a=>xi(a.name,e._backendUrl,e.tracingOrigins)).map(a=>Ye(z({},a.toJSON()),{offsetStartTime:a.startTime-d,offsetResponseEnd:a.responseEnd-d,offsetFetchStart:a.fetchStart-d})),e.enableRecordingNetworkContents){const a={headersToRedact:e.networkHeadersToRedact,headersToRecord:e.networkHeaderKeysToRecord,requestResponseSanitizer:e.requestResponseSanitizer};s=Cs(s,e.xhrNetworkContents,"xmlhttprequest",a),s=Cs(s,e.fetchNetworkContents,"fetch",a)}}return e.disableRecordingWebSocketContents||(o=e.webSocketNetworkContents||[]),[...s,...o]}static getRecordedWebSocketEvents(e){let i=[];return e.disableNetworkRecording||e.disableRecordingWebSocketContents||(i=e.webSocketEventContents),i}static clearRecordedNetworkResources(e){e.disableNetworkRecording||(e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],performance.clearResourceTimings())}}const Yr=t=>{t(window.location.href);const e=history.pushState;history.pushState=(o=>function(){var l=o.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),l})(history.pushState);const i=history.replaceState;history.replaceState=(o=>function(){var l=o.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),l})(history.replaceState);const n=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",n);const s=function(){t(window.location.href)};return window.addEventListener("locationchange",s),()=>{window.removeEventListener("popstate",n),window.removeEventListener("locationchange",s),history.pushState=e,history.replaceState=i}},Ui=JSON;function jt(t,e){if(!t)throw new Error(e)}function Fr(t,e){if(!t)throw new Error(e??"Unexpected invariant triggered.")}const Hr=/\r\n|[\n\r]/g;function Ki(t,e){let i=0,n=1;for(const s of t.body.matchAll(Hr)){if(typeof s.index=="number"||Fr(!1),s.index>=e)break;i=s.index+s[0].length,n+=1}return{line:n,column:e+1-i}}function vs(t,e){const i=t.locationOffset.column-1,n="".padStart(i)+t.body,s=e.line-1,o=t.locationOffset.line-1,l=e.line+o,d=e.line===1?i:0,a=e.column+d,c=`${t.name}:${l}:${a}
`,r=n.split(/\r\n|[\n\r]/g),u=r[s];if(u.length>120){const p=Math.floor(a/80),h=a%80,m=[];for(let b=0;b<u.length;b+=80)m.push(u.slice(b,b+80));return c+ks([[`${l} |`,m[0]],...m.slice(1,p+1).map(b=>["|",b]),["|","^".padStart(h)],["|",m[p+1]]])}return c+ks([[l-1+" |",r[s-1]],[`${l} |`,u],["|","^".padStart(a)],[`${l+1} |`,r[s+1]]])}function ks(t){const e=t.filter(([n,s])=>s!==void 0),i=Math.max(...e.map(([n])=>n.length));return e.map(([n,s])=>n.padStart(i)+(s?" "+s:"")).join(`
`)}class Yi extends Error{constructor(e,...i){var n,s,o;const{nodes:l,source:d,positions:a,path:c,originalError:r,extensions:u}=function(b){const I=b[0];return I==null||"kind"in I||"length"in I?{nodes:I,source:b[1],positions:b[2],path:b[3],originalError:b[4],extensions:b[5]}:I}(i);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=r??void 0,this.nodes=Ns(Array.isArray(l)?l:l?[l]:void 0);const p=Ns((n=this.nodes)===null||n===void 0?void 0:n.map(b=>b.loc).filter(b=>b!=null));this.source=d??(p==null||(s=p[0])===null||s===void 0?void 0:s.source),this.positions=a??(p==null?void 0:p.map(b=>b.start)),this.locations=a&&d?a.map(b=>Ki(d,b)):p==null?void 0:p.map(b=>Ki(b.source,b.start));const h=typeof(m=r==null?void 0:r.extensions)=="object"&&m!==null?r==null?void 0:r.extensions:void 0;var m;this.extensions=(o=u??h)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),r!=null&&r.stack?Object.defineProperty(this,"stack",{value:r.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Yi):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+vs((i=n.loc).source,Ki(i.source,i.start)));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+vs(this.source,n);var i;return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Ns(t){return t===void 0||t.length===0?void 0:t}function pe(t,e,i){return new Yi(`Syntax Error: ${i}`,{source:t,positions:[e]})}class Er{constructor(e,i,n){this.start=e.start,this.end=i.end,this.startToken=e,this.endToken=i,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ws{constructor(e,i,n,s,o,l){this.kind=e,this.start=i,this.end=n,this.line=s,this.column=o,this.value=l,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Ts={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Mr=new Set(Object.keys(Ts));function Ls(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&Mr.has(e)}var nt,Fi,Hi,ae,H,O,X,se;function Ei(t){return t===9||t===32}function Xt(t){return t>=48&&t<=57}function xs(t){return t>=97&&t<=122||t>=65&&t<=90}function Js(t){return xs(t)||t===95}function Or(t){return xs(t)||Xt(t)||t===95}function zr(t){var e;let i=Number.MAX_SAFE_INTEGER,n=null,s=-1;for(let l=0;l<t.length;++l){var o;const d=t[l],a=Ar(d);a!==d.length&&(n=(o=n)!==null&&o!==void 0?o:l,s=l,l!==0&&a<i&&(i=a))}return t.map((l,d)=>d===0?l:l.slice(i)).slice((e=n)!==null&&e!==void 0?e:0,s+1)}function Ar(t){let e=0;for(;e<t.length&&Ei(t.charCodeAt(e));)++e;return e}(Fi=nt||(nt={})).QUERY="query",Fi.MUTATION="mutation",Fi.SUBSCRIPTION="subscription",(ae=Hi||(Hi={})).QUERY="QUERY",ae.MUTATION="MUTATION",ae.SUBSCRIPTION="SUBSCRIPTION",ae.FIELD="FIELD",ae.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",ae.FRAGMENT_SPREAD="FRAGMENT_SPREAD",ae.INLINE_FRAGMENT="INLINE_FRAGMENT",ae.VARIABLE_DEFINITION="VARIABLE_DEFINITION",ae.SCHEMA="SCHEMA",ae.SCALAR="SCALAR",ae.OBJECT="OBJECT",ae.FIELD_DEFINITION="FIELD_DEFINITION",ae.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",ae.INTERFACE="INTERFACE",ae.UNION="UNION",ae.ENUM="ENUM",ae.ENUM_VALUE="ENUM_VALUE",ae.INPUT_OBJECT="INPUT_OBJECT",ae.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(O=H||(H={})).NAME="Name",O.DOCUMENT="Document",O.OPERATION_DEFINITION="OperationDefinition",O.VARIABLE_DEFINITION="VariableDefinition",O.SELECTION_SET="SelectionSet",O.FIELD="Field",O.ARGUMENT="Argument",O.FRAGMENT_SPREAD="FragmentSpread",O.INLINE_FRAGMENT="InlineFragment",O.FRAGMENT_DEFINITION="FragmentDefinition",O.VARIABLE="Variable",O.INT="IntValue",O.FLOAT="FloatValue",O.STRING="StringValue",O.BOOLEAN="BooleanValue",O.NULL="NullValue",O.ENUM="EnumValue",O.LIST="ListValue",O.OBJECT="ObjectValue",O.OBJECT_FIELD="ObjectField",O.DIRECTIVE="Directive",O.NAMED_TYPE="NamedType",O.LIST_TYPE="ListType",O.NON_NULL_TYPE="NonNullType",O.SCHEMA_DEFINITION="SchemaDefinition",O.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",O.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",O.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",O.FIELD_DEFINITION="FieldDefinition",O.INPUT_VALUE_DEFINITION="InputValueDefinition",O.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",O.UNION_TYPE_DEFINITION="UnionTypeDefinition",O.ENUM_TYPE_DEFINITION="EnumTypeDefinition",O.ENUM_VALUE_DEFINITION="EnumValueDefinition",O.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",O.DIRECTIVE_DEFINITION="DirectiveDefinition",O.SCHEMA_EXTENSION="SchemaExtension",O.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",O.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",O.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",O.UNION_TYPE_EXTENSION="UnionTypeExtension",O.ENUM_TYPE_EXTENSION="EnumTypeExtension",O.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",(se=X||(X={})).SOF="<SOF>",se.EOF="<EOF>",se.BANG="!",se.DOLLAR="$",se.AMP="&",se.PAREN_L="(",se.PAREN_R=")",se.SPREAD="...",se.COLON=":",se.EQUALS="=",se.AT="@",se.BRACKET_L="[",se.BRACKET_R="]",se.BRACE_L="{",se.PIPE="|",se.BRACE_R="}",se.NAME="Name",se.INT="Int",se.FLOAT="Float",se.STRING="String",se.BLOCK_STRING="BlockString",se.COMMENT="Comment";class Pr{constructor(e){const i=new ws(X.SOF,0,0,0,0);this.source=e,this.lastToken=i,this.token=i,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==X.EOF)do if(e.next)e=e.next;else{const i=Br(this,e.end);e.next=i,i.prev=e,e=i}while(e.kind===X.COMMENT);return e}}function st(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function _t(t,e){return Us(t.charCodeAt(e))&&Ks(t.charCodeAt(e+1))}function Us(t){return t>=55296&&t<=56319}function Ks(t){return t>=56320&&t<=57343}function Be(t,e){const i=t.source.body.codePointAt(e);if(i===void 0)return X.EOF;if(i>=32&&i<=126){const n=String.fromCodePoint(i);return n==='"'?`'"'`:`"${n}"`}return"U+"+i.toString(16).toUpperCase().padStart(4,"0")}function le(t,e,i,n,s){const o=t.line,l=1+i-t.lineStart;return new ws(e,i,n,o,l,s)}function Br(t,e){const i=t.source.body,n=i.length;let s=e;for(;s<n;){const o=i.charCodeAt(s);switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:i.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 35:return Dr(t,s);case 33:return le(t,X.BANG,s,s+1);case 36:return le(t,X.DOLLAR,s,s+1);case 38:return le(t,X.AMP,s,s+1);case 40:return le(t,X.PAREN_L,s,s+1);case 41:return le(t,X.PAREN_R,s,s+1);case 46:if(i.charCodeAt(s+1)===46&&i.charCodeAt(s+2)===46)return le(t,X.SPREAD,s,s+3);break;case 58:return le(t,X.COLON,s,s+1);case 61:return le(t,X.EQUALS,s,s+1);case 64:return le(t,X.AT,s,s+1);case 91:return le(t,X.BRACKET_L,s,s+1);case 93:return le(t,X.BRACKET_R,s,s+1);case 123:return le(t,X.BRACE_L,s,s+1);case 124:return le(t,X.PIPE,s,s+1);case 125:return le(t,X.BRACE_R,s,s+1);case 34:return i.charCodeAt(s+1)===34&&i.charCodeAt(s+2)===34?el(t,s):jr(t,s)}if(Xt(o)||o===45)return Qr(t,s,o);if(Js(o))return tl(t,s);throw pe(t.source,s,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:st(o)||_t(i,s)?`Unexpected character: ${Be(t,s)}.`:`Invalid character: ${Be(t,s)}.`)}return le(t,X.EOF,n,n)}function Dr(t,e){const i=t.source.body,n=i.length;let s=e+1;for(;s<n;){const o=i.charCodeAt(s);if(o===10||o===13)break;if(st(o))++s;else{if(!_t(i,s))break;s+=2}}return le(t,X.COMMENT,e,s,i.slice(e+1,s))}function Qr(t,e,i){const n=t.source.body;let s=e,o=i,l=!1;if(o===45&&(o=n.charCodeAt(++s)),o===48){if(o=n.charCodeAt(++s),Xt(o))throw pe(t.source,s,`Invalid number, unexpected digit after 0: ${Be(t,s)}.`)}else s=Mi(t,s,o),o=n.charCodeAt(s);if(o===46&&(l=!0,o=n.charCodeAt(++s),s=Mi(t,s,o),o=n.charCodeAt(s)),o!==69&&o!==101||(l=!0,o=n.charCodeAt(++s),o!==43&&o!==45||(o=n.charCodeAt(++s)),s=Mi(t,s,o),o=n.charCodeAt(s)),o===46||Js(o))throw pe(t.source,s,`Invalid number, expected digit but got: ${Be(t,s)}.`);return le(t,l?X.FLOAT:X.INT,e,s,n.slice(e,s))}function Mi(t,e,i){if(!Xt(i))throw pe(t.source,e,`Invalid number, expected digit but got: ${Be(t,e)}.`);const n=t.source.body;let s=e+1;for(;Xt(n.charCodeAt(s));)++s;return s}function jr(t,e){const i=t.source.body,n=i.length;let s=e+1,o=s,l="";for(;s<n;){const d=i.charCodeAt(s);if(d===34)return l+=i.slice(o,s),le(t,X.STRING,e,s+1,l);if(d!==92){if(d===10||d===13)break;if(st(d))++s;else{if(!_t(i,s))throw pe(t.source,s,`Invalid character within String: ${Be(t,s)}.`);s+=2}}else{l+=i.slice(o,s);const a=i.charCodeAt(s+1)===117?i.charCodeAt(s+2)===123?_r(t,s):qr(t,s):$r(t,s);l+=a.value,s+=a.size,o=s}}throw pe(t.source,s,"Unterminated string.")}function _r(t,e){const i=t.source.body;let n=0,s=3;for(;s<12;){const o=i.charCodeAt(e+s++);if(o===125){if(s<5||!st(n))break;return{value:String.fromCodePoint(n),size:s}}if(n=n<<4|Ct(o),n<0)break}throw pe(t.source,e,`Invalid Unicode escape sequence: "${i.slice(e,e+s)}".`)}function qr(t,e){const i=t.source.body,n=Ys(i,e+2);if(st(n))return{value:String.fromCodePoint(n),size:6};if(Us(n)&&i.charCodeAt(e+6)===92&&i.charCodeAt(e+7)===117){const s=Ys(i,e+8);if(Ks(s))return{value:String.fromCodePoint(n,s),size:12}}throw pe(t.source,e,`Invalid Unicode escape sequence: "${i.slice(e,e+6)}".`)}function Ys(t,e){return Ct(t.charCodeAt(e))<<12|Ct(t.charCodeAt(e+1))<<8|Ct(t.charCodeAt(e+2))<<4|Ct(t.charCodeAt(e+3))}function Ct(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function $r(t,e){const i=t.source.body;switch(i.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw pe(t.source,e,`Invalid character escape sequence: "${i.slice(e,e+2)}".`)}function el(t,e){const i=t.source.body,n=i.length;let s=t.lineStart,o=e+3,l=o,d="";const a=[];for(;o<n;){const c=i.charCodeAt(o);if(c===34&&i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34){d+=i.slice(l,o),a.push(d);const r=le(t,X.BLOCK_STRING,e,o+3,zr(a).join(`
`));return t.line+=a.length-1,t.lineStart=s,r}if(c!==92||i.charCodeAt(o+1)!==34||i.charCodeAt(o+2)!==34||i.charCodeAt(o+3)!==34)if(c!==10&&c!==13)if(st(c))++o;else{if(!_t(i,o))throw pe(t.source,o,`Invalid character within String: ${Be(t,o)}.`);o+=2}else d+=i.slice(l,o),a.push(d),c===13&&i.charCodeAt(o+1)===10?o+=2:++o,d="",l=o,s=o;else d+=i.slice(l,o),l=o+1,o+=4}throw pe(t.source,o,"Unterminated string.")}function tl(t,e){const i=t.source.body,n=i.length;let s=e+1;for(;s<n&&Or(i.charCodeAt(s));)++s;return le(t,X.NAME,e,s,i.slice(e,s))}const il=10,Fs=2;function Oi(t){return qt(t,[])}function qt(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return function(i,n){if(i===null)return"null";if(n.includes(i))return"[Circular]";const s=[...n,i];if(function(o){return typeof o.toJSON=="function"}(i)){const o=i.toJSON();if(o!==i)return typeof o=="string"?o:qt(o,s)}else if(Array.isArray(i))return function(o,l){if(o.length===0)return"[]";if(l.length>Fs)return"[Array]";const d=Math.min(il,o.length),a=o.length-d,c=[];for(let r=0;r<d;++r)c.push(qt(o[r],l));return a===1?c.push("... 1 more item"):a>1&&c.push(`... ${a} more items`),"["+c.join(", ")+"]"}(i,s);return function(o,l){const d=Object.entries(o);return d.length===0?"{}":l.length>Fs?"["+function(a){const c=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if(c==="Object"&&typeof a.constructor=="function"){const r=a.constructor.name;if(typeof r=="string"&&r!=="")return r}return c}(o)+"]":"{ "+d.map(([a,c])=>a+": "+qt(c,l)).join(", ")+" }"}(i,s)}(t,e);default:return String(t)}}const nl=globalThis.process?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;if(typeof t=="object"&&t!==null){var i;const n=e.prototype[Symbol.toStringTag];if(n===(Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name)){const s=Oi(t);throw new Error(`Cannot use ${n} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Hs{constructor(e,i="GraphQL request",n={line:1,column:1}){typeof e=="string"||jt(!1,`Body must be a string. Received: ${Oi(e)}.`),this.body=e,this.name=i,this.locationOffset=n,this.locationOffset.line>0||jt(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||jt(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Es(t,e){return new sl(t,e).parseDocument()}class sl{constructor(e,i={}){const n=function(s){return nl(s,Hs)}(e)?e:new Hs(e);this._lexer=new Pr(n),this._options=i,this._tokenCounter=0}parseName(){const e=this.expectToken(X.NAME);return this.node(e,{kind:H.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:H.DOCUMENT,definitions:this.many(X.SOF,this.parseDefinition,X.EOF)})}parseDefinition(){if(this.peek(X.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),i=e?this._lexer.lookahead():this._lexer.token;if(i.kind===X.NAME){switch(i.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw pe(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(i.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(i)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(X.BRACE_L))return this.node(e,{kind:H.OPERATION_DEFINITION,operation:nt.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const i=this.parseOperationType();let n;return this.peek(X.NAME)&&(n=this.parseName()),this.node(e,{kind:H.OPERATION_DEFINITION,operation:i,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(X.NAME);switch(e.value){case"query":return nt.QUERY;case"mutation":return nt.MUTATION;case"subscription":return nt.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(X.PAREN_L,this.parseVariableDefinition,X.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:H.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(X.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(X.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(X.DOLLAR),this.node(e,{kind:H.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:H.SELECTION_SET,selections:this.many(X.BRACE_L,this.parseSelection,X.BRACE_R)})}parseSelection(){return this.peek(X.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,i=this.parseName();let n,s;return this.expectOptionalToken(X.COLON)?(n=i,s=this.parseName()):s=i,this.node(e,{kind:H.FIELD,alias:n,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(X.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const i=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(X.PAREN_L,i,X.PAREN_R)}parseArgument(e=!1){const i=this._lexer.token,n=this.parseName();return this.expectToken(X.COLON),this.node(i,{kind:H.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(X.SPREAD);const i=this.expectOptionalKeyword("on");return!i&&this.peek(X.NAME)?this.node(e,{kind:H.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:H.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:H.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:H.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const i=this._lexer.token;switch(i.kind){case X.BRACKET_L:return this.parseList(e);case X.BRACE_L:return this.parseObject(e);case X.INT:return this.advanceLexer(),this.node(i,{kind:H.INT,value:i.value});case X.FLOAT:return this.advanceLexer(),this.node(i,{kind:H.FLOAT,value:i.value});case X.STRING:case X.BLOCK_STRING:return this.parseStringLiteral();case X.NAME:switch(this.advanceLexer(),i.value){case"true":return this.node(i,{kind:H.BOOLEAN,value:!0});case"false":return this.node(i,{kind:H.BOOLEAN,value:!1});case"null":return this.node(i,{kind:H.NULL});default:return this.node(i,{kind:H.ENUM,value:i.value})}case X.DOLLAR:if(e){if(this.expectToken(X.DOLLAR),this._lexer.token.kind===X.NAME){const n=this._lexer.token.value;throw pe(this._lexer.source,i.start,`Unexpected variable "$${n}" in constant value.`)}throw this.unexpected(i)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:H.STRING,value:e.value,block:e.kind===X.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:H.LIST,values:this.any(X.BRACKET_L,()=>this.parseValueLiteral(e),X.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:H.OBJECT,fields:this.any(X.BRACE_L,()=>this.parseObjectField(e),X.BRACE_R)})}parseObjectField(e){const i=this._lexer.token,n=this.parseName();return this.expectToken(X.COLON),this.node(i,{kind:H.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const i=[];for(;this.peek(X.AT);)i.push(this.parseDirective(e));return i}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const i=this._lexer.token;return this.expectToken(X.AT),this.node(i,{kind:H.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let i;if(this.expectOptionalToken(X.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(X.BRACKET_R),i=this.node(e,{kind:H.LIST_TYPE,type:n})}else i=this.parseNamedType();return this.expectOptionalToken(X.BANG)?this.node(e,{kind:H.NON_NULL_TYPE,type:i}):i}parseNamedType(){return this.node(this._lexer.token,{kind:H.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(X.STRING)||this.peek(X.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),s=this.many(X.BRACE_L,this.parseOperationTypeDefinition,X.BRACE_R);return this.node(e,{kind:H.SCHEMA_DEFINITION,description:i,directives:n,operationTypes:s})}parseOperationTypeDefinition(){const e=this._lexer.token,i=this.parseOperationType();this.expectToken(X.COLON);const n=this.parseNamedType();return this.node(e,{kind:H.OPERATION_TYPE_DEFINITION,operation:i,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),s=this.parseConstDirectives();return this.node(e,{kind:H.SCALAR_TYPE_DEFINITION,description:i,name:n,directives:s})}parseObjectTypeDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),l=this.parseFieldsDefinition();return this.node(e,{kind:H.OBJECT_TYPE_DEFINITION,description:i,name:n,interfaces:s,directives:o,fields:l})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(X.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(X.BRACE_L,this.parseFieldDefinition,X.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,i=this.parseDescription(),n=this.parseName(),s=this.parseArgumentDefs();this.expectToken(X.COLON);const o=this.parseTypeReference(),l=this.parseConstDirectives();return this.node(e,{kind:H.FIELD_DEFINITION,description:i,name:n,arguments:s,type:o,directives:l})}parseArgumentDefs(){return this.optionalMany(X.PAREN_L,this.parseInputValueDef,X.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,i=this.parseDescription(),n=this.parseName();this.expectToken(X.COLON);const s=this.parseTypeReference();let o;this.expectOptionalToken(X.EQUALS)&&(o=this.parseConstValueLiteral());const l=this.parseConstDirectives();return this.node(e,{kind:H.INPUT_VALUE_DEFINITION,description:i,name:n,type:s,defaultValue:o,directives:l})}parseInterfaceTypeDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),l=this.parseFieldsDefinition();return this.node(e,{kind:H.INTERFACE_TYPE_DEFINITION,description:i,name:n,interfaces:s,directives:o,fields:l})}parseUnionTypeDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),s=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:H.UNION_TYPE_DEFINITION,description:i,name:n,directives:s,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(X.EQUALS)?this.delimitedMany(X.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),s=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:H.ENUM_TYPE_DEFINITION,description:i,name:n,directives:s,values:o})}parseEnumValuesDefinition(){return this.optionalMany(X.BRACE_L,this.parseEnumValueDefinition,X.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,i=this.parseDescription(),n=this.parseEnumValueName(),s=this.parseConstDirectives();return this.node(e,{kind:H.ENUM_VALUE_DEFINITION,description:i,name:n,directives:s})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw pe(this._lexer.source,this._lexer.token.start,`${$t(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),s=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:H.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:n,directives:s,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(X.BRACE_L,this.parseInputValueDef,X.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===X.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const i=this.parseConstDirectives(),n=this.optionalMany(X.BRACE_L,this.parseOperationTypeDefinition,X.BRACE_R);if(i.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:H.SCHEMA_EXTENSION,directives:i,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const i=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:H.SCALAR_TYPE_EXTENSION,name:i,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const i=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(n.length===0&&s.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:H.OBJECT_TYPE_EXTENSION,name:i,interfaces:n,directives:s,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const i=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(n.length===0&&s.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:H.INTERFACE_TYPE_EXTENSION,name:i,interfaces:n,directives:s,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const i=this.parseName(),n=this.parseConstDirectives(),s=this.parseUnionMemberTypes();if(n.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:H.UNION_TYPE_EXTENSION,name:i,directives:n,types:s})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const i=this.parseName(),n=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();if(n.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:H.ENUM_TYPE_EXTENSION,name:i,directives:n,values:s})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const i=this.parseName(),n=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();if(n.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:H.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:n,fields:s})}parseDirectiveDefinition(){const e=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(X.AT);const n=this.parseName(),s=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const l=this.parseDirectiveLocations();return this.node(e,{kind:H.DIRECTIVE_DEFINITION,description:i,name:n,arguments:s,repeatable:o,locations:l})}parseDirectiveLocations(){return this.delimitedMany(X.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,i=this.parseName();if(Object.prototype.hasOwnProperty.call(Hi,i.value))return i;throw this.unexpected(e)}node(e,i){return this._options.noLocation!==!0&&(i.loc=new Er(e,this._lexer.lastToken,this._lexer.source)),i}peek(e){return this._lexer.token.kind===e}expectToken(e){const i=this._lexer.token;if(i.kind===e)return this.advanceLexer(),i;throw pe(this._lexer.source,i.start,`Expected ${Ms(e)}, found ${$t(i)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const i=this._lexer.token;if(i.kind!==X.NAME||i.value!==e)throw pe(this._lexer.source,i.start,`Expected "${e}", found ${$t(i)}.`);this.advanceLexer()}expectOptionalKeyword(e){const i=this._lexer.token;return i.kind===X.NAME&&i.value===e&&(this.advanceLexer(),!0)}unexpected(e){const i=e??this._lexer.token;return pe(this._lexer.source,i.start,`Unexpected ${$t(i)}.`)}any(e,i,n){this.expectToken(e);const s=[];for(;!this.expectOptionalToken(n);)s.push(i.call(this));return s}optionalMany(e,i,n){if(this.expectOptionalToken(e)){const s=[];do s.push(i.call(this));while(!this.expectOptionalToken(n));return s}return[]}many(e,i,n){this.expectToken(e);const s=[];do s.push(i.call(this));while(!this.expectOptionalToken(n));return s}delimitedMany(e,i){this.expectOptionalToken(e);const n=[];do n.push(i.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,i=this._lexer.advance();if(e!==void 0&&i.kind!==X.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw pe(this._lexer.source,i.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function $t(t){const e=t.value;return Ms(t.kind)+(e!=null?` "${e}"`:"")}function Ms(t){return function(e){return e===X.BANG||e===X.DOLLAR||e===X.AMP||e===X.PAREN_L||e===X.PAREN_R||e===X.SPREAD||e===X.COLON||e===X.EQUALS||e===X.AT||e===X.BRACKET_L||e===X.BRACKET_R||e===X.BRACE_L||e===X.PIPE||e===X.BRACE_R}(t)?`"${t}"`:t}const ol=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function rl(t){return ll[t.charCodeAt(0)]}const ll=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],al=Object.freeze({});function cl(t,e){const i=t[e];return typeof i=="object"?i:typeof i=="function"?{enter:i,leave:void 0}:{enter:t.enter,leave:t.leave}}function zi(t){return function(e,i,n=Ts){const s=new Map;for(const f of Object.values(H))s.set(f,cl(i,f));let o,l,d,a=Array.isArray(e),c=[e],r=-1,u=[],p=e;const h=[],m=[];do{r++;const f=r===c.length,y=f&&u.length!==0;if(f){if(l=m.length===0?void 0:h[h.length-1],p=d,d=m.pop(),y)if(a){p=p.slice();let G=0;for(const[N,w]of u){const K=N-G;w===null?(p.splice(K,1),G++):p[K]=w}}else{p=Object.defineProperties({},Object.getOwnPropertyDescriptors(p));for(const[G,N]of u)p[G]=N}r=o.index,c=o.keys,u=o.edits,a=o.inArray,o=o.prev}else if(d){if(l=a?r:c[r],p=d[l],p==null)continue;h.push(l)}let S;if(!Array.isArray(p)){var b,I;Ls(p)||jt(!1,`Invalid AST Node: ${Oi(p)}.`);const G=f?(b=s.get(p.kind))===null||b===void 0?void 0:b.leave:(I=s.get(p.kind))===null||I===void 0?void 0:I.enter;if(S=G==null?void 0:G.call(i,p,l,d,h,m),S===al)break;if(S===!1){if(!f){h.pop();continue}}else if(S!==void 0&&(u.push([l,S]),!f)){if(!Ls(S)){h.pop();continue}p=S}}var g;S===void 0&&y&&u.push([l,p]),f?h.pop():(o={inArray:a,index:r,keys:c,edits:u,prev:o},a=Array.isArray(p),c=a?p:(g=n[p.kind])!==null&&g!==void 0?g:[],r=-1,u=[],d&&m.push(d),d=p)}while(o!==void 0);return u.length!==0?u[u.length-1][1]:e}(t,dl)}const dl={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>U(t.definitions,`

`)},OperationDefinition:{leave(t){const e=B("(",U(t.variableDefinitions,", "),")"),i=U([t.operation,U([t.name,e]),U(t.directives," ")]," ");return(i==="query"?"":i+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:i,directives:n})=>t+": "+e+B(" = ",i)+B(" ",U(n," "))},SelectionSet:{leave:({selections:t})=>ke(t)},Field:{leave({alias:t,name:e,arguments:i,directives:n,selectionSet:s}){const o=B("",t,": ")+e;let l=o+B("(",U(i,", "),")");return l.length>80&&(l=o+B(`(
`,ei(U(i,`
`)),`
)`)),U([l,U(n," "),s]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+B(" ",U(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:i})=>U(["...",B("on ",t),U(e," "),i]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:i,directives:n,selectionSet:s})=>`fragment ${t}${B("(",U(i,", "),")")} on ${e} ${B("",U(n," ")," ")}`+s},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?function(i,n){const s=i.replace(/"""/g,'\\"""'),o=s.split(/\r\n|[\n\r]/g),l=o.length===1,d=o.length>1&&o.slice(1).every(b=>b.length===0||Ei(b.charCodeAt(0))),a=s.endsWith('\\"""'),c=i.endsWith('"')&&!a,r=i.endsWith("\\"),u=c||r,p=!(n!=null&&n.minimize)&&(!l||i.length>70||u||d||a);let h="";const m=l&&Ei(i.charCodeAt(0));return(p&&!m||d)&&(h+=`
`),h+=s,(p||u)&&(h+=`
`),'"""'+h+'"""'}(t):`"${t.replace(ol,rl)}"`},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+U(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+U(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+B("(",U(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:i})=>B("",t,`
`)+U(["schema",U(e," "),ke(i)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:i})=>B("",t,`
`)+U(["scalar",e,U(i," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:i,directives:n,fields:s})=>B("",t,`
`)+U(["type",e,B("implements ",U(i," & ")),U(n," "),ke(s)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:i,type:n,directives:s})=>B("",t,`
`)+e+(Os(i)?B(`(
`,ei(U(i,`
`)),`
)`):B("(",U(i,", "),")"))+": "+n+B(" ",U(s," "))},InputValueDefinition:{leave:({description:t,name:e,type:i,defaultValue:n,directives:s})=>B("",t,`
`)+U([e+": "+i,B("= ",n),U(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:i,directives:n,fields:s})=>B("",t,`
`)+U(["interface",e,B("implements ",U(i," & ")),U(n," "),ke(s)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:i,types:n})=>B("",t,`
`)+U(["union",e,U(i," "),B("= ",U(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:i,values:n})=>B("",t,`
`)+U(["enum",e,U(i," "),ke(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:i})=>B("",t,`
`)+U([e,U(i," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:i,fields:n})=>B("",t,`
`)+U(["input",e,U(i," "),ke(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:i,repeatable:n,locations:s})=>B("",t,`
`)+"directive @"+e+(Os(i)?B(`(
`,ei(U(i,`
`)),`
)`):B("(",U(i,", "),")"))+(n?" repeatable":"")+" on "+U(s," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>U(["extend schema",U(t," "),ke(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>U(["extend scalar",t,U(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:i,fields:n})=>U(["extend type",t,B("implements ",U(e," & ")),U(i," "),ke(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:i,fields:n})=>U(["extend interface",t,B("implements ",U(e," & ")),U(i," "),ke(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:i})=>U(["extend union",t,U(e," "),B("= ",U(i," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:i})=>U(["extend enum",t,U(e," "),ke(i)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:i})=>U(["extend input",t,U(e," "),ke(i)]," ")}};function U(t,e=""){var i;return(i=t==null?void 0:t.filter(n=>n).join(e))!==null&&i!==void 0?i:""}function ke(t){return B(`{
`,ei(U(t,`
`)),`
}`)}function B(t,e,i=""){return e!=null&&e!==""?t+e+i:""}function ei(t){return B("  ",t.replace(/\n/g,`
  `))}function Os(t){var e;return(e=t==null?void 0:t.some(i=>i.includes(`
`)))!==null&&e!==void 0&&e}const zs=t=>{var e,i;let n;const s=t.definitions.filter(o=>o.kind==="OperationDefinition");return s.length===1&&(n=(i=(e=s[0])==null?void 0:e.name)==null?void 0:i.value),n},Ai=t=>{if(typeof t=="string"){let i;try{const n=Es(t);i=zs(n)}catch{}return{query:t,operationName:i}}const e=zs(t);return{query:zi(t),operationName:e}};class ot extends Error{constructor(e,i){super(`${ot.extractMessage(e)}: ${JSON.stringify({response:e,request:i})}`),Object.setPrototypeOf(this,ot.prototype),this.response=e,this.request=i,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ot)}static extractMessage(e){var i,n,s;return(s=(n=(i=e.errors)==null?void 0:i[0])==null?void 0:n.message)!=null?s:`GraphQL Error (Code: ${e.status})`}}var Pi={exports:{}};(function(t,e){var i,n=typeof self<"u"?self:Cr,s=function(){function l(){this.fetch=!1,this.DOMException=n.DOMException}return l.prototype=n,new l}();i=s,function(l){var d="URLSearchParams"in i,a="Symbol"in i&&"iterator"in Symbol,c="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),r="FormData"in i,u="ArrayBuffer"in i;if(u)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(Z){return Z&&p.indexOf(Object.prototype.toString.call(Z))>-1};function m(Z){if(typeof Z!="string"&&(Z=String(Z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Z))throw new TypeError("Invalid character in header field name");return Z.toLowerCase()}function b(Z){return typeof Z!="string"&&(Z=String(Z)),Z}function I(Z){var V={next:function(){var v=Z.shift();return{done:v===void 0,value:v}}};return a&&(V[Symbol.iterator]=function(){return V}),V}function g(Z){this.map={},Z instanceof g?Z.forEach(function(V,v){this.append(v,V)},this):Array.isArray(Z)?Z.forEach(function(V){this.append(V[0],V[1])},this):Z&&Object.getOwnPropertyNames(Z).forEach(function(V){this.append(V,Z[V])},this)}function f(Z){if(Z.bodyUsed)return Promise.reject(new TypeError("Already read"));Z.bodyUsed=!0}function y(Z){return new Promise(function(V,v){Z.onload=function(){V(Z.result)},Z.onerror=function(){v(Z.error)}})}function S(Z){var V=new FileReader,v=y(V);return V.readAsArrayBuffer(Z),v}function G(Z){if(Z.slice)return Z.slice(0);var V=new Uint8Array(Z.byteLength);return V.set(new Uint8Array(Z)),V.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(Z){var V;this._bodyInit=Z,Z?typeof Z=="string"?this._bodyText=Z:c&&Blob.prototype.isPrototypeOf(Z)?this._bodyBlob=Z:r&&FormData.prototype.isPrototypeOf(Z)?this._bodyFormData=Z:d&&URLSearchParams.prototype.isPrototypeOf(Z)?this._bodyText=Z.toString():u&&c&&(V=Z)&&DataView.prototype.isPrototypeOf(V)?(this._bodyArrayBuffer=G(Z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(Z)||h(Z))?this._bodyArrayBuffer=G(Z):this._bodyText=Z=Object.prototype.toString.call(Z):this._bodyText="",this.headers.get("content-type")||(typeof Z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(Z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var Z=f(this);if(Z)return Z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(S)}),this.text=function(){var Z,V,v,W=f(this);if(W)return W;if(this._bodyBlob)return Z=this._bodyBlob,V=new FileReader,v=y(V),V.readAsText(Z),v;if(this._bodyArrayBuffer)return Promise.resolve(function(C){for(var R=new Uint8Array(C),Y=new Array(R.length),q=0;q<R.length;q++)Y[q]=String.fromCharCode(R[q]);return Y.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(Z,V){Z=m(Z),V=b(V);var v=this.map[Z];this.map[Z]=v?v+", "+V:V},g.prototype.delete=function(Z){delete this.map[m(Z)]},g.prototype.get=function(Z){return Z=m(Z),this.has(Z)?this.map[Z]:null},g.prototype.has=function(Z){return this.map.hasOwnProperty(m(Z))},g.prototype.set=function(Z,V){this.map[m(Z)]=b(V)},g.prototype.forEach=function(Z,V){for(var v in this.map)this.map.hasOwnProperty(v)&&Z.call(V,this.map[v],v,this)},g.prototype.keys=function(){var Z=[];return this.forEach(function(V,v){Z.push(v)}),I(Z)},g.prototype.values=function(){var Z=[];return this.forEach(function(V){Z.push(V)}),I(Z)},g.prototype.entries=function(){var Z=[];return this.forEach(function(V,v){Z.push([v,V])}),I(Z)},a&&(g.prototype[Symbol.iterator]=g.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function K(Z,V){var v,W,C=(V=V||{}).body;if(Z instanceof K){if(Z.bodyUsed)throw new TypeError("Already read");this.url=Z.url,this.credentials=Z.credentials,V.headers||(this.headers=new g(Z.headers)),this.method=Z.method,this.mode=Z.mode,this.signal=Z.signal,C||Z._bodyInit==null||(C=Z._bodyInit,Z.bodyUsed=!0)}else this.url=String(Z);if(this.credentials=V.credentials||this.credentials||"same-origin",!V.headers&&this.headers||(this.headers=new g(V.headers)),this.method=(v=V.method||this.method||"GET",W=v.toUpperCase(),w.indexOf(W)>-1?W:v),this.mode=V.mode||this.mode||null,this.signal=V.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(C)}function L(Z){var V=new FormData;return Z.trim().split("&").forEach(function(v){if(v){var W=v.split("="),C=W.shift().replace(/\+/g," "),R=W.join("=").replace(/\+/g," ");V.append(decodeURIComponent(C),decodeURIComponent(R))}}),V}function T(Z,V){V||(V={}),this.type="default",this.status=V.status===void 0?200:V.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new g(V.headers),this.url=V.url||"",this._initBody(Z)}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})},N.call(K.prototype),N.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},T.error=function(){var Z=new T(null,{status:0,statusText:""});return Z.type="error",Z};var J=[301,302,303,307,308];T.redirect=function(Z,V){if(J.indexOf(V)===-1)throw new RangeError("Invalid status code");return new T(null,{status:V,headers:{location:Z}})},l.DOMException=i.DOMException;try{new l.DOMException}catch{l.DOMException=function(V,v){this.message=V,this.name=v;var W=Error(V);this.stack=W.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function k(Z,V){return new Promise(function(v,W){var C=new K(Z,V);if(C.signal&&C.signal.aborted)return W(new l.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function Y(){R.abort()}R.onload=function(){var q,ee,P={status:R.status,statusText:R.statusText,headers:(q=R.getAllResponseHeaders()||"",ee=new g,q.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ie){var Xe=Ie.split(":"),F=Xe.shift().trim();if(F){var A=Xe.join(":").trim();ee.append(F,A)}}),ee)};P.url="responseURL"in R?R.responseURL:P.headers.get("X-Request-URL");var M="response"in R?R.response:R.responseText;v(new T(M,P))},R.onerror=function(){W(new TypeError("Network request failed"))},R.ontimeout=function(){W(new TypeError("Network request failed"))},R.onabort=function(){W(new l.DOMException("Aborted","AbortError"))},R.open(C.method,C.url,!0),C.credentials==="include"?R.withCredentials=!0:C.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&c&&(R.responseType="blob"),C.headers.forEach(function(q,ee){R.setRequestHeader(ee,q)}),C.signal&&(C.signal.addEventListener("abort",Y),R.onreadystatechange=function(){R.readyState===4&&C.signal.removeEventListener("abort",Y)}),R.send(C._bodyInit===void 0?null:C._bodyInit)})}k.polyfill=!0,i.fetch||(i.fetch=k,i.Headers=g,i.Request=K,i.Response=T),l.Headers=g,l.Request=K,l.Response=T,l.fetch=k,Object.defineProperty(l,"__esModule",{value:!0})}({}),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var o=s;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(Pi,Pi.exports);var ti=Pi.exports;const ii=Qt(ti),ul=Do({__proto__:null,default:ii},[ti]),rt=t=>{let e={};return t&&(typeof Headers<"u"&&t instanceof Headers||ul&&ti.Headers&&t instanceof ti.Headers?e=(i=>{const n={};return i.forEach((s,o)=>{n[o]=s}),n})(t):Array.isArray(t)?t.forEach(([i,n])=>{i&&n!==void 0&&(e[i]=n)}):e=t),e},As=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),pl=t=>e=>oe(this,null,function*(){var i;const{url:n,query:s,variables:o,operationName:l,fetch:d,fetchOptions:a,middleware:c}=e,r=z({},e.headers);let u,p="";t==="POST"?(u=ml(s,o,l,a.jsonSerializer),typeof u=="string"&&(r["Content-Type"]="application/json")):p=(I=>{if(!Array.isArray(I.query)){const y=I,S=[`query=${encodeURIComponent(As(y.query))}`];return I.variables&&S.push(`variables=${encodeURIComponent(y.jsonSerializer.stringify(y.variables))}`),y.operationName&&S.push(`operationName=${encodeURIComponent(y.operationName)}`),S.join("&")}if(I.variables!==void 0&&!Array.isArray(I.variables))throw new Error("Cannot create query with given variable type, array expected");const g=I,f=I.query.reduce((y,S,G)=>(y.push({query:As(S),variables:g.variables?g.jsonSerializer.stringify(g.variables[G]):void 0}),y),[]);return`query=${encodeURIComponent(g.jsonSerializer.stringify(f))}`})({query:s,variables:o,operationName:l,jsonSerializer:(i=a.jsonSerializer)!=null?i:Ui});const h=z({method:t,headers:r,body:u},a);let m=n,b=h;if(c){const I=yield Promise.resolve(c(Ye(z({},h),{url:n,operationName:l,variables:o}))),{url:g}=I;m=g,b=Fe(I,["url"])}return p&&(m=`${m}?${p}`),yield d(m,b)});class hl{constructor(e,i={}){this.url=e,this.requestConfig=i,this.rawRequest=(...n)=>oe(this,null,function*(){const[s,o,l]=n,d=((g,f,y)=>g.query?g:{query:g,variables:f,requestHeaders:y,signal:void 0})(s,o,l),a=this.requestConfig,{headers:c,fetch:r=ii,method:u="POST",requestMiddleware:p,responseMiddleware:h}=a,m=Fe(a,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:b}=this;d.signal!==void 0&&(m.signal=d.signal);const{operationName:I}=Ai(d.query);return Bi({url:b,query:d.query,variables:d.variables,headers:z(z({},rt(Di(c))),rt(d.requestHeaders)),operationName:I,fetch:r,method:u,fetchOptions:m,middleware:p}).then(g=>(h&&h(g),g)).catch(g=>{throw h&&h(g),g})})}request(e,...i){return oe(this,null,function*(){const[n,s]=i,o=((I,g,f)=>I.document?I:{document:I,variables:g,requestHeaders:f,signal:void 0})(e,n,s),l=this.requestConfig,{headers:d,fetch:a=ii,method:c="POST",requestMiddleware:r,responseMiddleware:u}=l,p=Fe(l,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:h}=this;o.signal!==void 0&&(p.signal=o.signal);const{query:m,operationName:b}=Ai(o.document);return Bi({url:h,query:m,variables:o.variables,headers:z(z({},rt(Di(d))),rt(o.requestHeaders)),operationName:b,fetch:a,method:c,fetchOptions:p,middleware:r}).then(I=>(u&&u(I),I.data)).catch(I=>{throw u&&u(I),I})})}batchRequests(e,i){var n;const s=((r,u)=>r.documents?r:{documents:r,requestHeaders:u,signal:void 0})(e,i),o=this.requestConfig,{headers:l}=o,d=Fe(o,["headers"]);s.signal!==void 0&&(d.signal=s.signal);const a=s.documents.map(({document:r})=>Ai(r).query),c=s.documents.map(({variables:r})=>r);return Bi({url:this.url,query:a,variables:c,headers:z(z({},rt(Di(l))),rt(s.requestHeaders)),operationName:void 0,fetch:(n=this.requestConfig.fetch)!=null?n:ii,method:this.requestConfig.method||"POST",fetchOptions:d,middleware:this.requestConfig.requestMiddleware}).then(r=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(r),r.data)).catch(r=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(r),r})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,i){const{headers:n}=this.requestConfig;return n?n[e]=i:this.requestConfig.headers={[e]:i},this}setEndpoint(e){return this.url=e,this}}const Bi=t=>oe(this,null,function*(){var e,i;const{query:n,variables:s,fetchOptions:o}=t,l=pl(((e=t.method)!=null?e:"post").toUpperCase()),d=Array.isArray(t.query),a=yield l(t),c=yield bl(a,(i=o.jsonSerializer)!=null?i:Ui),r=Array.isArray(c)?!c.some(({data:p})=>!p):!!c.data,u=Array.isArray(c)||!c.errors||Array.isArray(c.errors)&&!c.errors.length||o.errorPolicy==="all"||o.errorPolicy==="ignore";if(a.ok&&u&&r){const p=c,h=Fe(p,["errors"]),m=o.errorPolicy==="ignore"?h:c;return Ye(z({},d?{data:m}:m),{headers:a.headers,status:a.status})}throw new ot(Ye(z({},typeof c=="string"?{error:c}:c),{status:a.status,headers:a.headers}),{query:n,variables:s})}),ml=(t,e,i,n)=>{const s=n??Ui;if(!Array.isArray(t))return s.stringify({query:t,variables:e,operationName:i});if(e!==void 0&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const o=t.reduce((l,d,a)=>(l.push({query:d,variables:e?e[a]:void 0}),l),[]);return s.stringify(o)},bl=(t,e)=>oe(this,null,function*(){let i;return t.headers.forEach((n,s)=>{s.toLowerCase()==="content-type"&&(i=n)}),i&&(i.toLowerCase().startsWith("application/json")||i.toLowerCase().startsWith("application/graphql+json")||i.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(yield t.text()):t.text()}),Di=t=>typeof t=="function"?t():t;var ni=function(){return ni=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},ni.apply(this,arguments)},si=new Map,Qi=new Map,Ps=!0,oi=!1;function Bs(t){return t.replace(/[\s,]+/g," ").trim()}function gl(t){var e=new Set,i=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var s=n.name.value,o=Bs((d=n.loc).source.body.substring(d.start,d.end)),l=Qi.get(s);l&&!l.has(o)?Ps&&console.warn("Warning: fragment with name "+s+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):l||Qi.set(s,l=new Set),l.add(o),e.has(o)||(e.add(o),i.push(n))}else i.push(n);var d}),ni(ni({},t),{definitions:i})}function Zl(t){var e=Bs(t);if(!si.has(e)){var i=Es(t,{experimentalFragmentVariables:oi,allowLegacyFragmentVariables:oi});if(!i||i.kind!=="Document")throw new Error("Not a valid GraphQL document.");si.set(e,function(n){var s=new Set(n.definitions);s.forEach(function(l){l.loc&&delete l.loc,Object.keys(l).forEach(function(d){var a=l[d];a&&typeof a=="object"&&s.add(a)})});var o=n.loc;return o&&(delete o.startToken,delete o.endToken),n}(gl(i)))}return si.get(e)}function Se(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(s,o){s&&s.kind==="Document"?n+=s.loc.source.body:n+=s,n+=t[o+1]}),Zl(n)}var Gt,yl=Se,Il=function(){si.clear(),Qi.clear()},fl=function(){Ps=!1},Sl=function(){oi=!0},Vl=function(){oi=!1};(Gt=Se||(Se={})).gql=yl,Gt.resetCaches=Il,Gt.disableFragmentWarnings=fl,Gt.enableExperimentalFragmentVariables=Sl,Gt.disableExperimentalFragmentVariables=Vl,Se.default=Se;const ji=Se`
	mutation PushPayload(
		$session_secure_id: String!
		$payload_id: ID!
		$events: ReplayEventsInput!
		$messages: String!
		$resources: String!
		$web_socket_events: String!
		$errors: [ErrorObjectInput]!
		$is_beacon: Boolean
		$has_session_unloaded: Boolean
		$highlight_logs: String
	) {
		pushPayload(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			events: $events
			messages: $messages
			resources: $resources
			web_socket_events: $web_socket_events
			errors: $errors
			is_beacon: $is_beacon
			has_session_unloaded: $has_session_unloaded
			highlight_logs: $highlight_logs
		)
	}
`,Xl=Se`
	mutation PushPayloadCompressed(
		$session_secure_id: String!
		$payload_id: ID!
		$data: String!
	) {
		pushPayloadCompressed(
			session_secure_id: $session_secure_id
			payload_id: $payload_id
			data: $data
		)
	}
`,Cl=Se`
	mutation identifySession(
		$session_secure_id: String!
		$user_identifier: String!
		$user_object: Any
	) {
		identifySession(
			session_secure_id: $session_secure_id
			user_identifier: $user_identifier
			user_object: $user_object
		)
	}
`,Gl=Se`
	mutation addSessionProperties(
		$session_secure_id: String!
		$properties_object: Any
	) {
		addSessionProperties(
			session_secure_id: $session_secure_id
			properties_object: $properties_object
		)
	}
`,Wl=Se`
	mutation pushMetrics($metrics: [MetricInput]!) {
		pushMetrics(metrics: $metrics)
	}
`,Rl=Se`
	mutation addSessionFeedback(
		$session_secure_id: String!
		$user_name: String
		$user_email: String
		$verbatim: String!
		$timestamp: Timestamp!
	) {
		addSessionFeedback(
			session_secure_id: $session_secure_id
			user_name: $user_name
			user_email: $user_email
			verbatim: $verbatim
			timestamp: $timestamp
		)
	}
`,vl=Se`
	mutation initializeSession(
		$session_secure_id: String!
		$organization_verbose_id: String!
		$enable_strict_privacy: Boolean!
		$privacy_setting: String!
		$enable_recording_network_contents: Boolean!
		$clientVersion: String!
		$firstloadVersion: String!
		$clientConfig: String!
		$environment: String!
		$id: String!
		$appVersion: String
		$serviceName: String!
		$client_id: String!
		$network_recording_domains: [String!]
		$disable_session_recording: Boolean
	) {
		initializeSession(
			session_secure_id: $session_secure_id
			organization_verbose_id: $organization_verbose_id
			enable_strict_privacy: $enable_strict_privacy
			enable_recording_network_contents: $enable_recording_network_contents
			clientVersion: $clientVersion
			firstloadVersion: $firstloadVersion
			clientConfig: $clientConfig
			environment: $environment
			appVersion: $appVersion
			serviceName: $serviceName
			fingerprint: $id
			client_id: $client_id
			network_recording_domains: $network_recording_domains
			disable_session_recording: $disable_session_recording
			privacy_setting: $privacy_setting
		) {
			secure_id
			project_id
		}
	}
`,kl=Se`
	query Ignore($id: ID!) {
		ignore(id: $id)
	}
`,Nl=(t,e,i,n)=>t();var Ds,Qs={exports:{}},js={exports:{}};function wl(){return Ds||(Ds=1,function(t,e){t.exports=function(i){return{backtrace:function(n){var s=[],o=10;typeof n=="object"&&typeof n.maxStackSize=="number"&&(o=n.maxStackSize);for(var l=arguments.callee;l&&s.length<o&&l.arguments;){for(var d=new Array(l.arguments.length),a=0;a<d.length;++a)d[a]=l.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(l.toString())?s.push(new i({functionName:RegExp.$1||void 0,args:d})):s.push(new i({args:d}));try{l=l.caller}catch{break}}return s}}}(Ti())}(js)),js.exports}var _s,qs={exports:{}},Wt={},$s={};function eo(){return _s||(_s=1,function(t){t.getArg=function(r,u,p){if(u in r)return r[u];if(arguments.length===3)return p;throw new Error('"'+u+'" is a required argument.')};var e=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function n(r){var u=r.match(e);return u?{scheme:u[1],auth:u[2],host:u[3],port:u[4],path:u[5]}:null}function s(r){var u="";return r.scheme&&(u+=r.scheme+":"),u+="//",r.auth&&(u+=r.auth+"@"),r.host&&(u+=r.host),r.port&&(u+=":"+r.port),r.path&&(u+=r.path),u}function o(r){var u=r,p=n(r);if(p){if(!p.path)return r;u=p.path}for(var h,m=t.isAbsolute(u),b=u.split(/\/+/),I=0,g=b.length-1;g>=0;g--)(h=b[g])==="."?b.splice(g,1):h===".."?I++:I>0&&(h===""?(b.splice(g+1,I),I=0):(b.splice(g,2),I--));return(u=b.join("/"))===""&&(u=m?"/":"."),p?(p.path=u,s(p)):u}t.urlParse=n,t.urlGenerate=s,t.normalize=o,t.join=function(r,u){r===""&&(r="."),u===""&&(u=".");var p=n(u),h=n(r);if(h&&(r=h.path||"/"),p&&!p.scheme)return h&&(p.scheme=h.scheme),s(p);if(p||u.match(i))return u;if(h&&!h.host&&!h.path)return h.host=u,s(h);var m=u.charAt(0)==="/"?u:o(r.replace(/\/+$/,"")+"/"+u);return h?(h.path=m,s(h)):m},t.isAbsolute=function(r){return r.charAt(0)==="/"||!!r.match(e)},t.relative=function(r,u){r===""&&(r="."),r=r.replace(/\/$/,"");for(var p=0;u.indexOf(r+"/")!==0;){var h=r.lastIndexOf("/");if(h<0||(r=r.slice(0,h)).match(/^([^\/]+:\/)?\/*$/))return u;++p}return Array(p+1).join("../")+u.substr(r.length+1)};var l=!("__proto__"in Object.create(null));function d(r){return r}function a(r){if(!r)return!1;var u=r.length;if(u<9||r.charCodeAt(u-1)!==95||r.charCodeAt(u-2)!==95||r.charCodeAt(u-3)!==111||r.charCodeAt(u-4)!==116||r.charCodeAt(u-5)!==111||r.charCodeAt(u-6)!==114||r.charCodeAt(u-7)!==112||r.charCodeAt(u-8)!==95||r.charCodeAt(u-9)!==95)return!1;for(var p=u-10;p>=0;p--)if(r.charCodeAt(p)!==36)return!1;return!0}function c(r,u){return r===u?0:r>u?1:-1}t.toSetString=l?d:function(r){return a(r)?"$"+r:r},t.fromSetString=l?d:function(r){return a(r)?r.slice(1):r},t.compareByOriginalPositions=function(r,u,p){var h=r.source-u.source;return h!==0||(h=r.originalLine-u.originalLine)!==0||(h=r.originalColumn-u.originalColumn)!==0||p||(h=r.generatedColumn-u.generatedColumn)!==0||(h=r.generatedLine-u.generatedLine)!==0?h:r.name-u.name},t.compareByGeneratedPositionsDeflated=function(r,u,p){var h=r.generatedLine-u.generatedLine;return h!==0||(h=r.generatedColumn-u.generatedColumn)!==0||p||(h=r.source-u.source)!==0||(h=r.originalLine-u.originalLine)!==0||(h=r.originalColumn-u.originalColumn)!==0?h:r.name-u.name},t.compareByGeneratedPositionsInflated=function(r,u){var p=r.generatedLine-u.generatedLine;return p!==0||(p=r.generatedColumn-u.generatedColumn)!==0||(p=c(r.source,u.source))!==0||(p=r.originalLine-u.originalLine)!==0||(p=r.originalColumn-u.originalColumn)!==0?p:c(r.name,u.name)}}($s)),$s}var to,io={};function Tl(){return to||(to=1,function(t){function e(i,n,s,o,l,d){var a=Math.floor((n-i)/2)+i,c=l(s,o[a],!0);return c===0?a:c>0?n-a>1?e(a,n,s,o,l,d):d==t.LEAST_UPPER_BOUND?n<o.length?n:-1:a:a-i>1?e(i,a,s,o,l,d):d==t.LEAST_UPPER_BOUND?a:i<0?-1:i}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(i,n,s,o){if(n.length===0)return-1;var l=e(-1,n.length,i,n,s,o||t.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&s(n[l],n[l-1],!0)===0;)--l;return l}}(io)),io}var no,_i={},so,oo,ri={},li={};function Ll(){if(oo)return ri;oo=1;var t=function(){if(so)return li;so=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return li.encode=function(i){if(0<=i&&i<e.length)return e[i];throw new TypeError("Must be between 0 and 63: "+i)},li.decode=function(i){return 65<=i&&i<=90?i-65:97<=i&&i<=122?i-97+26:48<=i&&i<=57?i-48+52:i==43?62:i==47?63:-1},li}();return ri.encode=function(e){var i,n="",s=function(o){return o<0?1+(-o<<1):0+(o<<1)}(e);do i=31&s,(s>>>=5)>0&&(i|=32),n+=t.encode(i);while(s>0);return n},ri.decode=function(e,i,n){var s,o,l,d,a=e.length,c=0,r=0;do{if(i>=a)throw new Error("Expected more digits in base 64 VLQ value.");if((o=t.decode(e.charCodeAt(i++)))===-1)throw new Error("Invalid base64 digit: "+e.charAt(i-1));s=!!(32&o),c+=(o&=31)<<r,r+=5}while(s);n.value=(d=(l=c)>>1,(1&l)==1?-d:d),n.rest=i},ri}var ro,lo,ao,qi={};function xl(){if(ro)return qi;function t(i,n,s){var o=i[n];i[n]=i[s],i[s]=o}function e(i,n,s,o){if(s<o){var l=s-1;t(i,(r=s,u=o,Math.round(r+Math.random()*(u-r))),o);for(var d=i[o],a=s;a<o;a++)n(i[a],d)<=0&&t(i,l+=1,a);t(i,l+1,a);var c=l+1;e(i,n,s,c-1),e(i,n,c+1,o)}var r,u}return ro=1,qi.quickSort=function(i,n){e(i,n,0,i.length-1)},qi}function Jl(){if(lo)return Wt;lo=1;var t=eo(),e=Tl(),i=function(){if(no)return _i;no=1;var c=eo(),r=Object.prototype.hasOwnProperty;function u(){this._array=[],this._set=Object.create(null)}return u.fromArray=function(p,h){for(var m=new u,b=0,I=p.length;b<I;b++)m.add(p[b],h);return m},u.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},u.prototype.add=function(p,h){var m=c.toSetString(p),b=r.call(this._set,m),I=this._array.length;b&&!h||this._array.push(p),b||(this._set[m]=I)},u.prototype.has=function(p){var h=c.toSetString(p);return r.call(this._set,h)},u.prototype.indexOf=function(p){var h=c.toSetString(p);if(r.call(this._set,h))return this._set[h];throw new Error('"'+p+'" is not in the set.')},u.prototype.at=function(p){if(p>=0&&p<this._array.length)return this._array[p];throw new Error("No element indexed by "+p)},u.prototype.toArray=function(){return this._array.slice()},_i.ArraySet=u,_i}().ArraySet,n=Ll(),s=xl().quickSort;function o(c){var r=c;return typeof c=="string"&&(r=JSON.parse(c.replace(/^\)\]\}'/,""))),r.sections!=null?new a(r):new l(r)}function l(c){var r=c;typeof c=="string"&&(r=JSON.parse(c.replace(/^\)\]\}'/,"")));var u=t.getArg(r,"version"),p=t.getArg(r,"sources"),h=t.getArg(r,"names",[]),m=t.getArg(r,"sourceRoot",null),b=t.getArg(r,"sourcesContent",null),I=t.getArg(r,"mappings"),g=t.getArg(r,"file",null);if(u!=this._version)throw new Error("Unsupported version: "+u);p=p.map(String).map(t.normalize).map(function(f){return m&&t.isAbsolute(m)&&t.isAbsolute(f)?t.relative(m,f):f}),this._names=i.fromArray(h.map(String),!0),this._sources=i.fromArray(p,!0),this.sourceRoot=m,this.sourcesContent=b,this._mappings=I,this.file=g}function d(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(c){var r=c;typeof c=="string"&&(r=JSON.parse(c.replace(/^\)\]\}'/,"")));var u=t.getArg(r,"version"),p=t.getArg(r,"sections");if(u!=this._version)throw new Error("Unsupported version: "+u);this._sources=new i,this._names=new i;var h={line:-1,column:0};this._sections=p.map(function(m){if(m.url)throw new Error("Support for url field in sections not implemented.");var b=t.getArg(m,"offset"),I=t.getArg(b,"line"),g=t.getArg(b,"column");if(I<h.line||I===h.line&&g<h.column)throw new Error("Section offsets must be ordered and non-overlapping.");return h=b,{generatedOffset:{generatedLine:I+1,generatedColumn:g+1},consumer:new o(t.getArg(m,"map"))}})}return o.fromSourceMap=function(c){return l.fromSourceMap(c)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(c,r){var u=c.charAt(r);return u===";"||u===","},o.prototype._parseMappings=function(c,r){throw new Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(c,r,u){var p,h=r||null;switch(u||o.GENERATED_ORDER){case o.GENERATED_ORDER:p=this._generatedMappings;break;case o.ORIGINAL_ORDER:p=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var m=this.sourceRoot;p.map(function(b){var I=b.source===null?null:this._sources.at(b.source);return I!=null&&m!=null&&(I=t.join(m,I)),{source:I,generatedLine:b.generatedLine,generatedColumn:b.generatedColumn,originalLine:b.originalLine,originalColumn:b.originalColumn,name:b.name===null?null:this._names.at(b.name)}},this).forEach(c,h)},o.prototype.allGeneratedPositionsFor=function(c){var r=t.getArg(c,"line"),u={source:t.getArg(c,"source"),originalLine:r,originalColumn:t.getArg(c,"column",0)};if(this.sourceRoot!=null&&(u.source=t.relative(this.sourceRoot,u.source)),!this._sources.has(u.source))return[];u.source=this._sources.indexOf(u.source);var p=[],h=this._findMapping(u,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(h>=0){var m=this._originalMappings[h];if(c.column===void 0)for(var b=m.originalLine;m&&m.originalLine===b;)p.push({line:t.getArg(m,"generatedLine",null),column:t.getArg(m,"generatedColumn",null),lastColumn:t.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++h];else for(var I=m.originalColumn;m&&m.originalLine===r&&m.originalColumn==I;)p.push({line:t.getArg(m,"generatedLine",null),column:t.getArg(m,"generatedColumn",null),lastColumn:t.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++h]}return p},Wt.SourceMapConsumer=o,l.prototype=Object.create(o.prototype),l.prototype.consumer=o,l.fromSourceMap=function(c){var r=Object.create(l.prototype),u=r._names=i.fromArray(c._names.toArray(),!0),p=r._sources=i.fromArray(c._sources.toArray(),!0);r.sourceRoot=c._sourceRoot,r.sourcesContent=c._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=c._file;for(var h=c._mappings.toArray().slice(),m=r.__generatedMappings=[],b=r.__originalMappings=[],I=0,g=h.length;I<g;I++){var f=h[I],y=new d;y.generatedLine=f.generatedLine,y.generatedColumn=f.generatedColumn,f.source&&(y.source=p.indexOf(f.source),y.originalLine=f.originalLine,y.originalColumn=f.originalColumn,f.name&&(y.name=u.indexOf(f.name)),b.push(y)),m.push(y)}return s(r.__originalMappings,t.compareByOriginalPositions),r},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){return this._sources.toArray().map(function(c){return this.sourceRoot!=null?t.join(this.sourceRoot,c):c},this)}}),l.prototype._parseMappings=function(c,r){for(var u,p,h,m,b,I=1,g=0,f=0,y=0,S=0,G=0,N=c.length,w=0,K={},L={},T=[],J=[];w<N;)if(c.charAt(w)===";")I++,w++,g=0;else if(c.charAt(w)===",")w++;else{for((u=new d).generatedLine=I,m=w;m<N&&!this._charIsMappingSeparator(c,m);m++);if(h=K[p=c.slice(w,m)])w+=p.length;else{for(h=[];w<m;)n.decode(c,w,L),b=L.value,w=L.rest,h.push(b);if(h.length===2)throw new Error("Found a source, but no line and column");if(h.length===3)throw new Error("Found a source and line, but no column");K[p]=h}u.generatedColumn=g+h[0],g=u.generatedColumn,h.length>1&&(u.source=S+h[1],S+=h[1],u.originalLine=f+h[2],f=u.originalLine,u.originalLine+=1,u.originalColumn=y+h[3],y=u.originalColumn,h.length>4&&(u.name=G+h[4],G+=h[4])),J.push(u),typeof u.originalLine=="number"&&T.push(u)}s(J,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=J,s(T,t.compareByOriginalPositions),this.__originalMappings=T},l.prototype._findMapping=function(c,r,u,p,h,m){if(c[u]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+c[u]);if(c[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+c[p]);return e.search(c,r,h,m)},l.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var r=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var u=this._generatedMappings[c+1];if(r.generatedLine===u.generatedLine){r.lastGeneratedColumn=u.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(c){var r={generatedLine:t.getArg(c,"line"),generatedColumn:t.getArg(c,"column")},u=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(u>=0){var p=this._generatedMappings[u];if(p.generatedLine===r.generatedLine){var h=t.getArg(p,"source",null);h!==null&&(h=this._sources.at(h),this.sourceRoot!=null&&(h=t.join(this.sourceRoot,h)));var m=t.getArg(p,"name",null);return m!==null&&(m=this._names.at(m)),{source:h,line:t.getArg(p,"originalLine",null),column:t.getArg(p,"originalColumn",null),name:m}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null})},l.prototype.sourceContentFor=function(c,r){if(!this.sourcesContent)return null;if(this.sourceRoot!=null&&(c=t.relative(this.sourceRoot,c)),this._sources.has(c))return this.sourcesContent[this._sources.indexOf(c)];var u;if(this.sourceRoot!=null&&(u=t.urlParse(this.sourceRoot))){var p=c.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(p))return this.sourcesContent[this._sources.indexOf(p)];if((!u.path||u.path=="/")&&this._sources.has("/"+c))return this.sourcesContent[this._sources.indexOf("/"+c)]}if(r)return null;throw new Error('"'+c+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(c){var r=t.getArg(c,"source");if(this.sourceRoot!=null&&(r=t.relative(this.sourceRoot,r)),!this._sources.has(r))return{line:null,column:null,lastColumn:null};var u={source:r=this._sources.indexOf(r),originalLine:t.getArg(c,"line"),originalColumn:t.getArg(c,"column")},p=this._findMapping(u,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(p>=0){var h=this._originalMappings[p];if(h.source===u.source)return{line:t.getArg(h,"generatedLine",null),column:t.getArg(h,"generatedColumn",null),lastColumn:t.getArg(h,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Wt.BasicSourceMapConsumer=l,a.prototype=Object.create(o.prototype),a.prototype.constructor=o,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var c=[],r=0;r<this._sections.length;r++)for(var u=0;u<this._sections[r].consumer.sources.length;u++)c.push(this._sections[r].consumer.sources[u]);return c}}),a.prototype.originalPositionFor=function(c){var r={generatedLine:t.getArg(c,"line"),generatedColumn:t.getArg(c,"column")},u=e.search(r,this._sections,function(h,m){var b=h.generatedLine-m.generatedOffset.generatedLine;return b||h.generatedColumn-m.generatedOffset.generatedColumn}),p=this._sections[u];return p?p.consumer.originalPositionFor({line:r.generatedLine-(p.generatedOffset.generatedLine-1),column:r.generatedColumn-(p.generatedOffset.generatedLine===r.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(c,r){for(var u=0;u<this._sections.length;u++){var p=this._sections[u].consumer.sourceContentFor(c,!0);if(p)return p}if(r)return null;throw new Error('"'+c+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(c){for(var r=0;r<this._sections.length;r++){var u=this._sections[r];if(u.consumer.sources.indexOf(t.getArg(c,"source"))!==-1){var p=u.consumer.generatedPositionFor(c);if(p)return{line:p.line+(u.generatedOffset.generatedLine-1),column:p.column+(u.generatedOffset.generatedLine===p.line?u.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},a.prototype._parseMappings=function(c,r){this.__generatedMappings=[],this.__originalMappings=[];for(var u=0;u<this._sections.length;u++)for(var p=this._sections[u],h=p.consumer._generatedMappings,m=0;m<h.length;m++){var b=h[m],I=p.consumer._sources.at(b.source);p.consumer.sourceRoot!==null&&(I=t.join(p.consumer.sourceRoot,I)),this._sources.add(I),I=this._sources.indexOf(I);var g=p.consumer._names.at(b.name);this._names.add(g),g=this._names.indexOf(g);var f={source:I,generatedLine:b.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:b.generatedColumn+(p.generatedOffset.generatedLine===b.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:b.originalLine,originalColumn:b.originalColumn,name:g};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}s(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),s(this.__originalMappings,t.compareByOriginalPositions)},Wt.IndexedSourceMapConsumer=a,Wt}function Ul(){return ao||(ao=1,function(t,e){t.exports=function(i,n){function s(p){return new Promise(function(h,m){var b=new XMLHttpRequest;b.open("get",p),b.onerror=m,b.onreadystatechange=function(){b.readyState===4&&(b.status>=200&&b.status<300||p.substr(0,7)==="file://"&&b.responseText?h(b.responseText):m(new Error("HTTP status: "+b.status+" retrieving "+p)))},b.send()})}function o(p){if(typeof window<"u"&&window.atob)return window.atob(p);throw new Error("You must supply a polyfill for window.atob in this environment")}function l(p){if(typeof JSON<"u"&&JSON.parse)return JSON.parse(p);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function d(p,h){for(var m=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],b=p.split(`
`),I="",g=Math.min(h,20),f=0;f<g;++f){var y=b[h-f-1],S=y.indexOf("//");if(S>=0&&(y=y.substr(0,S)),y){I=y+I;for(var G=m.length,N=0;N<G;N++){var w=m[N].exec(I);if(w&&w[1])return w[1]}}}}function a(){if(typeof Object.defineProperty!="function"||typeof Object.create!="function")throw new Error("Unable to consume source maps in older browsers")}function c(p){if(typeof p!="object")throw new TypeError("Given StackFrame is not an object");if(typeof p.fileName!="string")throw new TypeError("Given file name is not a String");if(typeof p.lineNumber!="number"||p.lineNumber%1!=0||p.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if(typeof p.columnNumber!="number"||p.columnNumber%1!=0||p.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function r(p){for(var h,m,b=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;m=b.exec(p);)h=m[1];if(h)return h;throw new Error("sourceMappingURL not found")}function u(p,h,m){return new Promise(function(b,I){var g=h.originalPositionFor({line:p.lineNumber,column:p.columnNumber});if(g.source){var f=h.sourceContentFor(g.source);f&&(m[g.source]=f),b(new n({functionName:g.name||p.functionName,args:p.args,fileName:g.source,lineNumber:g.line,columnNumber:g.column}))}else I(new Error("Could not get original source for given stackframe and source map"))})}return function p(h){if(!(this instanceof p))return new p(h);h=h||{},this.sourceCache=h.sourceCache||{},this.sourceMapConsumerCache=h.sourceMapConsumerCache||{},this.ajax=h.ajax||s,this._atob=h.atob||o,this._get=function(m){return new Promise((function(b,I){var g=m.substr(0,5)==="data:";if(this.sourceCache[m])b(this.sourceCache[m]);else if(h.offline&&!g)I(new Error("Cannot make network requests in offline mode"));else if(g){var f=/^data:application\/json;([\w=:"-]+;)*base64,/,y=m.match(f);if(y){var S=y[0].length,G=m.substr(S),N=this._atob(G);this.sourceCache[m]=N,b(N)}else I(new Error("The encoding of the inline sourcemap is not supported"))}else{var w=this.ajax(m,{method:"get"});this.sourceCache[m]=w,w.then(b,I)}}).bind(this))},this._getSourceMapConsumer=function(m,b){return new Promise((function(I){if(this.sourceMapConsumerCache[m])I(this.sourceMapConsumerCache[m]);else{var g=new Promise((function(f,y){return this._get(m).then(function(S){typeof S=="string"&&(S=l(S.replace(/^\)\]\}'/,""))),S.sourceRoot===void 0&&(S.sourceRoot=b),f(new i.SourceMapConsumer(S))},y)}).bind(this));this.sourceMapConsumerCache[m]=g,I(g)}}).bind(this))},this.pinpoint=function(m){return new Promise((function(b,I){this.getMappedLocation(m).then((function(g){function f(){b(g)}this.findFunctionName(g).then(b,f).catch(f)}).bind(this),I)}).bind(this))},this.findFunctionName=function(m){return new Promise((function(b,I){c(m),this._get(m.fileName).then(function(g){var f=m.lineNumber,y=m.columnNumber,S=d(g,f);b(S?new n({functionName:S,args:m.args,fileName:m.fileName,lineNumber:f,columnNumber:y}):m)},I).catch(I)}).bind(this))},this.getMappedLocation=function(m){return new Promise((function(b,I){a(),c(m);var g=this.sourceCache,f=m.fileName;this._get(f).then((function(y){var S=r(y),G=S.substr(0,5)==="data:",N=f.substring(0,f.lastIndexOf("/")+1);return S[0]==="/"||G||/^https?:\/\/|^\/\//i.test(S)||(S=N+S),this._getSourceMapConsumer(S,N).then(function(w){return u(m,w,g).then(b).catch(function(){b(m)})})}).bind(this),I).catch(I)}).bind(this))}}}(Jl(),Ti())}(qs)),qs.exports}(function(t,e){t.exports=function(i,n,s){var o={filter:function(r){return(r.functionName||"").indexOf("StackTrace$$")===-1&&(r.functionName||"").indexOf("ErrorStackParser$$")===-1&&(r.functionName||"").indexOf("StackTraceGPS$$")===-1&&(r.functionName||"").indexOf("StackGenerator$$")===-1},sourceCache:{}},l=function(){try{throw new Error}catch(r){return r}};function d(r,u){var p={};return[r,u].forEach(function(h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m]);return p}),p}function a(r){return r.stack||r["opera#sourceloc"]}function c(r,u){return typeof u=="function"?r.filter(u):r}return{get:function(r){var u=l();return a(u)?this.fromError(u,r):this.generateArtificially(r)},getSync:function(r){r=d(o,r);var u=l();return c(a(u)?i.parse(u):n.backtrace(r),r.filter)},fromError:function(r,u){u=d(o,u);var p=new s(u);return new Promise((function(h){var m=c(i.parse(r),u.filter);h(Promise.all(m.map(function(b){return new Promise(function(I){function g(){I(b)}p.pinpoint(b).then(I,g).catch(g)})})))}).bind(this))},generateArtificially:function(r){r=d(o,r);var u=n.backtrace(r);return typeof r.filter=="function"&&(u=u.filter(r.filter)),Promise.resolve(u)},instrument:function(r,u,p,h){if(typeof r!="function")throw new Error("Cannot instrument non-function object");if(typeof r.__stacktraceOriginalFn=="function")return r;var m=(function(){try{return this.get().then(u,p).catch(p),r.apply(h||this,arguments)}catch(b){throw a(b)&&this.fromError(b).then(u,p).catch(p),b}}).bind(this);return m.__stacktraceOriginalFn=r,m},deinstrument:function(r){if(typeof r!="function")throw new Error("Cannot de-instrument non-function object");return typeof r.__stacktraceOriginalFn=="function"?r.__stacktraceOriginalFn:r},report:function(r,u,p,h){return new Promise(function(m,b){var I=new XMLHttpRequest;if(I.onerror=b,I.onreadystatechange=function(){I.readyState===4&&(I.status>=200&&I.status<400?m(I.responseText):b(new Error("POST to "+u+" failed with status: "+I.status)))},I.open("post",u),I.setRequestHeader("Content-Type","application/json"),h&&typeof h.headers=="object"){var g=h.headers;for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&I.setRequestHeader(f,g[f])}var y={stack:r};p!=null&&(y.message=p),I.send(JSON.stringify(y))})}}}(Zs,wl(),Ul())})(Qs);const Kl=Qt(Qs.exports);var ce=(t=>(t.RECORDING_START_TIME="highlightRecordingStartTime",t.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",t.SESSION_DATA="sessionData",t.SESSION_SECURE_ID="sessionSecureID",t.USER_IDENTIFIER="highlightIdentifier",t.USER_OBJECT="highlightUserObject",t.PAYLOAD_ID="payloadId",t))(ce||{});let $i="localStorage",Yl=new class{constructor(){x(this,"storage",{})}getItem(t){var e;return(e=this.storage[t])!=null?e:""}setItem(t,e){this.storage[t]=e}removeItem(t){delete this.storage[t]}};const en=()=>{try{switch($i){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch{return Yl}},Ve=t=>en().getItem(t),Ge=(t,e)=>en().setItem(t,e),tn=t=>en().removeItem(t),Fl=t=>{if($i==="sessionStorage")return void console.warn("highlight.io cannot use local storage; segment integration will not work");const e=window.localStorage.setItem;window.localStorage.setItem=function(){const[i,n]=arguments;t({keyName:i,keyValue:n}),e.apply(this,[i,n])}},Hl=t=>{t(window.location.href);var e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(o){setTimeout(()=>{var l,d;try{d=JSON.parse((l=o==null?void 0:o.toString())!=null?l:"")}catch{return}d.type!=="track"&&d.type!=="identify"||nn(d)&&t(d)},100),e.call(this,o)};const i=o=>{if(o.key==="ajs_user_id"||o.key==="ajs_anonymous_id"||o.key==="ajs_user_traits"){const{userId:l,userTraits:d}=co();if(l){let a={};d&&(a=JSON.parse(d));const c={type:"identify",userId:l.toString(),traits:a};nn(c)&&t(c)}}},{userId:n,userTraits:s}=co();if(n){let o={};s&&(o=JSON.parse(s));const l={type:"identify",userId:n.toString(),traits:o};nn(l)&&t(l)}return window.addEventListener("storage",i),Fl(({keyName:o})=>{i({key:o})}),()=>{window.removeEventListener("storage",i),XMLHttpRequest.prototype.send=e}},co=()=>({userId:Ve("ajs_user_id"),userTraits:Ve("ajs_user_traits"),anonymousId:Ve("ajs_anonymous_id")}),nn=t=>{if(!t)return!1;let e="";try{e=JSON.stringify(t)}catch{return!1}const i=El(e),n=Ve(ce.SEGMENT_LAST_SENT_HASH_KEY);return(n===void 0||i!==n)&&(Ge(ce.SEGMENT_LAST_SENT_HASH_KEY,i),!0)},El=t=>{var e=0,i=t.length,n=0;if(i>0)for(;n<i;)e=(e<<5)-e+t.charCodeAt(n++)|0;return e.toString()};function uo(t,e){return Ml(t)}function po(t){if(t.id.length)return`#${t.id}`;if(t.classList.length){let e=[];for(const i of t.classList)e.push(`.${i}`);return`${t.nodeName.toLowerCase()}${e.join(",")}`}return t.nodeName.toLowerCase()}const Ml=t=>{let e="";const i=t.getAttribute("class"),n=t.getAttribute("id");return n&&(e=e.concat(ho(n,"#"))),i&&(e=e.concat(ho(i,"."))),e===""&&(e=e.concat(t.tagName.toLowerCase())),e},ho=(t,e)=>`${e}${t.trim().split(" ").join(e)}`,Ol=(t,e)=>{const i=function(d){typeof d!="string"&&(d="");const a=(d=d.replace(/\s/g,"")).split(",");let c=a.lastIndexOf("");for(;c>=0;)a[c-1]+=",",a.splice(c,1),c=a.lastIndexOf("");return a}(t);let n=[];for(let d=0;d<i.length;d++){let a=i[d].split("+");n=[],a.length>1&&(n=Pl(bo,a)),a=a[a.length-1],a=a==="*"?"*":Al(a),a in we||(we[a]=[]),we[a].push({mods:n,shortcut:i[d],key:i[d],method:e,keyup:!1,keydown:!0,scope:"all",splitKey:"+"})}var s,o,l;s=document,o="keydown",l=d=>{(function(a){const c=we["*"];let r=a.keyCode||a.which||a.charCode;if(r!==93&&r!==224||(r=91),ge.indexOf(r)===-1&&r!==229&&ge.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(u=>{const p=mo[u];a[u]&&ge.indexOf(p)===-1?ge.push(p):!a[u]&&ge.indexOf(p)>-1?ge.splice(ge.indexOf(p),1):u==="metaKey"&&a[u]&&ge.length===3&&(a.ctrlKey||a.shiftKey||a.altKey||(ge=ge.slice(ge.indexOf(p))))}),!(r in Ze)||(Ze[r]=!0,c)){for(const u in Ze)Object.prototype.hasOwnProperty.call(Ze,u)&&(Ze[u]=a[mo[u]]);if(a.getModifierState&&(!a.altKey||a.ctrlKey)&&a.getModifierState("AltGraph")&&(ge.indexOf(17)===-1&&ge.push(17),ge.indexOf(18)===-1&&ge.push(18),Ze[17]=!0,Ze[18]=!0),r in we){for(let u=0;u<we[r].length;u++)if((a.type==="keydown"&&we[r][u].keydown||a.type==="keyup"&&we[r][u].keyup)&&we[r][u].key){const p=we[r][u];Bl(a,p,"all")}}}})(d)},s.addEventListener?s.addEventListener(o,l,!1):s.attachEvent&&s.attachEvent(`on${o}`,()=>{l(window.event)})};let ge=[];const we={},sn=typeof navigator<"u"&&navigator.userAgent.toLowerCase().indexOf("firefox")>0,zl={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":sn?173:189,"=":sn?61:187,";":sn?59:186,"'":222,"[":219,"]":221,"\\":220},mo={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Ze={16:!1,18:!1,17:!1,91:!1},bo={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Al=t=>zl[t.toLowerCase()]||bo[t.toLowerCase()]||t.toUpperCase().charCodeAt(0);function Pl(t,e){const i=e.slice(0,e.length-1);for(let n=0;n<i.length;n++)i[n]=t[i[n].toLowerCase()];return i}function Bl(t,e,i){let n;if(e.scope===i||e.scope==="all"){n=e.mods.length>0;for(const s in Ze)Object.prototype.hasOwnProperty.call(Ze,s)&&(!Ze[s]&&e.mods.indexOf(+s)>-1||Ze[s]&&e.mods.indexOf(+s)===-1)&&(n=!1);(e.mods.length!==0||Ze[16]||Ze[18]||Ze[17]||Ze[91])&&!n&&e.shortcut!=="*"||e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}var Me,Rt,go,ai,on,Zo=-1,De=function(t){addEventListener("pageshow",function(e){e.persisted&&(Zo=e.timeStamp,t(e))},!0)},rn=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},ci=function(){var t=rn();return t&&t.activationStart||0},We=function(t,e){var i=rn(),n="navigate";return Zo>=0?n="back-forward-cache":i&&(document.prerendering||ci()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},lt=function(t,e,i){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(s){Promise.resolve().then(function(){e(s.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},i||{})),n}}catch{}},Re=function(t,e,i,n){var s,o;return function(l){var d,a;e.value>=0&&(l||n)&&((o=e.value-(s||0))||s===void 0)&&(s=e.value,e.delta=o,e.rating=(d=e.value)>(a=i)[1]?"poor":d>a[0]?"needs-improvement":"good",t(e))}},ln=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},di=function(t){var e=function(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||t(i)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},an=function(t){var e=!1;return function(i){e||(t(i),e=!0)}},at=-1,yo=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ui=function(t){document.visibilityState==="hidden"&&at>-1&&(at=t.type==="visibilitychange"?t.timeStamp:0,Dl())},Io=function(){addEventListener("visibilitychange",ui,!0),addEventListener("prerenderingchange",ui,!0)},Dl=function(){removeEventListener("visibilitychange",ui,!0),removeEventListener("prerenderingchange",ui,!0)},cn=function(){return at<0&&(at=yo(),Io(),De(function(){setTimeout(function(){at=yo(),Io()},0)})),{get firstHiddenTime(){return at}}},vt=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},fo=[1800,3e3],So=function(t,e){e=e||{},vt(function(){var i,n=cn(),s=We("FCP"),o=lt("paint",function(l){l.forEach(function(d){d.name==="first-contentful-paint"&&(o.disconnect(),d.startTime<n.firstHiddenTime&&(s.value=Math.max(d.startTime-ci(),0),s.entries.push(d),i(!0)))})});o&&(i=Re(t,s,fo,e.reportAllChanges),De(function(l){s=We("FCP"),i=Re(t,s,fo,e.reportAllChanges),ln(function(){s.value=performance.now()-l.timeStamp,i(!0)})}))})},Vo=[.1,.25],kt={passive:!0,capture:!0},Ql=new Date,Xo=function(t,e){Me||(Me=e,Rt=t,go=new Date,Go(removeEventListener),Co())},Co=function(){if(Rt>=0&&Rt<go-Ql){var t={entryType:"first-input",name:Me.type,target:Me.target,cancelable:Me.cancelable,startTime:Me.timeStamp,processingStart:Me.timeStamp+Rt};ai.forEach(function(e){e(t)}),ai=[]}},jl=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;t.type=="pointerdown"?(i=e,n=t,s=function(){Xo(i,n),l()},o=function(){l()},l=function(){removeEventListener("pointerup",s,kt),removeEventListener("pointercancel",o,kt)},addEventListener("pointerup",s,kt),addEventListener("pointercancel",o,kt)):Xo(e,t)}var i,n,s,o,l},Go=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,jl,kt)})},Wo=[100,300],Ro=0,dn=1/0,pi=0,_l=function(t){t.forEach(function(e){e.interactionId&&(dn=Math.min(dn,e.interactionId),pi=Math.max(pi,e.interactionId),Ro=pi?(pi-dn)/7+1:0)})},vo=function(){return on?Ro:performance.interactionCount||0},ko=[200,500],No=0,wo=function(){return vo()-No},Te=[],un={},To=function(t){var e=Te[Te.length-1],i=un[t.interactionId];if(i||Te.length<10||t.duration>e.latency){if(i)i.entries.push(t),i.latency=Math.max(i.latency,t.duration);else{var n={id:t.interactionId,latency:t.duration,entries:[t]};un[n.id]=n,Te.push(n)}Te.sort(function(s,o){return o.latency-s.latency}),Te.splice(10).forEach(function(s){delete un[s.id]})}},ql=function(t,e){e=e||{},vt(function(){var i;"interactionCount"in performance||on||(on=lt("event",_l,{type:"event",buffered:!0,durationThreshold:0}));var n,s=We("INP"),o=function(d){d.forEach(function(r){r.interactionId&&To(r),r.entryType==="first-input"&&!Te.some(function(u){return u.entries.some(function(p){return r.duration===p.duration&&r.startTime===p.startTime})})&&To(r)});var a,c=(a=Math.min(Te.length-1,Math.floor(wo()/50)),Te[a]);c&&c.latency!==s.value&&(s.value=c.latency,s.entries=c.entries,n())},l=lt("event",o,{durationThreshold:(i=e.durationThreshold)!==null&&i!==void 0?i:40});n=Re(t,s,ko,e.reportAllChanges),l&&("interactionId"in PerformanceEventTiming.prototype&&l.observe({type:"first-input",buffered:!0}),di(function(){o(l.takeRecords()),s.value<0&&wo()>0&&(s.value=0,s.entries=[]),n(!0)}),De(function(){Te=[],No=vo(),s=We("INP"),n=Re(t,s,ko,e.reportAllChanges)}))})},Lo=[2500,4e3],pn={},xo=[800,1800],$l=function t(e){document.prerendering?vt(function(){return t(e)}):document.readyState!=="complete"?addEventListener("load",function(){return t(e)},!0):setTimeout(e,0)},ea=function(t,e){e=e||{};var i=We("TTFB"),n=Re(t,i,xo,e.reportAllChanges);$l(function(){var s=rn();if(s){var o=s.responseStart;if(o<=0||o>performance.now())return;i.value=Math.max(o-ci(),0),i.entries=[s],n(!0),De(function(){i=We("TTFB",0),(n=Re(t,i,xo,e.reportAllChanges))(!0)})}})};const ta=t=>{var e,i,n,s;return e=t,i=i||{},So(an(function(){var o,l=We("CLS",0),d=0,a=[],c=function(u){u.forEach(function(p){if(!p.hadRecentInput){var h=a[0],m=a[a.length-1];d&&p.startTime-m.startTime<1e3&&p.startTime-h.startTime<5e3?(d+=p.value,a.push(p)):(d=p.value,a=[p])}}),d>l.value&&(l.value=d,l.entries=a,o())},r=lt("layout-shift",c);r&&(o=Re(e,l,Vo,i.reportAllChanges),di(function(){c(r.takeRecords()),o(!0)}),De(function(){d=0,l=We("CLS",0),o=Re(e,l,Vo,i.reportAllChanges),ln(function(){return o()})}),setTimeout(o,0))})),So(t),n=t,s=s||{},vt(function(){var o,l=cn(),d=We("FID"),a=function(u){u.startTime<l.firstHiddenTime&&(d.value=u.processingStart-u.startTime,d.entries.push(u),o(!0))},c=function(u){u.forEach(a)},r=lt("first-input",c);o=Re(n,d,Wo,s.reportAllChanges),r&&di(an(function(){c(r.takeRecords()),r.disconnect()})),r&&De(function(){var u;d=We("FID"),o=Re(n,d,Wo,s.reportAllChanges),ai=[],Rt=-1,Me=null,Go(addEventListener),u=a,ai.push(u),Co()})}),function(o,l){l=l||{},vt(function(){var d,a=cn(),c=We("LCP"),r=function(h){var m=h[h.length-1];m&&m.startTime<a.firstHiddenTime&&(c.value=Math.max(m.startTime-ci(),0),c.entries=[m],d())},u=lt("largest-contentful-paint",r);if(u){d=Re(o,c,Lo,l.reportAllChanges);var p=an(function(){pn[c.id]||(r(u.takeRecords()),u.disconnect(),pn[c.id]=!0,d(!0))});["keydown","click"].forEach(function(h){addEventListener(h,function(){return setTimeout(p,0)},!0)}),di(p),De(function(h){c=We("LCP"),d=Re(o,c,Lo,l.reportAllChanges),ln(function(){c.value=performance.now()-h.timeStamp,pn[c.id]=!0,d(!0)})})}})}(t),ea(t),ql(t),()=>{}},hn=t=>t/Math.pow(1e3,2),ia=t=>1024*t,Jo=typeof window<"u"&&"performance"in window&&"memory"in performance?performance:{memory:{}},Nt="highlightLogs",na=t=>{if(!t)return;let e=Ve(Nt)||"";e&&(e.startsWith(t)?(e=e.slice(t.length),Ge(Nt,e)):(i=>{let n=Ve(Nt)||"";n=n+"["+new Date().getTime()+"] "+i+`
`,Ge(Nt,n)})("Unable to clear logs "+t.replace(`
`," ")+" from "+e.replace(`
`," ")))},hi=()=>{var t;const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var i="";const n=typeof window<"u"&&((t=window.crypto)==null?void 0:t.getRandomValues),s=new Uint32Array(28);n&&window.crypto.getRandomValues(s);for(let o=0;o<28;o++)i+=e.charAt(n?s[o]%62:Math.floor(62*Math.random()));return i},Uo=()=>{let t=JSON.parse(Ve(ce.SESSION_DATA)||"{}");if(t&&t.lastPushTime&&Date.now()-t.lastPushTime<55e3)return t},Ko="dmFyIF9fZGVmUHJvcD1PYmplY3QuZGVmaW5lUHJvcGVydHksX19kZWZQcm9wcz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxfX2dldE93blByb3BEZXNjcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxfX2dldE93blByb3BTeW1ib2xzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsX19oYXNPd25Qcm9wPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksX19wcm9wSXNFbnVtPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsX19kZWZOb3JtYWxQcm9wPShlLHQsbik9PnQgaW4gZT9fX2RlZlByb3AoZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6ZVt0XT1uLF9fc3ByZWFkVmFsdWVzPShlLHQpPT57Zm9yKHZhciBuIGluIHR8fCh0PXt9KSlfX2hhc093blByb3AuY2FsbCh0LG4pJiZfX2RlZk5vcm1hbFByb3AoZSxuLHRbbl0pO2lmKF9fZ2V0T3duUHJvcFN5bWJvbHMpZm9yKHZhciBuIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHModCkpX19wcm9wSXNFbnVtLmNhbGwodCxuKSYmX19kZWZOb3JtYWxQcm9wKGUsbix0W25dKTtyZXR1cm4gZX0sX19zcHJlYWRQcm9wcz0oZSx0KT0+X19kZWZQcm9wcyhlLF9fZ2V0T3duUHJvcERlc2NzKHQpKSxfX29ialJlc3Q9KGUsdCk9Pnt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlfX2hhc093blByb3AuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmX19nZXRPd25Qcm9wU3ltYm9scylmb3IodmFyIHIgb2YgX19nZXRPd25Qcm9wU3ltYm9scyhlKSl0LmluZGV4T2Yocik8MCYmX19wcm9wSXNFbnVtLmNhbGwoZSxyKSYmKG5bcl09ZVtyXSk7cmV0dXJuIG59LF9fcHVibGljRmllbGQ9KGUsdCxuKT0+KF9fZGVmTm9ybWFsUHJvcChlLCJzeW1ib2wiIT10eXBlb2YgdD90KyIiOnQsbiksbiksX19hc3luYz0oZSx0LG4pPT5uZXcgUHJvbWlzZSgoKHIsaSk9Pnt2YXIgcz1lPT57dHJ5e2Eobi5uZXh0KGUpKX1jYXRjaCh0KXtpKHQpfX0sbz1lPT57dHJ5e2Eobi50aHJvdyhlKSl9Y2F0Y2godCl7aSh0KX19LGE9ZT0+ZS5kb25lP3IoZS52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGUudmFsdWUpLnRoZW4ocyxvKTthKChuPW4uYXBwbHkoZSx0KSkubmV4dCgpKX0pKTshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlLHQpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJiJzdHJpbmciIT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCkmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCJkZWZhdWx0IiE9PW4mJiEobiBpbiBlKSl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4sci5nZXQ/cjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX19KSl9KSksT2JqZWN0LmZyZWV6ZShlKX12YXIgdD0oZT0+KGVbZS5Jbml0aWFsaXplPTBdPSJJbml0aWFsaXplIixlW2UuQXN5bmNFdmVudHM9MV09IkFzeW5jRXZlbnRzIixlW2UuSWRlbnRpZnk9Ml09IklkZW50aWZ5IixlW2UuUHJvcGVydGllcz0zXT0iUHJvcGVydGllcyIsZVtlLk1ldHJpY3M9NF09Ik1ldHJpY3MiLGVbZS5GZWVkYmFjaz01XT0iRmVlZGJhY2siLGVbZS5DdXN0b21FdmVudD02XT0iQ3VzdG9tRXZlbnQiLGUpKSh0fHx7fSksbj0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsImRlZmF1bHQiKT9lLmRlZmF1bHQ6ZX12YXIgaT17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPVtdLHI9W107cmV0dXJuIG51bGw9PXQmJih0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5bMF09PT10PyJbQ2lyY3VsYXIgfl0iOiJbQ2lyY3VsYXIgfi4iK3Iuc2xpY2UoMCxuLmluZGV4T2YodCkpLmpvaW4oIi4iKSsiXSJ9KSxmdW5jdGlvbihpLHMpe2lmKG4ubGVuZ3RoPjApe3ZhciBvPW4uaW5kZXhPZih0aGlzKTt+bz9uLnNwbGljZShvKzEpOm4ucHVzaCh0aGlzKSx+bz9yLnNwbGljZShvLDEvMCxpKTpyLnB1c2goaSksfm4uaW5kZXhPZihzKSYmKHM9dC5jYWxsKHRoaXMsaSxzKSl9ZWxzZSBuLnB1c2gocyk7cmV0dXJuIG51bGw9PWU/czplLmNhbGwodGhpcyxpLHMpfX0oZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBKU09OLnN0cmluZ2lmeShlLG4odCxpKSxyKX0pLmdldFNlcmlhbGl6ZT1ufShpKTt2YXIgcz1yKGkuZXhwb3J0cyksbz1mdW5jdGlvbigpe3JldHVybiBvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0sby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIGEoZSx0KXtpZighQm9vbGVhbihlKSl0aHJvdyBuZXcgRXJyb3IodCl9ZnVuY3Rpb24gYyhlLHQpe2lmKCFCb29sZWFuKGUpKXRocm93IG5ldyBFcnJvcihudWxsIT10P3Q6IlVuZXhwZWN0ZWQgaW52YXJpYW50IHRyaWdnZXJlZC4iKX1jb25zdCBsPS9cclxufFtcblxyXS9nO2Z1bmN0aW9uIHUoZSx0KXtsZXQgbj0wLHI9MTtmb3IoY29uc3QgaSBvZiBlLmJvZHkubWF0Y2hBbGwobCkpe2lmKCJudW1iZXIiPT10eXBlb2YgaS5pbmRleHx8YyghMSksaS5pbmRleD49dClicmVhaztuPWkuaW5kZXgraVswXS5sZW5ndGgscis9MX1yZXR1cm57bGluZTpyLGNvbHVtbjp0KzEtbn19ZnVuY3Rpb24gZChlLHQpe2NvbnN0IG49ZS5sb2NhdGlvbk9mZnNldC5jb2x1bW4tMSxyPSIiLnBhZFN0YXJ0KG4pK2UuYm9keSxpPXQubGluZS0xLHM9ZS5sb2NhdGlvbk9mZnNldC5saW5lLTEsbz10LmxpbmUrcyxhPTE9PT10LmxpbmU/bjowLGM9dC5jb2x1bW4rYSxsPWAke2UubmFtZX06JHtvfToke2N9XG5gLHU9ci5zcGxpdCgvXHJcbnxbXG5ccl0vZyksZD11W2ldO2lmKGQubGVuZ3RoPjEyMCl7Y29uc3QgZT1NYXRoLmZsb29yKGMvODApLHQ9YyU4MCxuPVtdO2ZvcihsZXQgcj0wO3I8ZC5sZW5ndGg7cis9ODApbi5wdXNoKGQuc2xpY2UocixyKzgwKSk7cmV0dXJuIGwrcChbW2Ake299IHxgLG5bMF1dLC4uLm4uc2xpY2UoMSxlKzEpLm1hcCgoZT0+WyJ8IixlXSkpLFsifCIsIl4iLnBhZFN0YXJ0KHQpXSxbInwiLG5bZSsxXV1dKX1yZXR1cm4gbCtwKFtbby0xKyIgfCIsdVtpLTFdXSxbYCR7b30gfGAsZF0sWyJ8IiwiXiIucGFkU3RhcnQoYyldLFtgJHtvKzF9IHxgLHVbaSsxXV1dKX1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9ZS5maWx0ZXIoKChbZSx0XSk9PnZvaWQgMCE9PXQpKSxuPU1hdGgubWF4KC4uLnQubWFwKCgoW2VdKT0+ZS5sZW5ndGgpKSk7cmV0dXJuIHQubWFwKCgoW2UsdF0pPT5lLnBhZFN0YXJ0KG4pKyh0PyIgIit0OiIiKSkpLmpvaW4oIlxuIil9Y2xhc3MgaCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsLi4udCl7dmFyIG4scixpO2NvbnN0e25vZGVzOnMsc291cmNlOm8scG9zaXRpb25zOmEscGF0aDpjLG9yaWdpbmFsRXJyb3I6bCxleHRlbnNpb25zOmR9PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZVswXTtyZXR1cm4gbnVsbD09dHx8ImtpbmQiaW4gdHx8Imxlbmd0aCJpbiB0P3tub2Rlczp0LHNvdXJjZTplWzFdLHBvc2l0aW9uczplWzJdLHBhdGg6ZVszXSxvcmlnaW5hbEVycm9yOmVbNF0sZXh0ZW5zaW9uczplWzVdfTp0fSh0KTtzdXBlcihlKSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPW51bGwhPWM/Yzp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPW51bGwhPWw/bDp2b2lkIDAsdGhpcy5ub2Rlcz1mKEFycmF5LmlzQXJyYXkocyk/czpzP1tzXTp2b2lkIDApO2NvbnN0IHA9ZihudWxsPT09KG49dGhpcy5ub2Rlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWFwKChlPT5lLmxvYykpLmZpbHRlcigoZT0+bnVsbCE9ZSkpKTt0aGlzLnNvdXJjZT1udWxsIT1vP286bnVsbD09cHx8bnVsbD09PShyPXBbMF0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNvdXJjZSx0aGlzLnBvc2l0aW9ucz1udWxsIT1hP2E6bnVsbD09cD92b2lkIDA6cC5tYXAoKGU9PmUuc3RhcnQpKSx0aGlzLmxvY2F0aW9ucz1hJiZvP2EubWFwKChlPT51KG8sZSkpKTpudWxsPT1wP3ZvaWQgMDpwLm1hcCgoZT0+dShlLnNvdXJjZSxlLnN0YXJ0KSkpO2NvbnN0IHk9Im9iamVjdCI9PXR5cGVvZihtPW51bGw9PWw/dm9pZCAwOmwuZXh0ZW5zaW9ucykmJm51bGwhPT1tP251bGw9PWw/dm9pZCAwOmwuZXh0ZW5zaW9uczp2b2lkIDA7dmFyIG07dGhpcy5leHRlbnNpb25zPW51bGwhPT0oaT1udWxsIT1kP2Q6eSkmJnZvaWQgMCE9PWk/aTpPYmplY3QuY3JlYXRlKG51bGwpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse21lc3NhZ2U6e3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITB9LG5hbWU6e2VudW1lcmFibGU6ITF9LG5vZGVzOntlbnVtZXJhYmxlOiExfSxzb3VyY2U6e2VudW1lcmFibGU6ITF9LHBvc2l0aW9uczp7ZW51bWVyYWJsZTohMX0sb3JpZ2luYWxFcnJvcjp7ZW51bWVyYWJsZTohMX19KSxudWxsIT1sJiZsLnN0YWNrP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOmwuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk6RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxoKTpPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTpFcnJvcigpLnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIkdyYXBoUUxFcnJvciJ9dG9TdHJpbmcoKXtsZXQgZT10aGlzLm1lc3NhZ2U7aWYodGhpcy5ub2Rlcylmb3IoY29uc3QgbiBvZiB0aGlzLm5vZGVzKW4ubG9jJiYoZSs9IlxuXG4iK2QoKHQ9bi5sb2MpLnNvdXJjZSx1KHQuc291cmNlLHQuc3RhcnQpKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpZSs9IlxuXG4iK2QodGhpcy5zb3VyY2Usbik7dmFyIHQ7cmV0dXJuIGV9dG9KU09OKCl7Y29uc3QgZT17bWVzc2FnZTp0aGlzLm1lc3NhZ2V9O3JldHVybiBudWxsIT10aGlzLmxvY2F0aW9ucyYmKGUubG9jYXRpb25zPXRoaXMubG9jYXRpb25zKSxudWxsIT10aGlzLnBhdGgmJihlLnBhdGg9dGhpcy5wYXRoKSxudWxsIT10aGlzLmV4dGVuc2lvbnMmJk9iamVjdC5rZXlzKHRoaXMuZXh0ZW5zaW9ucykubGVuZ3RoPjAmJihlLmV4dGVuc2lvbnM9dGhpcy5leHRlbnNpb25zKSxlfX1mdW5jdGlvbiBmKGUpe3JldHVybiB2b2lkIDA9PT1lfHwwPT09ZS5sZW5ndGg/dm9pZCAwOmV9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIG5ldyBoKGBTeW50YXggRXJyb3I6ICR7bn1gLHtzb3VyY2U6ZSxwb3NpdGlvbnM6W3RdfSl9Y2xhc3MgbXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5zdGFydD1lLnN0YXJ0LHRoaXMuZW5kPXQuZW5kLHRoaXMuc3RhcnRUb2tlbj1lLHRoaXMuZW5kVG9rZW49dCx0aGlzLnNvdXJjZT1ufWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIkxvY2F0aW9uIn10b0pTT04oKXtyZXR1cm57c3RhcnQ6dGhpcy5zdGFydCxlbmQ6dGhpcy5lbmR9fX1jbGFzcyBfe2NvbnN0cnVjdG9yKGUsdCxuLHIsaSxzKXt0aGlzLmtpbmQ9ZSx0aGlzLnN0YXJ0PXQsdGhpcy5lbmQ9bix0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1pLHRoaXMudmFsdWU9cyx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3Qgdj17TmFtZTpbXSxEb2N1bWVudDpbImRlZmluaXRpb25zIl0sT3BlcmF0aW9uRGVmaW5pdGlvbjpbIm5hbWUiLCJ2YXJpYWJsZURlZmluaXRpb25zIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLFZhcmlhYmxlRGVmaW5pdGlvbjpbInZhcmlhYmxlIiwidHlwZSIsImRlZmF1bHRWYWx1ZSIsImRpcmVjdGl2ZXMiXSxWYXJpYWJsZTpbIm5hbWUiXSxTZWxlY3Rpb25TZXQ6WyJzZWxlY3Rpb25zIl0sRmllbGQ6WyJhbGlhcyIsIm5hbWUiLCJhcmd1bWVudHMiLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sQXJndW1lbnQ6WyJuYW1lIiwidmFsdWUiXSxGcmFnbWVudFNwcmVhZDpbIm5hbWUiLCJkaXJlY3RpdmVzIl0sSW5saW5lRnJhZ21lbnQ6WyJ0eXBlQ29uZGl0aW9uIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEZyYWdtZW50RGVmaW5pdGlvbjpbIm5hbWUiLCJ2YXJpYWJsZURlZmluaXRpb25zIiwidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxJbnRWYWx1ZTpbXSxGbG9hdFZhbHVlOltdLFN0cmluZ1ZhbHVlOltdLEJvb2xlYW5WYWx1ZTpbXSxOdWxsVmFsdWU6W10sRW51bVZhbHVlOltdLExpc3RWYWx1ZTpbInZhbHVlcyJdLE9iamVjdFZhbHVlOlsiZmllbGRzIl0sT2JqZWN0RmllbGQ6WyJuYW1lIiwidmFsdWUiXSxEaXJlY3RpdmU6WyJuYW1lIiwiYXJndW1lbnRzIl0sTmFtZWRUeXBlOlsibmFtZSJdLExpc3RUeXBlOlsidHlwZSJdLE5vbk51bGxUeXBlOlsidHlwZSJdLFNjaGVtYURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsImRpcmVjdGl2ZXMiLCJvcGVyYXRpb25UeXBlcyJdLE9wZXJhdGlvblR5cGVEZWZpbml0aW9uOlsidHlwZSJdLFNjYWxhclR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyJdLE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiaW50ZXJmYWNlcyIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXSxGaWVsZERlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJ0eXBlIiwiZGlyZWN0aXZlcyJdLElucHV0VmFsdWVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwidHlwZSIsImRlZmF1bHRWYWx1ZSIsImRpcmVjdGl2ZXMiXSxJbnRlcmZhY2VUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sVW5pb25UeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiLCJ0eXBlcyJdLEVudW1UeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiLCJ2YWx1ZXMiXSxFbnVtVmFsdWVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyJdLElucHV0T2JqZWN0VHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRGlyZWN0aXZlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImFyZ3VtZW50cyIsImxvY2F0aW9ucyJdLFNjaGVtYUV4dGVuc2lvbjpbImRpcmVjdGl2ZXMiLCJvcGVyYXRpb25UeXBlcyJdLFNjYWxhclR5cGVFeHRlbnNpb246WyJuYW1lIiwiZGlyZWN0aXZlcyJdLE9iamVjdFR5cGVFeHRlbnNpb246WyJuYW1lIiwiaW50ZXJmYWNlcyIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXSxJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sVW5pb25UeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJ0eXBlcyJdLEVudW1UeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJ2YWx1ZXMiXSxJbnB1dE9iamVjdFR5cGVFeHRlbnNpb246WyJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdfSxFPW5ldyBTZXQoT2JqZWN0LmtleXModikpO2Z1bmN0aW9uIGcoZSl7Y29uc3QgdD1udWxsPT1lP3ZvaWQgMDplLmtpbmQ7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiZFLmhhcyh0KX12YXIgVCxiLE4sSSxPLEEseCxTO2Z1bmN0aW9uIHcoZSl7cmV0dXJuIDk9PT1lfHwzMj09PWV9ZnVuY3Rpb24gRChlKXtyZXR1cm4gZT49NDgmJmU8PTU3fWZ1bmN0aW9uIGsoZSl7cmV0dXJuIGU+PTk3JiZlPD0xMjJ8fGU+PTY1JiZlPD05MH1mdW5jdGlvbiBDKGUpe3JldHVybiBrKGUpfHw5NT09PWV9ZnVuY3Rpb24gUChlKXtyZXR1cm4gayhlKXx8RChlKXx8OTU9PT1lfWZ1bmN0aW9uIFIoZSl7dmFyIHQ7bGV0IG49TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIscj1udWxsLGk9LTE7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBzO2NvbnN0IHQ9ZVtvXSxhPUwodCk7YSE9PXQubGVuZ3RoJiYocj1udWxsIT09KHM9cikmJnZvaWQgMCE9PXM/czpvLGk9bywwIT09byYmYTxuJiYobj1hKSl9cmV0dXJuIGUubWFwKCgoZSx0KT0+MD09PXQ/ZTplLnNsaWNlKG4pKSkuc2xpY2UobnVsbCE9PSh0PXIpJiZ2b2lkIDAhPT10P3Q6MCxpKzEpfWZ1bmN0aW9uIEwoZSl7bGV0IHQ9MDtmb3IoO3Q8ZS5sZW5ndGgmJncoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fShiPVR8fChUPXt9KSkuUVVFUlk9InF1ZXJ5IixiLk1VVEFUSU9OPSJtdXRhdGlvbiIsYi5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiIsKEk9Tnx8KE49e30pKS5RVUVSWT0iUVVFUlkiLEkuTVVUQVRJT049Ik1VVEFUSU9OIixJLlNVQlNDUklQVElPTj0iU1VCU0NSSVBUSU9OIixJLkZJRUxEPSJGSUVMRCIsSS5GUkFHTUVOVF9ERUZJTklUSU9OPSJGUkFHTUVOVF9ERUZJTklUSU9OIixJLkZSQUdNRU5UX1NQUkVBRD0iRlJBR01FTlRfU1BSRUFEIixJLklOTElORV9GUkFHTUVOVD0iSU5MSU5FX0ZSQUdNRU5UIixJLlZBUklBQkxFX0RFRklOSVRJT049IlZBUklBQkxFX0RFRklOSVRJT04iLEkuU0NIRU1BPSJTQ0hFTUEiLEkuU0NBTEFSPSJTQ0FMQVIiLEkuT0JKRUNUPSJPQkpFQ1QiLEkuRklFTERfREVGSU5JVElPTj0iRklFTERfREVGSU5JVElPTiIsSS5BUkdVTUVOVF9ERUZJTklUSU9OPSJBUkdVTUVOVF9ERUZJTklUSU9OIixJLklOVEVSRkFDRT0iSU5URVJGQUNFIixJLlVOSU9OPSJVTklPTiIsSS5FTlVNPSJFTlVNIixJLkVOVU1fVkFMVUU9IkVOVU1fVkFMVUUiLEkuSU5QVVRfT0JKRUNUPSJJTlBVVF9PQkpFQ1QiLEkuSU5QVVRfRklFTERfREVGSU5JVElPTj0iSU5QVVRfRklFTERfREVGSU5JVElPTiIsKEE9T3x8KE89e30pKS5OQU1FPSJOYW1lIixBLkRPQ1VNRU5UPSJEb2N1bWVudCIsQS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsQS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLEEuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixBLkZJRUxEPSJGaWVsZCIsQS5BUkdVTUVOVD0iQXJndW1lbnQiLEEuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsQS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixBLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsQS5WQVJJQUJMRT0iVmFyaWFibGUiLEEuSU5UPSJJbnRWYWx1ZSIsQS5GTE9BVD0iRmxvYXRWYWx1ZSIsQS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixBLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsQS5OVUxMPSJOdWxsVmFsdWUiLEEuRU5VTT0iRW51bVZhbHVlIixBLkxJU1Q9Ikxpc3RWYWx1ZSIsQS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixBLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLEEuRElSRUNUSVZFPSJEaXJlY3RpdmUiLEEuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixBLkxJU1RfVFlQRT0iTGlzdFR5cGUiLEEuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLEEuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLEEuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLEEuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLEEuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLEEuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixBLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixBLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixBLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsQS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixBLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsQS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixBLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixBLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsQS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLEEuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixBLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsQS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixBLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixBLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIiwoUz14fHwoeD17fSkpLlNPRj0iPFNPRj4iLFMuRU9GPSI8RU9GPiIsUy5CQU5HPSIhIixTLkRPTExBUj0iJCIsUy5BTVA9IiYiLFMuUEFSRU5fTD0iKCIsUy5QQVJFTl9SPSIpIixTLlNQUkVBRD0iLi4uIixTLkNPTE9OPSI6IixTLkVRVUFMUz0iPSIsUy5BVD0iQCIsUy5CUkFDS0VUX0w9IlsiLFMuQlJBQ0tFVF9SPSJdIixTLkJSQUNFX0w9InsiLFMuUElQRT0ifCIsUy5CUkFDRV9SPSJ9IixTLk5BTUU9Ik5hbWUiLFMuSU5UPSJJbnQiLFMuRkxPQVQ9IkZsb2F0IixTLlNUUklORz0iU3RyaW5nIixTLkJMT0NLX1NUUklORz0iQmxvY2tTdHJpbmciLFMuQ09NTUVOVD0iQ29tbWVudCI7Y2xhc3MgRntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PW5ldyBfKHguU09GLDAsMCwwLDApO3RoaXMuc291cmNlPWUsdGhpcy5sYXN0VG9rZW49dCx0aGlzLnRva2VuPXQsdGhpcy5saW5lPTEsdGhpcy5saW5lU3RhcnQ9MH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJMZXhlciJ9YWR2YW5jZSgpe3RoaXMubGFzdFRva2VuPXRoaXMudG9rZW47cmV0dXJuIHRoaXMudG9rZW49dGhpcy5sb29rYWhlYWQoKX1sb29rYWhlYWQoKXtsZXQgZT10aGlzLnRva2VuO2lmKGUua2luZCE9PXguRU9GKWRve2lmKGUubmV4dCllPWUubmV4dDtlbHNle2NvbnN0IHQ9cSh0aGlzLGUuZW5kKTtlLm5leHQ9dCx0LnByZXY9ZSxlPXR9fXdoaWxlKGUua2luZD09PXguQ09NTUVOVCk7cmV0dXJuIGV9fWZ1bmN0aW9uICQoZSl7cmV0dXJuIGU+PTAmJmU8PTU1Mjk1fHxlPj01NzM0NCYmZTw9MTExNDExMX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIFYoZS5jaGFyQ29kZUF0KHQpKSYmQihlLmNoYXJDb2RlQXQodCsxKSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZT49NTUyOTYmJmU8PTU2MzE5fWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGU+PTU2MzIwJiZlPD01NzM0M31mdW5jdGlvbiBqKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LmNvZGVQb2ludEF0KHQpO2lmKHZvaWQgMD09PW4pcmV0dXJuIHguRU9GO2lmKG4+PTMyJiZuPD0xMjYpe2NvbnN0IGU9U3RyaW5nLmZyb21Db2RlUG9pbnQobik7cmV0dXJuJyInPT09ZT8iJ1wiJyI6YCIke2V9ImB9cmV0dXJuIlUrIituLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnBhZFN0YXJ0KDQsIjAiKX1mdW5jdGlvbiBVKGUsdCxuLHIsaSl7Y29uc3Qgcz1lLmxpbmUsbz0xK24tZS5saW5lU3RhcnQ7cmV0dXJuIG5ldyBfKHQsbixyLHMsbyxpKX1mdW5jdGlvbiBxKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LHI9bi5sZW5ndGg7bGV0IGk9dDtmb3IoO2k8cjspe2NvbnN0IHQ9bi5jaGFyQ29kZUF0KGkpO3N3aXRjaCh0KXtjYXNlIDY1Mjc5OmNhc2UgOTpjYXNlIDMyOmNhc2UgNDQ6KytpO2NvbnRpbnVlO2Nhc2UgMTA6KytpLCsrZS5saW5lLGUubGluZVN0YXJ0PWk7Y29udGludWU7Y2FzZSAxMzoxMD09PW4uY2hhckNvZGVBdChpKzEpP2krPTI6KytpLCsrZS5saW5lLGUubGluZVN0YXJ0PWk7Y29udGludWU7Y2FzZSAzNTpyZXR1cm4gSyhlLGkpO2Nhc2UgMzM6cmV0dXJuIFUoZSx4LkJBTkcsaSxpKzEpO2Nhc2UgMzY6cmV0dXJuIFUoZSx4LkRPTExBUixpLGkrMSk7Y2FzZSAzODpyZXR1cm4gVShlLHguQU1QLGksaSsxKTtjYXNlIDQwOnJldHVybiBVKGUseC5QQVJFTl9MLGksaSsxKTtjYXNlIDQxOnJldHVybiBVKGUseC5QQVJFTl9SLGksaSsxKTtjYXNlIDQ2OmlmKDQ2PT09bi5jaGFyQ29kZUF0KGkrMSkmJjQ2PT09bi5jaGFyQ29kZUF0KGkrMikpcmV0dXJuIFUoZSx4LlNQUkVBRCxpLGkrMyk7YnJlYWs7Y2FzZSA1ODpyZXR1cm4gVShlLHguQ09MT04saSxpKzEpO2Nhc2UgNjE6cmV0dXJuIFUoZSx4LkVRVUFMUyxpLGkrMSk7Y2FzZSA2NDpyZXR1cm4gVShlLHguQVQsaSxpKzEpO2Nhc2UgOTE6cmV0dXJuIFUoZSx4LkJSQUNLRVRfTCxpLGkrMSk7Y2FzZSA5MzpyZXR1cm4gVShlLHguQlJBQ0tFVF9SLGksaSsxKTtjYXNlIDEyMzpyZXR1cm4gVShlLHguQlJBQ0VfTCxpLGkrMSk7Y2FzZSAxMjQ6cmV0dXJuIFUoZSx4LlBJUEUsaSxpKzEpO2Nhc2UgMTI1OnJldHVybiBVKGUseC5CUkFDRV9SLGksaSsxKTtjYXNlIDM0OnJldHVybiAzND09PW4uY2hhckNvZGVBdChpKzEpJiYzND09PW4uY2hhckNvZGVBdChpKzIpP1ooZSxpKTpZKGUsaSl9aWYoRCh0KXx8NDU9PT10KXJldHVybiBHKGUsaSx0KTtpZihDKHQpKXJldHVybiBlZShlLGkpO3Rocm93IHkoZS5zb3VyY2UsaSwzOT09PXQ/IlVuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoJyksIGRpZCB5b3UgbWVhbiB0byB1c2UgYSBkb3VibGUgcXVvdGUgKFwiKT8iOiQodCl8fE0obixpKT9gVW5leHBlY3RlZCBjaGFyYWN0ZXI6ICR7aihlLGkpfS5gOmBJbnZhbGlkIGNoYXJhY3RlcjogJHtqKGUsaSl9LmApfXJldHVybiBVKGUseC5FT0YscixyKX1mdW5jdGlvbiBLKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LHI9bi5sZW5ndGg7bGV0IGk9dCsxO2Zvcig7aTxyOyl7Y29uc3QgZT1uLmNoYXJDb2RlQXQoaSk7aWYoMTA9PT1lfHwxMz09PWUpYnJlYWs7aWYoJChlKSkrK2k7ZWxzZXtpZighTShuLGkpKWJyZWFrO2krPTJ9fXJldHVybiBVKGUseC5DT01NRU5ULHQsaSxuLnNsaWNlKHQrMSxpKSl9ZnVuY3Rpb24gRyhlLHQsbil7Y29uc3Qgcj1lLnNvdXJjZS5ib2R5O2xldCBpPXQscz1uLG89ITE7aWYoNDU9PT1zJiYocz1yLmNoYXJDb2RlQXQoKytpKSksNDg9PT1zKXtpZihzPXIuY2hhckNvZGVBdCgrK2kpLEQocykpdGhyb3cgeShlLnNvdXJjZSxpLGBJbnZhbGlkIG51bWJlciwgdW5leHBlY3RlZCBkaWdpdCBhZnRlciAwOiAke2ooZSxpKX0uYCl9ZWxzZSBpPXooZSxpLHMpLHM9ci5jaGFyQ29kZUF0KGkpO2lmKDQ2PT09cyYmKG89ITAscz1yLmNoYXJDb2RlQXQoKytpKSxpPXooZSxpLHMpLHM9ci5jaGFyQ29kZUF0KGkpKSw2OSE9PXMmJjEwMSE9PXN8fChvPSEwLHM9ci5jaGFyQ29kZUF0KCsraSksNDMhPT1zJiY0NSE9PXN8fChzPXIuY2hhckNvZGVBdCgrK2kpKSxpPXooZSxpLHMpLHM9ci5jaGFyQ29kZUF0KGkpKSw0Nj09PXN8fEMocykpdGhyb3cgeShlLnNvdXJjZSxpLGBJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogJHtqKGUsaSl9LmApO3JldHVybiBVKGUsbz94LkZMT0FUOnguSU5ULHQsaSxyLnNsaWNlKHQsaSkpfWZ1bmN0aW9uIHooZSx0LG4pe2lmKCFEKG4pKXRocm93IHkoZS5zb3VyY2UsdCxgSW52YWxpZCBudW1iZXIsIGV4cGVjdGVkIGRpZ2l0IGJ1dCBnb3Q6ICR7aihlLHQpfS5gKTtjb25zdCByPWUuc291cmNlLmJvZHk7bGV0IGk9dCsxO2Zvcig7RChyLmNoYXJDb2RlQXQoaSkpOykrK2k7cmV0dXJuIGl9ZnVuY3Rpb24gWShlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxyPW4ubGVuZ3RoO2xldCBpPXQrMSxzPWksbz0iIjtmb3IoO2k8cjspe2NvbnN0IHI9bi5jaGFyQ29kZUF0KGkpO2lmKDM0PT09cilyZXR1cm4gbys9bi5zbGljZShzLGkpLFUoZSx4LlNUUklORyx0LGkrMSxvKTtpZig5MiE9PXIpe2lmKDEwPT09cnx8MTM9PT1yKWJyZWFrO2lmKCQocikpKytpO2Vsc2V7aWYoIU0obixpKSl0aHJvdyB5KGUuc291cmNlLGksYEludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6ICR7aihlLGkpfS5gKTtpKz0yfX1lbHNle28rPW4uc2xpY2UocyxpKTtjb25zdCB0PTExNz09PW4uY2hhckNvZGVBdChpKzEpPzEyMz09PW4uY2hhckNvZGVBdChpKzIpP0goZSxpKTpKKGUsaSk6VyhlLGkpO28rPXQudmFsdWUsaSs9dC5zaXplLHM9aX19dGhyb3cgeShlLnNvdXJjZSxpLCJVbnRlcm1pbmF0ZWQgc3RyaW5nLiIpfWZ1bmN0aW9uIEgoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7bGV0IHI9MCxpPTM7Zm9yKDtpPDEyOyl7Y29uc3QgZT1uLmNoYXJDb2RlQXQodCtpKyspO2lmKDEyNT09PWUpe2lmKGk8NXx8ISQocikpYnJlYWs7cmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KHIpLHNpemU6aX19aWYocj1yPDw0fFgoZSkscjwwKWJyZWFrfXRocm93IHkoZS5zb3VyY2UsdCxgSW52YWxpZCBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZTogIiR7bi5zbGljZSh0LHQraSl9Ii5gKX1mdW5jdGlvbiBKKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LHI9UShuLHQrMik7aWYoJChyKSlyZXR1cm57dmFsdWU6U3RyaW5nLmZyb21Db2RlUG9pbnQociksc2l6ZTo2fTtpZihWKHIpJiY5Mj09PW4uY2hhckNvZGVBdCh0KzYpJiYxMTc9PT1uLmNoYXJDb2RlQXQodCs3KSl7Y29uc3QgZT1RKG4sdCs4KTtpZihCKGUpKXJldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChyLGUpLHNpemU6MTJ9fXRocm93IHkoZS5zb3VyY2UsdCxgSW52YWxpZCBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZTogIiR7bi5zbGljZSh0LHQrNil9Ii5gKX1mdW5jdGlvbiBRKGUsdCl7cmV0dXJuIFgoZS5jaGFyQ29kZUF0KHQpKTw8MTJ8WChlLmNoYXJDb2RlQXQodCsxKSk8PDh8WChlLmNoYXJDb2RlQXQodCsyKSk8PDR8WChlLmNoYXJDb2RlQXQodCszKSl9ZnVuY3Rpb24gWChlKXtyZXR1cm4gZT49NDgmJmU8PTU3P2UtNDg6ZT49NjUmJmU8PTcwP2UtNTU6ZT49OTcmJmU8PTEwMj9lLTg3Oi0xfWZ1bmN0aW9uIFcoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7c3dpdGNoKG4uY2hhckNvZGVBdCh0KzEpKXtjYXNlIDM0OnJldHVybnt2YWx1ZTonIicsc2l6ZToyfTtjYXNlIDkyOnJldHVybnt2YWx1ZToiXFwiLHNpemU6Mn07Y2FzZSA0NzpyZXR1cm57dmFsdWU6Ii8iLHNpemU6Mn07Y2FzZSA5ODpyZXR1cm57dmFsdWU6IlxiIixzaXplOjJ9O2Nhc2UgMTAyOnJldHVybnt2YWx1ZToiXGYiLHNpemU6Mn07Y2FzZSAxMTA6cmV0dXJue3ZhbHVlOiJcbiIsc2l6ZToyfTtjYXNlIDExNDpyZXR1cm57dmFsdWU6IlxyIixzaXplOjJ9O2Nhc2UgMTE2OnJldHVybnt2YWx1ZToiXHQiLHNpemU6Mn19dGhyb3cgeShlLnNvdXJjZSx0LGBJbnZhbGlkIGNoYXJhY3RlciBlc2NhcGUgc2VxdWVuY2U6ICIke24uc2xpY2UodCx0KzIpfSIuYCl9ZnVuY3Rpb24gWihlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxyPW4ubGVuZ3RoO2xldCBpPWUubGluZVN0YXJ0LHM9dCszLG89cyxhPSIiO2NvbnN0IGM9W107Zm9yKDtzPHI7KXtjb25zdCByPW4uY2hhckNvZGVBdChzKTtpZigzND09PXImJjM0PT09bi5jaGFyQ29kZUF0KHMrMSkmJjM0PT09bi5jaGFyQ29kZUF0KHMrMikpe2ErPW4uc2xpY2UobyxzKSxjLnB1c2goYSk7Y29uc3Qgcj1VKGUseC5CTE9DS19TVFJJTkcsdCxzKzMsUihjKS5qb2luKCJcbiIpKTtyZXR1cm4gZS5saW5lKz1jLmxlbmd0aC0xLGUubGluZVN0YXJ0PWkscn1pZig5MiE9PXJ8fDM0IT09bi5jaGFyQ29kZUF0KHMrMSl8fDM0IT09bi5jaGFyQ29kZUF0KHMrMil8fDM0IT09bi5jaGFyQ29kZUF0KHMrMykpaWYoMTAhPT1yJiYxMyE9PXIpaWYoJChyKSkrK3M7ZWxzZXtpZighTShuLHMpKXRocm93IHkoZS5zb3VyY2UscyxgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHtqKGUscyl9LmApO3MrPTJ9ZWxzZSBhKz1uLnNsaWNlKG8scyksYy5wdXNoKGEpLDEzPT09ciYmMTA9PT1uLmNoYXJDb2RlQXQocysxKT9zKz0yOisrcyxhPSIiLG89cyxpPXM7ZWxzZSBhKz1uLnNsaWNlKG8scyksbz1zKzEscys9NH10aHJvdyB5KGUuc291cmNlLHMsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gZWUoZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHkscj1uLmxlbmd0aDtsZXQgaT10KzE7Zm9yKDtpPHI7KXtpZighUChuLmNoYXJDb2RlQXQoaSkpKWJyZWFrOysraX1yZXR1cm4gVShlLHguTkFNRSx0LGksbi5zbGljZSh0LGkpKX1jb25zdCB0ZT0xMCxuZT0yO2Z1bmN0aW9uIHJlKGUpe3JldHVybiBpZShlLFtdKX1mdW5jdGlvbiBpZShlLHQpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOnJldHVybiBKU09OLnN0cmluZ2lmeShlKTtjYXNlImZ1bmN0aW9uIjpyZXR1cm4gZS5uYW1lP2BbZnVuY3Rpb24gJHtlLm5hbWV9XWA6IltmdW5jdGlvbl0iO2Nhc2Uib2JqZWN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYodC5pbmNsdWRlcyhlKSlyZXR1cm4iW0NpcmN1bGFyXSI7Y29uc3Qgbj1bLi4udCxlXTtpZihmdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZS50b0pTT059KGUpKXtjb25zdCB0PWUudG9KU09OKCk7aWYodCE9PWUpcmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3Q6aWUodCxuKX1lbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoMD09PWUubGVuZ3RoKXJldHVybiJbXSI7aWYodC5sZW5ndGg+bmUpcmV0dXJuIltBcnJheV0iO2NvbnN0IG49TWF0aC5taW4odGUsZS5sZW5ndGgpLHI9ZS5sZW5ndGgtbixpPVtdO2ZvcihsZXQgcz0wO3M8bjsrK3MpaS5wdXNoKGllKGVbc10sdCkpOzE9PT1yP2kucHVzaCgiLi4uIDEgbW9yZSBpdGVtIik6cj4xJiZpLnB1c2goYC4uLiAke3J9IG1vcmUgaXRlbXNgKTtyZXR1cm4iWyIraS5qb2luKCIsICIpKyJdIn0oZSxuKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPU9iamVjdC5lbnRyaWVzKGUpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm4ie30iO2lmKHQubGVuZ3RoPm5lKXJldHVybiJbIitmdW5jdGlvbihlKXtjb25zdCB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5yZXBsYWNlKC9eXFtvYmplY3QgLywiIikucmVwbGFjZSgvXSQvLCIiKTtpZigiT2JqZWN0Ij09PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yKXtjb25zdCB0PWUuY29uc3RydWN0b3IubmFtZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJiIiIT09dClyZXR1cm4gdH1yZXR1cm4gdH0oZSkrIl0iO2NvbnN0IHI9bi5tYXAoKChbZSxuXSk9PmUrIjogIitpZShuLHQpKSk7cmV0dXJuInsgIityLmpvaW4oIiwgIikrIiB9In0oZSxuKX0oZSx0KTtkZWZhdWx0OnJldHVybiBTdHJpbmcoZSl9fWNvbnN0IHNlPWdsb2JhbFRoaXMucHJvY2VzcyYmInByb2R1Y3Rpb24iPT09Z2xvYmFsVGhpcy5wcm9jZXNzLmVudi5OT0RFX0VOVj9mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgdH06ZnVuY3Rpb24oZSx0KXtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4hMDtpZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgbjtjb25zdCByPXQucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ107aWYocj09PShTeW1ib2wudG9TdHJpbmdUYWcgaW4gZT9lW1N5bWJvbC50b1N0cmluZ1RhZ106bnVsbD09PShuPWUuY29uc3RydWN0b3IpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm5hbWUpKXtjb25zdCB0PXJlKGUpO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IHVzZSAke3J9ICIke3R9IiBmcm9tIGFub3RoZXIgbW9kdWxlIG9yIHJlYWxtLlxuXG5FbnN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBpbnN0YW5jZSBvZiAiZ3JhcGhxbCIgaW4gdGhlIG5vZGVfbW9kdWxlc1xuZGlyZWN0b3J5LiBJZiBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgImdyYXBocWwiIGFyZSB0aGUgZGVwZW5kZW5jaWVzIG9mIG90aGVyXG5yZWxpZWQgb24gbW9kdWxlcywgdXNlICJyZXNvbHV0aW9ucyIgdG8gZW5zdXJlIG9ubHkgb25lIHZlcnNpb24gaXMgaW5zdGFsbGVkLlxuXG5odHRwczovL3lhcm5wa2cuY29tL2VuL2RvY3Mvc2VsZWN0aXZlLXZlcnNpb24tcmVzb2x1dGlvbnNcblxuRHVwbGljYXRlICJncmFwaHFsIiBtb2R1bGVzIGNhbm5vdCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUgc2luY2UgZGlmZmVyZW50XG52ZXJzaW9ucyBtYXkgaGF2ZSBkaWZmZXJlbnQgY2FwYWJpbGl0aWVzIGFuZCBiZWhhdmlvci4gVGhlIGRhdGEgZnJvbSBvbmVcbnZlcnNpb24gdXNlZCBpbiB0aGUgZnVuY3Rpb24gZnJvbSBhbm90aGVyIGNvdWxkIHByb2R1Y2UgY29uZnVzaW5nIGFuZFxuc3B1cmlvdXMgcmVzdWx0cy5gKX19cmV0dXJuITF9O2NsYXNzIG9le2NvbnN0cnVjdG9yKGUsdD0iR3JhcGhRTCByZXF1ZXN0IixuPXtsaW5lOjEsY29sdW1uOjF9KXsic3RyaW5nIj09dHlwZW9mIGV8fGEoITEsYEJvZHkgbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQ6ICR7cmUoZSl9LmApLHRoaXMuYm9keT1lLHRoaXMubmFtZT10LHRoaXMubG9jYXRpb25PZmZzZXQ9bix0aGlzLmxvY2F0aW9uT2Zmc2V0LmxpbmU+MHx8YSghMSwibGluZSBpbiBsb2NhdGlvbk9mZnNldCBpcyAxLWluZGV4ZWQgYW5kIG11c3QgYmUgcG9zaXRpdmUuIiksdGhpcy5sb2NhdGlvbk9mZnNldC5jb2x1bW4+MHx8YSghMSwiY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJTb3VyY2UifX1mdW5jdGlvbiBhZShlLHQpe3JldHVybiBuZXcgY2UoZSx0KS5wYXJzZURvY3VtZW50KCl9Y2xhc3MgY2V7Y29uc3RydWN0b3IoZSx0PXt9KXtjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybiBzZShlLG9lKX0oZSk/ZTpuZXcgb2UoZSk7dGhpcy5fbGV4ZXI9bmV3IEYobiksdGhpcy5fb3B0aW9ucz10LHRoaXMuX3Rva2VuQ291bnRlcj0wfXBhcnNlTmFtZSgpe2NvbnN0IGU9dGhpcy5leHBlY3RUb2tlbih4Lk5BTUUpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk5BTUUsdmFsdWU6ZS52YWx1ZX0pfXBhcnNlRG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOk8uRE9DVU1FTlQsZGVmaW5pdGlvbnM6dGhpcy5tYW55KHguU09GLHRoaXMucGFyc2VEZWZpbml0aW9uLHguRU9GKX0pfXBhcnNlRGVmaW5pdGlvbigpe2lmKHRoaXMucGVlayh4LkJSQUNFX0wpKXJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2NvbnN0IGU9dGhpcy5wZWVrRGVzY3JpcHRpb24oKSx0PWU/dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk6dGhpcy5fbGV4ZXIudG9rZW47aWYodC5raW5kPT09eC5OQU1FKXtzd2l0Y2godC52YWx1ZSl7Y2FzZSJzY2hlbWEiOnJldHVybiB0aGlzLnBhcnNlU2NoZW1hRGVmaW5pdGlvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnRlcmZhY2UiOnJldHVybiB0aGlzLnBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnB1dCI6cmV0dXJuIHRoaXMucGFyc2VJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJkaXJlY3RpdmUiOnJldHVybiB0aGlzLnBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpfWlmKGUpdGhyb3cgeSh0aGlzLl9sZXhlci5zb3VyY2UsdGhpcy5fbGV4ZXIudG9rZW4uc3RhcnQsIlVuZXhwZWN0ZWQgZGVzY3JpcHRpb24sIGRlc2NyaXB0aW9ucyBhcmUgc3VwcG9ydGVkIG9ubHkgb24gdHlwZSBkZWZpbml0aW9ucy4iKTtzd2l0Y2godC52YWx1ZSl7Y2FzZSJxdWVyeSI6Y2FzZSJtdXRhdGlvbiI6Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2Nhc2UiZnJhZ21lbnQiOnJldHVybiB0aGlzLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCk7Y2FzZSJleHRlbmQiOnJldHVybiB0aGlzLnBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpfX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQodCl9cGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjtpZih0aGlzLnBlZWsoeC5CUkFDRV9MKSlyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5PUEVSQVRJT05fREVGSU5JVElPTixvcGVyYXRpb246VC5RVUVSWSxuYW1lOnZvaWQgMCx2YXJpYWJsZURlZmluaXRpb25zOltdLGRpcmVjdGl2ZXM6W10sc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pO2NvbnN0IHQ9dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTtsZXQgbjtyZXR1cm4gdGhpcy5wZWVrKHguTkFNRSkmJihuPXRoaXMucGFyc2VOYW1lKCkpLHRoaXMubm9kZShlLHtraW5kOk8uT1BFUkFUSU9OX0RFRklOSVRJT04sb3BlcmF0aW9uOnQsbmFtZTpuLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VPcGVyYXRpb25UeXBlKCl7Y29uc3QgZT10aGlzLmV4cGVjdFRva2VuKHguTkFNRSk7c3dpdGNoKGUudmFsdWUpe2Nhc2UicXVlcnkiOnJldHVybiBULlFVRVJZO2Nhc2UibXV0YXRpb24iOnJldHVybiBULk1VVEFUSU9OO2Nhc2Uic3Vic2NyaXB0aW9uIjpyZXR1cm4gVC5TVUJTQ1JJUFRJT059dGhyb3cgdGhpcy51bmV4cGVjdGVkKGUpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9ucygpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueSh4LlBBUkVOX0wsdGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbix4LlBBUkVOX1IpfXBhcnNlVmFyaWFibGVEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpPLlZBUklBQkxFX0RFRklOSVRJT04sdmFyaWFibGU6dGhpcy5wYXJzZVZhcmlhYmxlKCksdHlwZToodGhpcy5leHBlY3RUb2tlbih4LkNPTE9OKSx0aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpKSxkZWZhdWx0VmFsdWU6dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguRVFVQUxTKT90aGlzLnBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCl9KX1wYXJzZVZhcmlhYmxlKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbih4LkRPTExBUiksdGhpcy5ub2RlKGUse2tpbmQ6Ty5WQVJJQUJMRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wYXJzZVNlbGVjdGlvblNldCgpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Ty5TRUxFQ1RJT05fU0VULHNlbGVjdGlvbnM6dGhpcy5tYW55KHguQlJBQ0VfTCx0aGlzLnBhcnNlU2VsZWN0aW9uLHguQlJBQ0VfUil9KX1wYXJzZVNlbGVjdGlvbigpe3JldHVybiB0aGlzLnBlZWsoeC5TUFJFQUQpP3RoaXMucGFyc2VGcmFnbWVudCgpOnRoaXMucGFyc2VGaWVsZCgpfXBhcnNlRmllbGQoKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZU5hbWUoKTtsZXQgbixyO3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oeC5DT0xPTik/KG49dCxyPXRoaXMucGFyc2VOYW1lKCkpOnI9dCx0aGlzLm5vZGUoZSx7a2luZDpPLkZJRUxELGFsaWFzOm4sbmFtZTpyLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCExKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wZWVrKHguQlJBQ0VfTCk/dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpOnZvaWQgMH0pfXBhcnNlQXJndW1lbnRzKGUpe2NvbnN0IHQ9ZT90aGlzLnBhcnNlQ29uc3RBcmd1bWVudDp0aGlzLnBhcnNlQXJndW1lbnQ7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguUEFSRU5fTCx0LHguUEFSRU5fUil9cGFyc2VBcmd1bWVudChlPSExKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtyZXR1cm4gdGhpcy5leHBlY3RUb2tlbih4LkNPTE9OKSx0aGlzLm5vZGUodCx7a2luZDpPLkFSR1VNRU5ULG5hbWU6bix2YWx1ZTp0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKGUpfSl9cGFyc2VDb25zdEFyZ3VtZW50KCl7cmV0dXJuIHRoaXMucGFyc2VBcmd1bWVudCghMCl9cGFyc2VGcmFnbWVudCgpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RUb2tlbih4LlNQUkVBRCk7Y29uc3QgdD10aGlzLmV4cGVjdE9wdGlvbmFsS2V5d29yZCgib24iKTtyZXR1cm4hdCYmdGhpcy5wZWVrKHguTkFNRSk/dGhpcy5ub2RlKGUse2tpbmQ6Ty5GUkFHTUVOVF9TUFJFQUQsbmFtZTp0aGlzLnBhcnNlRnJhZ21lbnROYW1lKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSl9KTp0aGlzLm5vZGUoZSx7a2luZDpPLklOTElORV9GUkFHTUVOVCx0eXBlQ29uZGl0aW9uOnQ/dGhpcy5wYXJzZU5hbWVkVHlwZSgpOnZvaWQgMCxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudERlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdEtleXdvcmQoImZyYWdtZW50IiksITA9PT10aGlzLl9vcHRpb25zLmFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM/dGhpcy5ub2RlKGUse2tpbmQ6Ty5GUkFHTUVOVF9ERUZJTklUSU9OLG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLHZhcmlhYmxlRGVmaW5pdGlvbnM6dGhpcy5wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSk6dGhpcy5ub2RlKGUse2tpbmQ6Ty5GUkFHTUVOVF9ERUZJTklUSU9OLG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLHR5cGVDb25kaXRpb246KHRoaXMuZXhwZWN0S2V5d29yZCgib24iKSx0aGlzLnBhcnNlTmFtZWRUeXBlKCkpLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZURpcmVjdGl2ZXMoITEpLHNlbGVjdGlvblNldDp0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCl9KX1wYXJzZUZyYWdtZW50TmFtZSgpe2lmKCJvbiI9PT10aGlzLl9sZXhlci50b2tlbi52YWx1ZSl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZVZhbHVlTGl0ZXJhbChlKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3N3aXRjaCh0LmtpbmQpe2Nhc2UgeC5CUkFDS0VUX0w6cmV0dXJuIHRoaXMucGFyc2VMaXN0KGUpO2Nhc2UgeC5CUkFDRV9MOnJldHVybiB0aGlzLnBhcnNlT2JqZWN0KGUpO2Nhc2UgeC5JTlQ6cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKHQse2tpbmQ6Ty5JTlQsdmFsdWU6dC52YWx1ZX0pO2Nhc2UgeC5GTE9BVDpyZXR1cm4gdGhpcy5hZHZhbmNlTGV4ZXIoKSx0aGlzLm5vZGUodCx7a2luZDpPLkZMT0FULHZhbHVlOnQudmFsdWV9KTtjYXNlIHguU1RSSU5HOmNhc2UgeC5CTE9DS19TVFJJTkc6cmV0dXJuIHRoaXMucGFyc2VTdHJpbmdMaXRlcmFsKCk7Y2FzZSB4Lk5BTUU6c3dpdGNoKHRoaXMuYWR2YW5jZUxleGVyKCksdC52YWx1ZSl7Y2FzZSJ0cnVlIjpyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6Ty5CT09MRUFOLHZhbHVlOiEwfSk7Y2FzZSJmYWxzZSI6cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOk8uQk9PTEVBTix2YWx1ZTohMX0pO2Nhc2UibnVsbCI6cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOk8uTlVMTH0pO2RlZmF1bHQ6cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOk8uRU5VTSx2YWx1ZTp0LnZhbHVlfSl9Y2FzZSB4LkRPTExBUjppZihlKXtpZih0aGlzLmV4cGVjdFRva2VuKHguRE9MTEFSKSx0aGlzLl9sZXhlci50b2tlbi5raW5kPT09eC5OQU1FKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLnZhbHVlO3Rocm93IHkodGhpcy5fbGV4ZXIuc291cmNlLHQuc3RhcnQsYFVuZXhwZWN0ZWQgdmFyaWFibGUgIiQke2V9IiBpbiBjb25zdGFudCB2YWx1ZS5gKX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQodCl9cmV0dXJuIHRoaXMucGFyc2VWYXJpYWJsZSgpO2RlZmF1bHQ6dGhyb3cgdGhpcy51bmV4cGVjdGVkKCl9fXBhcnNlQ29uc3RWYWx1ZUxpdGVyYWwoKXtyZXR1cm4gdGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCghMCl9cGFyc2VTdHJpbmdMaXRlcmFsKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5hZHZhbmNlTGV4ZXIoKSx0aGlzLm5vZGUoZSx7a2luZDpPLlNUUklORyx2YWx1ZTplLnZhbHVlLGJsb2NrOmUua2luZD09PXguQkxPQ0tfU1RSSU5HfSl9cGFyc2VMaXN0KGUpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Ty5MSVNULHZhbHVlczp0aGlzLmFueSh4LkJSQUNLRVRfTCwoKCk9PnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwoZSkpLHguQlJBQ0tFVF9SKX0pfXBhcnNlT2JqZWN0KGUpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6Ty5PQkpFQ1QsZmllbGRzOnRoaXMuYW55KHguQlJBQ0VfTCwoKCk9PnRoaXMucGFyc2VPYmplY3RGaWVsZChlKSkseC5CUkFDRV9SKX0pfXBhcnNlT2JqZWN0RmllbGQoZSl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4oeC5DT0xPTiksdGhpcy5ub2RlKHQse2tpbmQ6Ty5PQkpFQ1RfRklFTEQsbmFtZTpuLHZhbHVlOnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwoZSl9KX1wYXJzZURpcmVjdGl2ZXMoZSl7Y29uc3QgdD1bXTtmb3IoO3RoaXMucGVlayh4LkFUKTspdC5wdXNoKHRoaXMucGFyc2VEaXJlY3RpdmUoZSkpO3JldHVybiB0fXBhcnNlQ29uc3REaXJlY3RpdmVzKCl7cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVzKCEwKX1wYXJzZURpcmVjdGl2ZShlKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdFRva2VuKHguQVQpLHRoaXMubm9kZSh0LHtraW5kOk8uRElSRUNUSVZFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKSxhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyhlKX0pfXBhcnNlVHlwZVJlZmVyZW5jZSgpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47bGV0IHQ7aWYodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguQlJBQ0tFVF9MKSl7Y29uc3Qgbj10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO3RoaXMuZXhwZWN0VG9rZW4oeC5CUkFDS0VUX1IpLHQ9dGhpcy5ub2RlKGUse2tpbmQ6Ty5MSVNUX1RZUEUsdHlwZTpufSl9ZWxzZSB0PXRoaXMucGFyc2VOYW1lZFR5cGUoKTtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguQkFORyk/dGhpcy5ub2RlKGUse2tpbmQ6Ty5OT05fTlVMTF9UWVBFLHR5cGU6dH0pOnR9cGFyc2VOYW1lZFR5cGUoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOk8uTkFNRURfVFlQRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wZWVrRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVrKHguU1RSSU5HKXx8dGhpcy5wZWVrKHguQkxPQ0tfU1RSSU5HKX1wYXJzZURlc2NyaXB0aW9uKCl7aWYodGhpcy5wZWVrRGVzY3JpcHRpb24oKSlyZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKX1wYXJzZVNjaGVtYURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJzY2hlbWEiKTtjb25zdCBuPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMubWFueSh4LkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLHguQlJBQ0VfUik7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uU0NIRU1BX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxkaXJlY3RpdmVzOm4sb3BlcmF0aW9uVHlwZXM6cn0pfXBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTt0aGlzLmV4cGVjdFRva2VuKHguQ09MT04pO2NvbnN0IG49dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk9QRVJBVElPTl9UWVBFX0RFRklOSVRJT04sb3BlcmF0aW9uOnQsdHlwZTpufSl9cGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW4sdD10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5TQ0FMQVJfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOnQsbmFtZTpuLGRpcmVjdGl2ZXM6cn0pfXBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk9CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4saW50ZXJmYWNlczpyLGRpcmVjdGl2ZXM6aSxmaWVsZHM6c30pfXBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKXtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoImltcGxlbWVudHMiKT90aGlzLmRlbGltaXRlZE1hbnkoeC5BTVAsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguQlJBQ0VfTCx0aGlzLnBhcnNlRmllbGREZWZpbml0aW9uLHguQlJBQ0VfUil9cGFyc2VGaWVsZERlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpO3RoaXMuZXhwZWN0VG9rZW4oeC5DT0xPTik7Y29uc3QgaT10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpLHM9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLkZJRUxEX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sYXJndW1lbnRzOnIsdHlwZTppLGRpcmVjdGl2ZXM6c30pfXBhcnNlQXJndW1lbnREZWZzKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguUEFSRU5fTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZix4LlBBUkVOX1IpfXBhcnNlSW5wdXRWYWx1ZURlZigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW4sdD10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxuPXRoaXMucGFyc2VOYW1lKCk7dGhpcy5leHBlY3RUb2tlbih4LkNPTE9OKTtjb25zdCByPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7bGV0IGk7dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKHguRVFVQUxTKSYmKGk9dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCkpO2NvbnN0IHM9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLklOUFVUX1ZBTFVFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sdHlwZTpyLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6c30pfXBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnRlcmZhY2UiKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjp0LG5hbWU6bixpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczppLGZpZWxkczpzfSl9cGFyc2VVbmlvblR5cGVEZWZpbml0aW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbix0PXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksaT10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlVOSU9OX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjp0LG5hbWU6bixkaXJlY3RpdmVzOnIsdHlwZXM6aX0pfXBhcnNlVW5pb25NZW1iZXJUeXBlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oeC5FUVVBTFMpP3RoaXMuZGVsaW1pdGVkTWFueSh4LlBJUEUsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VFbnVtVHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uRU5VTV9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sZGlyZWN0aXZlczpyLHZhbHVlczppfSl9cGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueSh4LkJSQUNFX0wsdGhpcy5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24seC5CUkFDRV9SKX1wYXJzZUVudW1WYWx1ZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksbj10aGlzLnBhcnNlRW51bVZhbHVlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLkVOVU1fVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjp0LG5hbWU6bixkaXJlY3RpdmVzOnJ9KX1wYXJzZUVudW1WYWx1ZU5hbWUoKXtpZigidHJ1ZSI9PT10aGlzLl9sZXhlci50b2tlbi52YWx1ZXx8ImZhbHNlIj09PXRoaXMuX2xleGVyLnRva2VuLnZhbHVlfHwibnVsbCI9PT10aGlzLl9sZXhlci50b2tlbi52YWx1ZSl0aHJvdyB5KHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCxgJHtsZSh0aGlzLl9sZXhlci50b2tlbil9IGlzIHJlc2VydmVkIGFuZCBjYW5ub3QgYmUgdXNlZCBmb3IgYW4gZW51bSB2YWx1ZS5gKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxpPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOnQsbmFtZTpuLGRpcmVjdGl2ZXM6cixmaWVsZHM6aX0pfXBhcnNlSW5wdXRGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KHguQlJBQ0VfTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZix4LkJSQUNFX1IpfXBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk7aWYoZS5raW5kPT09eC5OQU1FKXN3aXRjaChlLnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFFeHRlbnNpb24oKTtjYXNlInNjYWxhciI6cmV0dXJuIHRoaXMucGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ1bmlvbiI6cmV0dXJuIHRoaXMucGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVFeHRlbnNpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpfXRocm93IHRoaXMudW5leHBlY3RlZChlKX1wYXJzZVNjaGVtYUV4dGVuc2lvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IHQ9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLG49dGhpcy5vcHRpb25hbE1hbnkoeC5CUkFDRV9MLHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbix4LkJSQUNFX1IpO2lmKDA9PT10Lmxlbmd0aCYmMD09PW4ubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlNDSEVNQV9FWFRFTlNJT04sZGlyZWN0aXZlczp0LG9wZXJhdGlvblR5cGVzOm59KX1wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJzY2FsYXIiKTtjb25zdCB0PXRoaXMucGFyc2VOYW1lKCksbj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7aWYoMD09PW4ubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlNDQUxBUl9UWVBFX0VYVEVOU0lPTixuYW1lOnQsZGlyZWN0aXZlczpufSl9cGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidHlwZSIpO2NvbnN0IHQ9dGhpcy5wYXJzZU5hbWUoKSxuPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZigwPT09bi5sZW5ndGgmJjA9PT1yLmxlbmd0aCYmMD09PWkubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLk9CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6cixmaWVsZHM6aX0pfXBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IHQ9dGhpcy5wYXJzZU5hbWUoKSxuPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZigwPT09bi5sZW5ndGgmJjA9PT1yLmxlbmd0aCYmMD09PWkubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTixuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6cixmaWVsZHM6aX0pfXBhcnNlVW5pb25UeXBlRXh0ZW5zaW9uKCl7Y29uc3QgZT10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCB0PXRoaXMucGFyc2VOYW1lKCksbj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO2lmKDA9PT1uLmxlbmd0aCYmMD09PXIubGVuZ3RoKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUoZSx7a2luZDpPLlVOSU9OX1RZUEVfRVhURU5TSU9OLG5hbWU6dCxkaXJlY3RpdmVzOm4sdHlwZXM6cn0pfXBhcnNlRW51bVR5cGVFeHRlbnNpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3QgdD10aGlzLnBhcnNlTmFtZSgpLG49dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7aWYoMD09PW4ubGVuZ3RoJiYwPT09ci5sZW5ndGgpdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uRU5VTV9UWVBFX0VYVEVOU0lPTixuYW1lOnQsZGlyZWN0aXZlczpuLHZhbHVlczpyfSl9cGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IHQ9dGhpcy5wYXJzZU5hbWUoKSxuPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtpZigwPT09bi5sZW5ndGgmJjA9PT1yLmxlbmd0aCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKGUse2tpbmQ6Ty5JTlBVVF9PQkpFQ1RfVFlQRV9FWFRFTlNJT04sbmFtZTp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pfXBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpe2NvbnN0IGU9dGhpcy5fbGV4ZXIudG9rZW4sdD10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImRpcmVjdGl2ZSIpLHRoaXMuZXhwZWN0VG9rZW4oeC5BVCk7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpLGk9dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoInJlcGVhdGFibGUiKTt0aGlzLmV4cGVjdEtleXdvcmQoIm9uIik7Y29uc3Qgcz10aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb25zKCk7cmV0dXJuIHRoaXMubm9kZShlLHtraW5kOk8uRElSRUNUSVZFX0RFRklOSVRJT04sZGVzY3JpcHRpb246dCxuYW1lOm4sYXJndW1lbnRzOnIscmVwZWF0YWJsZTppLGxvY2F0aW9uczpzfSl9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKXtyZXR1cm4gdGhpcy5kZWxpbWl0ZWRNYW55KHguUElQRSx0aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24pfXBhcnNlRGlyZWN0aXZlTG9jYXRpb24oKXtjb25zdCBlPXRoaXMuX2xleGVyLnRva2VuLHQ9dGhpcy5wYXJzZU5hbWUoKTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoTix0LnZhbHVlKSlyZXR1cm4gdDt0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoZSl9bm9kZShlLHQpe3JldHVybiEwIT09dGhpcy5fb3B0aW9ucy5ub0xvY2F0aW9uJiYodC5sb2M9bmV3IG0oZSx0aGlzLl9sZXhlci5sYXN0VG9rZW4sdGhpcy5fbGV4ZXIuc291cmNlKSksdH1wZWVrKGUpe3JldHVybiB0aGlzLl9sZXhlci50b2tlbi5raW5kPT09ZX1leHBlY3RUb2tlbihlKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO2lmKHQua2luZD09PWUpcmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdDt0aHJvdyB5KHRoaXMuX2xleGVyLnNvdXJjZSx0LnN0YXJ0LGBFeHBlY3RlZCAke3VlKGUpfSwgZm91bmQgJHtsZSh0KX0uYCl9ZXhwZWN0T3B0aW9uYWxUb2tlbihlKXtyZXR1cm4gdGhpcy5fbGV4ZXIudG9rZW4ua2luZD09PWUmJih0aGlzLmFkdmFuY2VMZXhlcigpLCEwKX1leHBlY3RLZXl3b3JkKGUpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47aWYodC5raW5kIT09eC5OQU1FfHx0LnZhbHVlIT09ZSl0aHJvdyB5KHRoaXMuX2xleGVyLnNvdXJjZSx0LnN0YXJ0LGBFeHBlY3RlZCAiJHtlfSIsIGZvdW5kICR7bGUodCl9LmApO3RoaXMuYWR2YW5jZUxleGVyKCl9ZXhwZWN0T3B0aW9uYWxLZXl3b3JkKGUpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHQua2luZD09PXguTkFNRSYmdC52YWx1ZT09PWUmJih0aGlzLmFkdmFuY2VMZXhlcigpLCEwKX11bmV4cGVjdGVkKGUpe2NvbnN0IHQ9bnVsbCE9ZT9lOnRoaXMuX2xleGVyLnRva2VuO3JldHVybiB5KHRoaXMuX2xleGVyLnNvdXJjZSx0LnN0YXJ0LGBVbmV4cGVjdGVkICR7bGUodCl9LmApfWFueShlLHQsbil7dGhpcy5leHBlY3RUb2tlbihlKTtjb25zdCByPVtdO2Zvcig7IXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihuKTspci5wdXNoKHQuY2FsbCh0aGlzKSk7cmV0dXJuIHJ9b3B0aW9uYWxNYW55KGUsdCxuKXtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oZSkpe2NvbnN0IGU9W107ZG97ZS5wdXNoKHQuY2FsbCh0aGlzKSl9d2hpbGUoIXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihuKSk7cmV0dXJuIGV9cmV0dXJuW119bWFueShlLHQsbil7dGhpcy5leHBlY3RUb2tlbihlKTtjb25zdCByPVtdO2Rve3IucHVzaCh0LmNhbGwodGhpcykpfXdoaWxlKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obikpO3JldHVybiByfWRlbGltaXRlZE1hbnkoZSx0KXt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oZSk7Y29uc3Qgbj1bXTtkb3tuLnB1c2godC5jYWxsKHRoaXMpKX13aGlsZSh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oZSkpO3JldHVybiBufWFkdmFuY2VMZXhlcigpe2NvbnN0e21heFRva2VuczplfT10aGlzLl9vcHRpb25zLHQ9dGhpcy5fbGV4ZXIuYWR2YW5jZSgpO2lmKHZvaWQgMCE9PWUmJnQua2luZCE9PXguRU9GJiYoKyt0aGlzLl90b2tlbkNvdW50ZXIsdGhpcy5fdG9rZW5Db3VudGVyPmUpKXRocm93IHkodGhpcy5fbGV4ZXIuc291cmNlLHQuc3RhcnQsYERvY3VtZW50IGNvbnRhaW5zIG1vcmUgdGhhdCAke2V9IHRva2Vucy4gUGFyc2luZyBhYm9ydGVkLmApfX1mdW5jdGlvbiBsZShlKXtjb25zdCB0PWUudmFsdWU7cmV0dXJuIHVlKGUua2luZCkrKG51bGwhPXQ/YCAiJHt0fSJgOiIiKX1mdW5jdGlvbiB1ZShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT14LkJBTkd8fGU9PT14LkRPTExBUnx8ZT09PXguQU1QfHxlPT09eC5QQVJFTl9MfHxlPT09eC5QQVJFTl9SfHxlPT09eC5TUFJFQUR8fGU9PT14LkNPTE9OfHxlPT09eC5FUVVBTFN8fGU9PT14LkFUfHxlPT09eC5CUkFDS0VUX0x8fGU9PT14LkJSQUNLRVRfUnx8ZT09PXguQlJBQ0VfTHx8ZT09PXguUElQRXx8ZT09PXguQlJBQ0VfUn0oZSk/YCIke2V9ImA6ZX1jb25zdCBkZT0vW1x4MDAtXHgxZlx4MjJceDVjXHg3Zi1ceDlmXS9nO2Z1bmN0aW9uIHBlKGUpe3JldHVybiBoZVtlLmNoYXJDb2RlQXQoMCldfWNvbnN0IGhlPVsiXFx1MDAwMCIsIlxcdTAwMDEiLCJcXHUwMDAyIiwiXFx1MDAwMyIsIlxcdTAwMDQiLCJcXHUwMDA1IiwiXFx1MDAwNiIsIlxcdTAwMDciLCJcXGIiLCJcXHQiLCJcXG4iLCJcXHUwMDBCIiwiXFxmIiwiXFxyIiwiXFx1MDAwRSIsIlxcdTAwMEYiLCJcXHUwMDEwIiwiXFx1MDAxMSIsIlxcdTAwMTIiLCJcXHUwMDEzIiwiXFx1MDAxNCIsIlxcdTAwMTUiLCJcXHUwMDE2IiwiXFx1MDAxNyIsIlxcdTAwMTgiLCJcXHUwMDE5IiwiXFx1MDAxQSIsIlxcdTAwMUIiLCJcXHUwMDFDIiwiXFx1MDAxRCIsIlxcdTAwMUUiLCJcXHUwMDFGIiwiIiwiIiwnXFwiJywiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFxcXCIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIlxcdTAwN0YiLCJcXHUwMDgwIiwiXFx1MDA4MSIsIlxcdTAwODIiLCJcXHUwMDgzIiwiXFx1MDA4NCIsIlxcdTAwODUiLCJcXHUwMDg2IiwiXFx1MDA4NyIsIlxcdTAwODgiLCJcXHUwMDg5IiwiXFx1MDA4QSIsIlxcdTAwOEIiLCJcXHUwMDhDIiwiXFx1MDA4RCIsIlxcdTAwOEUiLCJcXHUwMDhGIiwiXFx1MDA5MCIsIlxcdTAwOTEiLCJcXHUwMDkyIiwiXFx1MDA5MyIsIlxcdTAwOTQiLCJcXHUwMDk1IiwiXFx1MDA5NiIsIlxcdTAwOTciLCJcXHUwMDk4IiwiXFx1MDA5OSIsIlxcdTAwOUEiLCJcXHUwMDlCIiwiXFx1MDA5QyIsIlxcdTAwOUQiLCJcXHUwMDlFIiwiXFx1MDA5RiJdLGZlPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIHllKGUsdCl7Y29uc3Qgbj1lW3RdO3JldHVybiJvYmplY3QiPT10eXBlb2Ygbj9uOiJmdW5jdGlvbiI9PXR5cGVvZiBuP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gbWUoZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuPXYpe2NvbnN0IHI9bmV3IE1hcDtmb3IoY29uc3QgYSBvZiBPYmplY3QudmFsdWVzKE8pKXIuc2V0KGEseWUodCxhKSk7bGV0IGkscyxvLGM9QXJyYXkuaXNBcnJheShlKSxsPVtlXSx1PS0xLGQ9W10scD1lO2NvbnN0IGg9W10sZj1bXTtkb3t1Kys7Y29uc3QgZT11PT09bC5sZW5ndGgsdj1lJiYwIT09ZC5sZW5ndGg7aWYoZSl7aWYocz0wPT09Zi5sZW5ndGg/dm9pZCAwOmhbaC5sZW5ndGgtMV0scD1vLG89Zi5wb3AoKSx2KWlmKGMpe3A9cC5zbGljZSgpO2xldCBlPTA7Zm9yKGNvbnN0W3Qsbl1vZiBkKXtjb25zdCByPXQtZTtudWxsPT09bj8ocC5zcGxpY2UociwxKSxlKyspOnBbcl09bn19ZWxzZXtwPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHApKTtmb3IoY29uc3RbZSx0XW9mIGQpcFtlXT10fXU9aS5pbmRleCxsPWkua2V5cyxkPWkuZWRpdHMsYz1pLmluQXJyYXksaT1pLnByZXZ9ZWxzZSBpZihvKXtpZihzPWM/dTpsW3VdLHA9b1tzXSxudWxsPT1wKWNvbnRpbnVlO2gucHVzaChzKX1sZXQgRTtpZighQXJyYXkuaXNBcnJheShwKSl7dmFyIHksbTtnKHApfHxhKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke3JlKHApfS5gKTtjb25zdCBuPWU/bnVsbD09PSh5PXIuZ2V0KHAua2luZCkpfHx2b2lkIDA9PT15P3ZvaWQgMDp5LmxlYXZlOm51bGw9PT0obT1yLmdldChwLmtpbmQpKXx8dm9pZCAwPT09bT92b2lkIDA6bS5lbnRlcjtpZihFPW51bGw9PW4/dm9pZCAwOm4uY2FsbCh0LHAscyxvLGgsZiksRT09PWZlKWJyZWFrO2lmKCExPT09RSl7aWYoIWUpe2gucG9wKCk7Y29udGludWV9fWVsc2UgaWYodm9pZCAwIT09RSYmKGQucHVzaChbcyxFXSksIWUpKXtpZighZyhFKSl7aC5wb3AoKTtjb250aW51ZX1wPUV9fXZhciBfO3ZvaWQgMD09PUUmJnYmJmQucHVzaChbcyxwXSksZT9oLnBvcCgpOihpPXtpbkFycmF5OmMsaW5kZXg6dSxrZXlzOmwsZWRpdHM6ZCxwcmV2Oml9LGM9QXJyYXkuaXNBcnJheShwKSxsPWM/cDpudWxsIT09KF89bltwLmtpbmRdKSYmdm9pZCAwIT09Xz9fOltdLHU9LTEsZD1bXSxvJiZmLnB1c2gobyksbz1wKX13aGlsZSh2b2lkIDAhPT1pKTtyZXR1cm4gMCE9PWQubGVuZ3RoP2RbZC5sZW5ndGgtMV1bMV06ZX0oZSxfZSl9Y29uc3QgX2U9e05hbWU6e2xlYXZlOmU9PmUudmFsdWV9LFZhcmlhYmxlOntsZWF2ZTplPT4iJCIrZS5uYW1lfSxEb2N1bWVudDp7bGVhdmU6ZT0+dmUoZS5kZWZpbml0aW9ucywiXG5cbiIpfSxPcGVyYXRpb25EZWZpbml0aW9uOntsZWF2ZShlKXtjb25zdCB0PWdlKCIoIix2ZShlLnZhcmlhYmxlRGVmaW5pdGlvbnMsIiwgIiksIikiKSxuPXZlKFtlLm9wZXJhdGlvbix2ZShbZS5uYW1lLHRdKSx2ZShlLmRpcmVjdGl2ZXMsIiAiKV0sIiAiKTtyZXR1cm4oInF1ZXJ5Ij09PW4/IiI6bisiICIpK2Uuc2VsZWN0aW9uU2V0fX0sVmFyaWFibGVEZWZpbml0aW9uOntsZWF2ZTooe3ZhcmlhYmxlOmUsdHlwZTp0LGRlZmF1bHRWYWx1ZTpuLGRpcmVjdGl2ZXM6cn0pPT5lKyI6ICIrdCtnZSgiID0gIixuKStnZSgiICIsdmUociwiICIpKX0sU2VsZWN0aW9uU2V0OntsZWF2ZTooe3NlbGVjdGlvbnM6ZX0pPT5FZShlKX0sRmllbGQ6e2xlYXZlKHthbGlhczplLG5hbWU6dCxhcmd1bWVudHM6bixkaXJlY3RpdmVzOnIsc2VsZWN0aW9uU2V0Oml9KXtjb25zdCBzPWdlKCIiLGUsIjogIikrdDtsZXQgbz1zK2dlKCIoIix2ZShuLCIsICIpLCIpIik7cmV0dXJuIG8ubGVuZ3RoPjgwJiYobz1zK2dlKCIoXG4iLFRlKHZlKG4sIlxuIikpLCJcbikiKSksdmUoW28sdmUociwiICIpLGldLCIgIil9fSxBcmd1bWVudDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRnJhZ21lbnRTcHJlYWQ6e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT4iLi4uIitlK2dlKCIgIix2ZSh0LCIgIikpfSxJbmxpbmVGcmFnbWVudDp7bGVhdmU6KHt0eXBlQ29uZGl0aW9uOmUsZGlyZWN0aXZlczp0LHNlbGVjdGlvblNldDpufSk9PnZlKFsiLi4uIixnZSgib24gIixlKSx2ZSh0LCIgIiksbl0sIiAiKX0sRnJhZ21lbnREZWZpbml0aW9uOntsZWF2ZTooe25hbWU6ZSx0eXBlQ29uZGl0aW9uOnQsdmFyaWFibGVEZWZpbml0aW9uczpuLGRpcmVjdGl2ZXM6cixzZWxlY3Rpb25TZXQ6aX0pPT5gZnJhZ21lbnQgJHtlfSR7Z2UoIigiLHZlKG4sIiwgIiksIikiKX0gb24gJHt0fSAke2dlKCIiLHZlKHIsIiAiKSwiICIpfWAraX0sSW50VmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lfSxGbG9hdFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sU3RyaW5nVmFsdWU6e2xlYXZlOih7dmFsdWU6ZSxibG9jazp0fSk9PnQ/ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUucmVwbGFjZSgvIiIiL2csJ1xcIiIiJykscj1uLnNwbGl0KC9cclxufFtcblxyXS9nKSxpPTE9PT1yLmxlbmd0aCxzPXIubGVuZ3RoPjEmJnIuc2xpY2UoMSkuZXZlcnkoKGU9PjA9PT1lLmxlbmd0aHx8dyhlLmNoYXJDb2RlQXQoMCkpKSksbz1uLmVuZHNXaXRoKCdcXCIiIicpLGE9ZS5lbmRzV2l0aCgnIicpJiYhbyxjPWUuZW5kc1dpdGgoIlxcIiksbD1hfHxjLHU9IShudWxsIT10JiZ0Lm1pbmltaXplKSYmKCFpfHxlLmxlbmd0aD43MHx8bHx8c3x8byk7bGV0IGQ9IiI7Y29uc3QgcD1pJiZ3KGUuY2hhckNvZGVBdCgwKSk7cmV0dXJuKHUmJiFwfHxzKSYmKGQrPSJcbiIpLGQrPW4sKHV8fGwpJiYoZCs9IlxuIiksJyIiIicrZCsnIiIiJ30oZSk6YCIke2UucmVwbGFjZShkZSxwZSl9ImB9LEJvb2xlYW5WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmU/InRydWUiOiJmYWxzZSJ9LE51bGxWYWx1ZTp7bGVhdmU6KCk9PiJudWxsIn0sRW51bVZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sTGlzdFZhbHVlOntsZWF2ZTooe3ZhbHVlczplfSk9PiJbIit2ZShlLCIsICIpKyJdIn0sT2JqZWN0VmFsdWU6e2xlYXZlOih7ZmllbGRzOmV9KT0+InsiK3ZlKGUsIiwgIikrIn0ifSxPYmplY3RGaWVsZDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRGlyZWN0aXZlOntsZWF2ZTooe25hbWU6ZSxhcmd1bWVudHM6dH0pPT4iQCIrZStnZSgiKCIsdmUodCwiLCAiKSwiKSIpfSxOYW1lZFR5cGU6e2xlYXZlOih7bmFtZTplfSk9PmV9LExpc3RUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT4iWyIrZSsiXSJ9LE5vbk51bGxUeXBlOntsZWF2ZTooe3R5cGU6ZX0pPT5lKyIhIn0sU2NoZW1hRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLGRpcmVjdGl2ZXM6dCxvcGVyYXRpb25UeXBlczpufSk9PmdlKCIiLGUsIlxuIikrdmUoWyJzY2hlbWEiLHZlKHQsIiAiKSxFZShuKV0sIiAiKX0sT3BlcmF0aW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7b3BlcmF0aW9uOmUsdHlwZTp0fSk9PmUrIjogIit0fSxTY2FsYXJUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+Z2UoIiIsZSwiXG4iKSt2ZShbInNjYWxhciIsdCx2ZShuLCIgIildLCIgIil9LE9iamVjdFR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOnIsZmllbGRzOml9KT0+Z2UoIiIsZSwiXG4iKSt2ZShbInR5cGUiLHQsZ2UoImltcGxlbWVudHMgIix2ZShuLCIgJiAiKSksdmUociwiICIpLEVlKGkpXSwiICIpfSxGaWVsZERlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsYXJndW1lbnRzOm4sdHlwZTpyLGRpcmVjdGl2ZXM6aX0pPT5nZSgiIixlLCJcbiIpK3QrKGJlKG4pP2dlKCIoXG4iLFRlKHZlKG4sIlxuIikpLCJcbikiKTpnZSgiKCIsdmUobiwiLCAiKSwiKSIpKSsiOiAiK3IrZ2UoIiAiLHZlKGksIiAiKSl9LElucHV0VmFsdWVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LHR5cGU6bixkZWZhdWx0VmFsdWU6cixkaXJlY3RpdmVzOml9KT0+Z2UoIiIsZSwiXG4iKSt2ZShbdCsiOiAiK24sZ2UoIj0gIixyKSx2ZShpLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOnIsZmllbGRzOml9KT0+Z2UoIiIsZSwiXG4iKSt2ZShbImludGVyZmFjZSIsdCxnZSgiaW1wbGVtZW50cyAiLHZlKG4sIiAmICIpKSx2ZShyLCIgIiksRWUoaSldLCIgIil9LFVuaW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHR5cGVzOnJ9KT0+Z2UoIiIsZSwiXG4iKSt2ZShbInVuaW9uIix0LHZlKG4sIiAiKSxnZSgiPSAiLHZlKHIsIiB8ICIpKV0sIiAiKX0sRW51bVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bix2YWx1ZXM6cn0pPT5nZSgiIixlLCJcbiIpK3ZlKFsiZW51bSIsdCx2ZShuLCIgIiksRWUocildLCIgIil9LEVudW1WYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpufSk9PmdlKCIiLGUsIlxuIikrdmUoW3QsdmUobiwiICIpXSwiICIpfSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pPT5nZSgiIixlLCJcbiIpK3ZlKFsiaW5wdXQiLHQsdmUobiwiICIpLEVlKHIpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6cixsb2NhdGlvbnM6aX0pPT5nZSgiIixlLCJcbiIpKyJkaXJlY3RpdmUgQCIrdCsoYmUobik/Z2UoIihcbiIsVGUodmUobiwiXG4iKSksIlxuKSIpOmdlKCIoIix2ZShuLCIsICIpLCIpIikpKyhyPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIit2ZShpLCIgfCAiKX0sU2NoZW1hRXh0ZW5zaW9uOntsZWF2ZTooe2RpcmVjdGl2ZXM6ZSxvcGVyYXRpb25UeXBlczp0fSk9PnZlKFsiZXh0ZW5kIHNjaGVtYSIsdmUoZSwiICIpLEVlKHQpXSwiICIpfSxTY2FsYXJUeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnR9KT0+dmUoWyJleHRlbmQgc2NhbGFyIixlLHZlKHQsIiAiKV0sIiAiKX0sT2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pPT52ZShbImV4dGVuZCB0eXBlIixlLGdlKCJpbXBsZW1lbnRzICIsdmUodCwiICYgIikpLHZlKG4sIiAiKSxFZShyKV0sIiAiKX0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6cn0pPT52ZShbImV4dGVuZCBpbnRlcmZhY2UiLGUsZ2UoImltcGxlbWVudHMgIix2ZSh0LCIgJiAiKSksdmUobiwiICIpLEVlKHIpXSwiICIpfSxVbmlvblR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dCx0eXBlczpufSk9PnZlKFsiZXh0ZW5kIHVuaW9uIixlLHZlKHQsIiAiKSxnZSgiPSAiLHZlKG4sIiB8ICIpKV0sIiAiKX0sRW51bVR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dCx2YWx1ZXM6bn0pPT52ZShbImV4dGVuZCBlbnVtIixlLHZlKHQsIiAiKSxFZShuKV0sIiAiKX0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsZmllbGRzOm59KT0+dmUoWyJleHRlbmQgaW5wdXQiLGUsdmUodCwiICIpLEVlKG4pXSwiICIpfX07ZnVuY3Rpb24gdmUoZSx0PSIiKXt2YXIgbjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUuZmlsdGVyKChlPT5lKSkuam9pbih0KSkmJnZvaWQgMCE9PW4/bjoiIn1mdW5jdGlvbiBFZShlKXtyZXR1cm4gZ2UoIntcbiIsVGUodmUoZSwiXG4iKSksIlxufSIpfWZ1bmN0aW9uIGdlKGUsdCxuPSIiKXtyZXR1cm4gbnVsbCE9dCYmIiIhPT10P2UrdCtuOiIifWZ1bmN0aW9uIFRlKGUpe3JldHVybiBnZSgiICAiLGUucmVwbGFjZSgvXG4vZywiXG4gICIpKX1mdW5jdGlvbiBiZShlKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PWU/dm9pZCAwOmUuc29tZSgoZT0+ZS5pbmNsdWRlcygiXG4iKSkpKSYmdm9pZCAwIT09dCYmdH12YXIgTmU9bmV3IE1hcCxJZT1uZXcgTWFwLE9lPSEwLEFlPSExO2Z1bmN0aW9uIHhlKGUpe3JldHVybiBlLnJlcGxhY2UoL1tccyxdKy9nLCIgIikudHJpbSgpfWZ1bmN0aW9uIFNlKGUpe3ZhciB0PW5ldyBTZXQsbj1bXTtyZXR1cm4gZS5kZWZpbml0aW9ucy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigiRnJhZ21lbnREZWZpbml0aW9uIj09PWUua2luZCl7dmFyIHI9ZS5uYW1lLnZhbHVlLGk9eGUoKG89ZS5sb2MpLnNvdXJjZS5ib2R5LnN1YnN0cmluZyhvLnN0YXJ0LG8uZW5kKSkscz1JZS5nZXQocik7cyYmIXMuaGFzKGkpP09lJiZjb25zb2xlLndhcm4oIldhcm5pbmc6IGZyYWdtZW50IHdpdGggbmFtZSAiK3IrIiBhbHJlYWR5IGV4aXN0cy5cbmdyYXBocWwtdGFnIGVuZm9yY2VzIGFsbCBmcmFnbWVudCBuYW1lcyBhY3Jvc3MgeW91ciBhcHBsaWNhdGlvbiB0byBiZSB1bmlxdWU7IHJlYWQgbW9yZSBhYm91dFxudGhpcyBpbiB0aGUgZG9jczogaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2ZyYWdtZW50cy5odG1sI3VuaXF1ZS1uYW1lcyIpOnN8fEllLnNldChyLHM9bmV3IFNldCkscy5hZGQoaSksdC5oYXMoaSl8fCh0LmFkZChpKSxuLnB1c2goZSkpfWVsc2Ugbi5wdXNoKGUpO3ZhciBvfSkpLG8obyh7fSxlKSx7ZGVmaW5pdGlvbnM6bn0pfWZ1bmN0aW9uIHdlKGUpe3ZhciB0PXhlKGUpO2lmKCFOZS5oYXModCkpe3ZhciBuPWFlKGUse2V4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOkFlLGFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM6QWV9KTtpZighbnx8IkRvY3VtZW50IiE9PW4ua2luZCl0aHJvdyBuZXcgRXJyb3IoIk5vdCBhIHZhbGlkIEdyYXBoUUwgZG9jdW1lbnQuIik7TmUuc2V0KHQsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFNldChlLmRlZmluaXRpb25zKTt0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubG9jJiZkZWxldGUgZS5sb2MsT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVtuXTtyJiYib2JqZWN0Ij09dHlwZW9mIHImJnQuYWRkKHIpfSkpfSkpO3ZhciBuPWUubG9jO3JldHVybiBuJiYoZGVsZXRlIG4uc3RhcnRUb2tlbixkZWxldGUgbi5lbmRUb2tlbiksZX0oU2UobikpKX1yZXR1cm4gTmUuZ2V0KHQpfWZ1bmN0aW9uIERlKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dOyJzdHJpbmciPT10eXBlb2YgZSYmKGU9W2VdKTt2YXIgcj1lWzBdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQsbil7dCYmIkRvY3VtZW50Ij09PXQua2luZD9yKz10LmxvYy5zb3VyY2UuYm9keTpyKz10LHIrPWVbbisxXX0pKSx3ZShyKX12YXIga2UsQ2U9RGUsUGU9ZnVuY3Rpb24oKXtOZS5jbGVhcigpLEllLmNsZWFyKCl9LFJlPWZ1bmN0aW9uKCl7T2U9ITF9LExlPWZ1bmN0aW9uKCl7QWU9ITB9LEZlPWZ1bmN0aW9uKCl7QWU9ITF9OyhrZT1EZXx8KERlPXt9KSkuZ3FsPUNlLGtlLnJlc2V0Q2FjaGVzPVBlLGtlLmRpc2FibGVGcmFnbWVudFdhcm5pbmdzPVJlLGtlLmVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzPUxlLGtlLmRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1GZSxEZS5kZWZhdWx0PURlO2NvbnN0ICRlPURlYAoJbXV0YXRpb24gUHVzaFBheWxvYWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IElEIQoJCSRldmVudHM6IFJlcGxheUV2ZW50c0lucHV0IQoJCSRtZXNzYWdlczogU3RyaW5nIQoJCSRyZXNvdXJjZXM6IFN0cmluZyEKCQkkd2ViX3NvY2tldF9ldmVudHM6IFN0cmluZyEKCQkkZXJyb3JzOiBbRXJyb3JPYmplY3RJbnB1dF0hCgkJJGlzX2JlYWNvbjogQm9vbGVhbgoJCSRoYXNfc2Vzc2lvbl91bmxvYWRlZDogQm9vbGVhbgoJCSRoaWdobGlnaHRfbG9nczogU3RyaW5nCgkpIHsKCQlwdXNoUGF5bG9hZCgKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwYXlsb2FkX2lkOiAkcGF5bG9hZF9pZAoJCQlldmVudHM6ICRldmVudHMKCQkJbWVzc2FnZXM6ICRtZXNzYWdlcwoJCQlyZXNvdXJjZXM6ICRyZXNvdXJjZXMKCQkJd2ViX3NvY2tldF9ldmVudHM6ICR3ZWJfc29ja2V0X2V2ZW50cwoJCQllcnJvcnM6ICRlcnJvcnMKCQkJaXNfYmVhY29uOiAkaXNfYmVhY29uCgkJCWhhc19zZXNzaW9uX3VubG9hZGVkOiAkaGFzX3Nlc3Npb25fdW5sb2FkZWQKCQkJaGlnaGxpZ2h0X2xvZ3M6ICRoaWdobGlnaHRfbG9ncwoJCSkKCX0KYCxNZT1EZWAKCW11dGF0aW9uIFB1c2hQYXlsb2FkQ29tcHJlc3NlZCgKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkcGF5bG9hZF9pZDogSUQhCgkJJGRhdGE6IFN0cmluZyEKCSkgewoJCXB1c2hQYXlsb2FkQ29tcHJlc3NlZCgKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwYXlsb2FkX2lkOiAkcGF5bG9hZF9pZAoJCQlkYXRhOiAkZGF0YQoJCSkKCX0KYCxWZT1EZWAKCW11dGF0aW9uIGlkZW50aWZ5U2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkdXNlcl9pZGVudGlmaWVyOiBTdHJpbmchCgkJJHVzZXJfb2JqZWN0OiBBbnkKCSkgewoJCWlkZW50aWZ5U2Vzc2lvbigKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX2lkZW50aWZpZXI6ICR1c2VyX2lkZW50aWZpZXIKCQkJdXNlcl9vYmplY3Q6ICR1c2VyX29iamVjdAoJCSkKCX0KYCxCZT1EZWAKCW11dGF0aW9uIGFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRwcm9wZXJ0aWVzX29iamVjdDogQW55CgkpIHsKCQlhZGRTZXNzaW9uUHJvcGVydGllcygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQlwcm9wZXJ0aWVzX29iamVjdDogJHByb3BlcnRpZXNfb2JqZWN0CgkJKQoJfQpgLGplPURlYAoJbXV0YXRpb24gcHVzaE1ldHJpY3MoJG1ldHJpY3M6IFtNZXRyaWNJbnB1dF0hKSB7CgkJcHVzaE1ldHJpY3MobWV0cmljczogJG1ldHJpY3MpCgl9CmAsVWU9RGVgCgltdXRhdGlvbiBhZGRTZXNzaW9uRmVlZGJhY2soCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfbmFtZTogU3RyaW5nCgkJJHVzZXJfZW1haWw6IFN0cmluZwoJCSR2ZXJiYXRpbTogU3RyaW5nIQoJCSR0aW1lc3RhbXA6IFRpbWVzdGFtcCEKCSkgewoJCWFkZFNlc3Npb25GZWVkYmFjaygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX25hbWU6ICR1c2VyX25hbWUKCQkJdXNlcl9lbWFpbDogJHVzZXJfZW1haWwKCQkJdmVyYmF0aW06ICR2ZXJiYXRpbQoJCQl0aW1lc3RhbXA6ICR0aW1lc3RhbXAKCQkpCgl9CmAscWU9RGVgCgltdXRhdGlvbiBpbml0aWFsaXplU2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6IFN0cmluZyEKCQkkZW5hYmxlX3N0cmljdF9wcml2YWN5OiBCb29sZWFuIQoJCSRwcml2YWN5X3NldHRpbmc6IFN0cmluZyEKCQkkZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzOiBCb29sZWFuIQoJCSRjbGllbnRWZXJzaW9uOiBTdHJpbmchCgkJJGZpcnN0bG9hZFZlcnNpb246IFN0cmluZyEKCQkkY2xpZW50Q29uZmlnOiBTdHJpbmchCgkJJGVudmlyb25tZW50OiBTdHJpbmchCgkJJGlkOiBTdHJpbmchCgkJJGFwcFZlcnNpb246IFN0cmluZwoJCSRzZXJ2aWNlTmFtZTogU3RyaW5nIQoJCSRjbGllbnRfaWQ6IFN0cmluZyEKCQkkbmV0d29ya19yZWNvcmRpbmdfZG9tYWluczogW1N0cmluZyFdCgkJJGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6IEJvb2xlYW4KCSkgewoJCWluaXRpYWxpemVTZXNzaW9uKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCW9yZ2FuaXphdGlvbl92ZXJib3NlX2lkOiAkb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQKCQkJZW5hYmxlX3N0cmljdF9wcml2YWN5OiAkZW5hYmxlX3N0cmljdF9wcml2YWN5CgkJCWVuYWJsZV9yZWNvcmRpbmdfbmV0d29ya19jb250ZW50czogJGVuYWJsZV9yZWNvcmRpbmdfbmV0d29ya19jb250ZW50cwoJCQljbGllbnRWZXJzaW9uOiAkY2xpZW50VmVyc2lvbgoJCQlmaXJzdGxvYWRWZXJzaW9uOiAkZmlyc3Rsb2FkVmVyc2lvbgoJCQljbGllbnRDb25maWc6ICRjbGllbnRDb25maWcKCQkJZW52aXJvbm1lbnQ6ICRlbnZpcm9ubWVudAoJCQlhcHBWZXJzaW9uOiAkYXBwVmVyc2lvbgoJCQlzZXJ2aWNlTmFtZTogJHNlcnZpY2VOYW1lCgkJCWZpbmdlcnByaW50OiAkaWQKCQkJY2xpZW50X2lkOiAkY2xpZW50X2lkCgkJCW5ldHdvcmtfcmVjb3JkaW5nX2RvbWFpbnM6ICRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zCgkJCWRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ICRkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nCgkJCXByaXZhY3lfc2V0dGluZzogJHByaXZhY3lfc2V0dGluZwoJCSkgewoJCQlzZWN1cmVfaWQKCQkJcHJvamVjdF9pZAoJCX0KCX0KYCxLZT1EZWAKCXF1ZXJ5IElnbm9yZSgkaWQ6IElEISkgewoJCWlnbm9yZShpZDogJGlkKQoJfQpgLEdlPShlLHQsbixyKT0+ZSgpO2NvbnN0IHplPUpTT04sWWU9ZT0+e3ZhciB0LG47bGV0IHI7Y29uc3QgaT1lLmRlZmluaXRpb25zLmZpbHRlcigoZT0+Ik9wZXJhdGlvbkRlZmluaXRpb24iPT09ZS5raW5kKSk7cmV0dXJuIDE9PT1pLmxlbmd0aCYmKHI9bnVsbD09KG49bnVsbD09KHQ9aVswXSk/dm9pZCAwOnQubmFtZSk/dm9pZCAwOm4udmFsdWUpLHJ9LEhlPWU9PntpZigic3RyaW5nIj09dHlwZW9mIGUpe2xldCB0O3RyeXtjb25zdCBuPWFlKGUpO3Q9WWUobil9Y2F0Y2gobil7fXJldHVybntxdWVyeTplLG9wZXJhdGlvbk5hbWU6dH19Y29uc3QgdD1ZZShlKTtyZXR1cm57cXVlcnk6bWUoZSksb3BlcmF0aW9uTmFtZTp0fX07Y2xhc3MgSmUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGAke0plLmV4dHJhY3RNZXNzYWdlKGUpfTogJHtKU09OLnN0cmluZ2lmeSh7cmVzcG9uc2U6ZSxyZXF1ZXN0OnR9KX1gKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxKZS5wcm90b3R5cGUpLHRoaXMucmVzcG9uc2U9ZSx0aGlzLnJlcXVlc3Q9dCwiZnVuY3Rpb24iPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsSmUpfXN0YXRpYyBleHRyYWN0TWVzc2FnZShlKXt2YXIgdCxuLHI7cmV0dXJuIG51bGwhPShyPW51bGw9PShuPW51bGw9PSh0PWUuZXJyb3JzKT92b2lkIDA6dFswXSk/dm9pZCAwOm4ubWVzc2FnZSk/cjpgR3JhcGhRTCBFcnJvciAoQ29kZTogJHtlLnN0YXR1c30pYH19dmFyIFFlPXtleHBvcnRzOnt9fTshZnVuY3Rpb24oZSx0KXt2YXIgcixpPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOm4scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmZldGNoPSExLHRoaXMuRE9NRXhjZXB0aW9uPWkuRE9NRXhjZXB0aW9ufXJldHVybiBlLnByb3RvdHlwZT1pLG5ldyBlfSgpO3I9cyxmdW5jdGlvbihlKXt2YXIgdD0iVVJMU2VhcmNoUGFyYW1zImluIHIsbj0iU3ltYm9sImluIHImJiJpdGVyYXRvciJpbiBTeW1ib2wsaT0iRmlsZVJlYWRlciJpbiByJiYiQmxvYiJpbiByJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLHM9IkZvcm1EYXRhImluIHIsbz0iQXJyYXlCdWZmZXIiaW4gcjtpZihvKXZhciBhPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIl0sYz1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZhLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKT4tMX07ZnVuY3Rpb24gbChlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJihlPVN0cmluZyhlKSksL1teYS16MC05XC0jJCUmJyorLl5fYHx+XS9pLnRlc3QoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUiKTtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLGV9ZnVuY3Rpb24gZChlKXt2YXIgdD17bmV4dDpmdW5jdGlvbigpe3ZhciB0PWUuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT10LHZhbHVlOnR9fX07cmV0dXJuIG4mJih0W1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdH0pLHR9ZnVuY3Rpb24gcChlKXt0aGlzLm1hcD17fSxlIGluc3RhbmNlb2YgcD9lLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7dGhpcy5hcHBlbmQodCxlKX0pLHRoaXMpOkFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0aGlzLmFwcGVuZChlWzBdLGVbMV0pfSksdGhpcyk6ZSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dGhpcy5hcHBlbmQodCxlW3RdKX0pLHRoaXMpfWZ1bmN0aW9uIGgoZSl7aWYoZS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO2UuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gZihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5vbmxvYWQ9ZnVuY3Rpb24oKXt0KGUucmVzdWx0KX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7bihlLmVycm9yKX19KSl9ZnVuY3Rpb24geShlKXt2YXIgdD1uZXcgRmlsZVJlYWRlcixuPWYodCk7cmV0dXJuIHQucmVhZEFzQXJyYXlCdWZmZXIoZSksbn1mdW5jdGlvbiBtKGUpe2lmKGUuc2xpY2UpcmV0dXJuIGUuc2xpY2UoMCk7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKTtyZXR1cm4gdC5zZXQobmV3IFVpbnQ4QXJyYXkoZSkpLHQuYnVmZmVyfWZ1bmN0aW9uIF8oKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbihlKXt2YXIgbjt0aGlzLl9ib2R5SW5pdD1lLGU/InN0cmluZyI9PXR5cGVvZiBlP3RoaXMuX2JvZHlUZXh0PWU6aSYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKT90aGlzLl9ib2R5QmxvYj1lOnMmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP3RoaXMuX2JvZHlGb3JtRGF0YT1lOnQmJlVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKT90aGlzLl9ib2R5VGV4dD1lLnRvU3RyaW5nKCk6byYmaSYmKG49ZSkmJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG4pPyh0aGlzLl9ib2R5QXJyYXlCdWZmZXI9bShlLmJ1ZmZlciksdGhpcy5fYm9keUluaXQ9bmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTpvJiYoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSl8fGMoZSkpP3RoaXMuX2JvZHlBcnJheUJ1ZmZlcj1tKGUpOnRoaXMuX2JvZHlUZXh0PWU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpOnRoaXMuX2JvZHlUZXh0PSIiLHRoaXMuaGVhZGVycy5nZXQoImNvbnRlbnQtdHlwZSIpfHwoInN0cmluZyI9PXR5cGVvZiBlP3RoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOCIpOnRoaXMuX2JvZHlCbG9iJiZ0aGlzLl9ib2R5QmxvYi50eXBlP3RoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsdGhpcy5fYm9keUJsb2IudHlwZSk6dCYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpJiZ0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpKX0saSYmKHRoaXMuYmxvYj1mdW5jdGlvbigpe3ZhciBlPWgodGhpcyk7aWYoZSlyZXR1cm4gZTtpZih0aGlzLl9ib2R5QmxvYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKTtpZih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoImNvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYiIpO3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpfSx0aGlzLmFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj9oKHRoaXMpfHxQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKTp0aGlzLmJsb2IoKS50aGVuKHkpfSksdGhpcy50ZXh0PWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9aCh0aGlzKTtpZihyKXJldHVybiByO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBlPXRoaXMuX2JvZHlCbG9iLHQ9bmV3IEZpbGVSZWFkZXIsbj1mKHQpLHQucmVhZEFzVGV4dChlKSxuO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgVWludDhBcnJheShlKSxuPW5ldyBBcnJheSh0Lmxlbmd0aCkscj0wO3I8dC5sZW5ndGg7cisrKW5bcl09U3RyaW5nLmZyb21DaGFyQ29kZSh0W3JdKTtyZXR1cm4gbi5qb2luKCIiKX0odGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LHMmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZyl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc31wLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSx0KXtlPWwoZSksdD11KHQpO3ZhciBuPXRoaXMubWFwW2VdO3RoaXMubWFwW2VdPW4/bisiLCAiK3Q6dH0scC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLm1hcFtsKGUpXX0scC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlPWwoZSksdGhpcy5oYXMoZSk/dGhpcy5tYXBbZV06bnVsbH0scC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShsKGUpKX0scC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dGhpcy5tYXBbbChlKV09dSh0KX0scC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5jYWxsKHQsdGhpcy5tYXBbbl0sbix0aGlzKX0scC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG4pfSkpLGQoZSl9LHAucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKSxkKGUpfSxwLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtlLnB1c2goW24sdF0pfSkpLGQoZSl9LG4mJihwLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPXAucHJvdG90eXBlLmVudHJpZXMpO3ZhciB2PVsiREVMRVRFIiwiR0VUIiwiSEVBRCIsIk9QVElPTlMiLCJQT1NUIiwiUFVUIl07ZnVuY3Rpb24gRShlLHQpe3ZhciBuLHIsaT0odD10fHx7fSkuYm9keTtpZihlIGluc3RhbmNlb2YgRSl7aWYoZS5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD1lLnVybCx0aGlzLmNyZWRlbnRpYWxzPWUuY3JlZGVudGlhbHMsdC5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBwKGUuaGVhZGVycykpLHRoaXMubWV0aG9kPWUubWV0aG9kLHRoaXMubW9kZT1lLm1vZGUsdGhpcy5zaWduYWw9ZS5zaWduYWwsaXx8bnVsbD09ZS5fYm9keUluaXR8fChpPWUuX2JvZHlJbml0LGUuYm9keVVzZWQ9ITApfWVsc2UgdGhpcy51cmw9U3RyaW5nKGUpO2lmKHRoaXMuY3JlZGVudGlhbHM9dC5jcmVkZW50aWFsc3x8dGhpcy5jcmVkZW50aWFsc3x8InNhbWUtb3JpZ2luIiwhdC5oZWFkZXJzJiZ0aGlzLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IHAodC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9KG49dC5tZXRob2R8fHRoaXMubWV0aG9kfHwiR0VUIixyPW4udG9VcHBlckNhc2UoKSx2LmluZGV4T2Yocik+LTE/cjpuKSx0aGlzLm1vZGU9dC5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9dC5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwoIkdFVCI9PT10aGlzLm1ldGhvZHx8IkhFQUQiPT09dGhpcy5tZXRob2QpJiZpKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7dGhpcy5faW5pdEJvZHkoaSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1uZXcgRm9ybURhdGE7cmV0dXJuIGUudHJpbSgpLnNwbGl0KCImIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG49ZS5zcGxpdCgiPSIpLHI9bi5zaGlmdCgpLnJlcGxhY2UoL1wrL2csIiAiKSxpPW4uam9pbigiPSIpLnJlcGxhY2UoL1wrL2csIiAiKTt0LmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQociksZGVjb2RlVVJJQ29tcG9uZW50KGkpKX19KSksdH1mdW5jdGlvbiBUKGUsdCl7dHx8KHQ9e30pLHRoaXMudHlwZT0iZGVmYXVsdCIsdGhpcy5zdGF0dXM9dm9pZCAwPT09dC5zdGF0dXM/MjAwOnQuc3RhdHVzLHRoaXMub2s9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwLHRoaXMuc3RhdHVzVGV4dD0ic3RhdHVzVGV4dCJpbiB0P3Quc3RhdHVzVGV4dDoiT0siLHRoaXMuaGVhZGVycz1uZXcgcCh0LmhlYWRlcnMpLHRoaXMudXJsPXQudXJsfHwiIix0aGlzLl9pbml0Qm9keShlKX1FLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRSh0aGlzLHtib2R5OnRoaXMuX2JvZHlJbml0fSl9LF8uY2FsbChFLnByb3RvdHlwZSksXy5jYWxsKFQucHJvdG90eXBlKSxULnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVCh0aGlzLl9ib2R5SW5pdCx7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dGhpcy5zdGF0dXNUZXh0LGhlYWRlcnM6bmV3IHAodGhpcy5oZWFkZXJzKSx1cmw6dGhpcy51cmx9KX0sVC5lcnJvcj1mdW5jdGlvbigpe3ZhciBlPW5ldyBUKG51bGwse3N0YXR1czowLHN0YXR1c1RleHQ6IiJ9KTtyZXR1cm4gZS50eXBlPSJlcnJvciIsZX07dmFyIGI9WzMwMSwzMDIsMzAzLDMwNywzMDhdO1QucmVkaXJlY3Q9ZnVuY3Rpb24oZSx0KXtpZigtMT09PWIuaW5kZXhPZih0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBzdGF0dXMgY29kZSIpO3JldHVybiBuZXcgVChudWxsLHtzdGF0dXM6dCxoZWFkZXJzOntsb2NhdGlvbjplfX0pfSxlLkRPTUV4Y2VwdGlvbj1yLkRPTUV4Y2VwdGlvbjt0cnl7bmV3IGUuRE9NRXhjZXB0aW9ufWNhdGNoKEkpe2UuRE9NRXhjZXB0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5tZXNzYWdlPWUsdGhpcy5uYW1lPXQ7dmFyIG49RXJyb3IoZSk7dGhpcy5zdGFjaz1uLnN0YWNrfSxlLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGUuRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLkRPTUV4Y2VwdGlvbn1mdW5jdGlvbiBOKHQsbil7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLHMpe3ZhciBvPW5ldyBFKHQsbik7aWYoby5zaWduYWwmJm8uc2lnbmFsLmFib3J0ZWQpcmV0dXJuIHMobmV3IGUuRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgYT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gYygpe2EuYWJvcnQoKX1hLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlLHQsbj17c3RhdHVzOmEuc3RhdHVzLHN0YXR1c1RleHQ6YS5zdGF0dXNUZXh0LGhlYWRlcnM6KGU9YS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKXx8IiIsdD1uZXcgcCxlLnJlcGxhY2UoL1xyP1xuW1x0IF0rL2csIiAiKS5zcGxpdCgvXHI/XG4vKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnNwbGl0KCI6Iikscj1uLnNoaWZ0KCkudHJpbSgpO2lmKHIpe3ZhciBpPW4uam9pbigiOiIpLnRyaW0oKTt0LmFwcGVuZChyLGkpfX0pKSx0KX07bi51cmw9InJlc3BvbnNlVVJMImluIGE/YS5yZXNwb25zZVVSTDpuLmhlYWRlcnMuZ2V0KCJYLVJlcXVlc3QtVVJMIik7dmFyIGk9InJlc3BvbnNlImluIGE/YS5yZXNwb25zZTphLnJlc3BvbnNlVGV4dDtyKG5ldyBUKGksbikpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtzKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LGEub250aW1lb3V0PWZ1bmN0aW9uKCl7cyhuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSxhLm9uYWJvcnQ9ZnVuY3Rpb24oKXtzKG5ldyBlLkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LGEub3BlbihvLm1ldGhvZCxvLnVybCwhMCksImluY2x1ZGUiPT09by5jcmVkZW50aWFscz9hLndpdGhDcmVkZW50aWFscz0hMDoib21pdCI9PT1vLmNyZWRlbnRpYWxzJiYoYS53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4gYSYmaSYmKGEucmVzcG9uc2VUeXBlPSJibG9iIiksby5oZWFkZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7YS5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksby5zaWduYWwmJihvLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsYyksYS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09YS5yZWFkeVN0YXRlJiZvLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYyl9KSxhLnNlbmQodm9pZCAwPT09by5fYm9keUluaXQ/bnVsbDpvLl9ib2R5SW5pdCl9KSl9Ti5wb2x5ZmlsbD0hMCxyLmZldGNofHwoci5mZXRjaD1OLHIuSGVhZGVycz1wLHIuUmVxdWVzdD1FLHIuUmVzcG9uc2U9VCksZS5IZWFkZXJzPXAsZS5SZXF1ZXN0PUUsZS5SZXNwb25zZT1ULGUuZmV0Y2g9TixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KHt9KSxzLmZldGNoLnBvbnlmaWxsPSEwLGRlbGV0ZSBzLmZldGNoLnBvbHlmaWxsO3ZhciBvPXM7KHQ9by5mZXRjaCkuZGVmYXVsdD1vLmZldGNoLHQuZmV0Y2g9by5mZXRjaCx0LkhlYWRlcnM9by5IZWFkZXJzLHQuUmVxdWVzdD1vLlJlcXVlc3QsdC5SZXNwb25zZT1vLlJlc3BvbnNlLGUuZXhwb3J0cz10fShRZSxRZS5leHBvcnRzKTt2YXIgWGU9UWUuZXhwb3J0cyxXZT1yKFhlKSxaZT1lKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OldlfSxbWGVdKTtjb25zdCBldD1lPT57bGV0IHQ9e307cmV0dXJuIGUmJigidW5kZWZpbmVkIiE9dHlwZW9mIEhlYWRlcnMmJmUgaW5zdGFuY2VvZiBIZWFkZXJzfHxaZSYmWGUuSGVhZGVycyYmZSBpbnN0YW5jZW9mIFhlLkhlYWRlcnM/dD0oZT0+e2NvbnN0IHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoKGUsbik9Pnt0W25dPWV9KSksdH0pKGUpOkFycmF5LmlzQXJyYXkoZSk/ZS5mb3JFYWNoKCgoW2Usbl0pPT57ZSYmdm9pZCAwIT09biYmKHRbZV09bil9KSk6dD1lKSx0fSx0dD1lPT5lLnJlcGxhY2UoLyhbXHMsXXwjW15cblxyXSspKy9nLCIgIikudHJpbSgpLG50PWU9PnQ9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXt2YXIgbjtjb25zdHt1cmw6cixxdWVyeTppLHZhcmlhYmxlczpzLG9wZXJhdGlvbk5hbWU6byxmZXRjaDphLGZldGNoT3B0aW9uczpjLG1pZGRsZXdhcmU6bH09dCx1PV9fc3ByZWFkVmFsdWVzKHt9LHQuaGVhZGVycyk7bGV0IGQscD0iIjsiUE9TVCI9PT1lPyhkPXN0KGkscyxvLGMuanNvblNlcmlhbGl6ZXIpLCJzdHJpbmciPT10eXBlb2YgZCYmKHVbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi9qc29uIikpOnA9KGU9PntpZighQXJyYXkuaXNBcnJheShlLnF1ZXJ5KSl7Y29uc3QgdD1lLG49W2BxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudCh0dCh0LnF1ZXJ5KSl9YF07cmV0dXJuIGUudmFyaWFibGVzJiZuLnB1c2goYHZhcmlhYmxlcz0ke2VuY29kZVVSSUNvbXBvbmVudCh0Lmpzb25TZXJpYWxpemVyLnN0cmluZ2lmeSh0LnZhcmlhYmxlcykpfWApLHQub3BlcmF0aW9uTmFtZSYmbi5wdXNoKGBvcGVyYXRpb25OYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQub3BlcmF0aW9uTmFtZSl9YCksbi5qb2luKCImIil9aWYodm9pZCAwIT09ZS52YXJpYWJsZXMmJiFBcnJheS5pc0FycmF5KGUudmFyaWFibGVzKSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjcmVhdGUgcXVlcnkgd2l0aCBnaXZlbiB2YXJpYWJsZSB0eXBlLCBhcnJheSBleHBlY3RlZCIpO2NvbnN0IHQ9ZSxuPWUucXVlcnkucmVkdWNlKCgoZSxuLHIpPT4oZS5wdXNoKHtxdWVyeTp0dChuKSx2YXJpYWJsZXM6dC52YXJpYWJsZXM/dC5qc29uU2VyaWFsaXplci5zdHJpbmdpZnkodC52YXJpYWJsZXNbcl0pOnZvaWQgMH0pLGUpKSxbXSk7cmV0dXJuYHF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KG4pKX1gfSkoe3F1ZXJ5OmksdmFyaWFibGVzOnMsb3BlcmF0aW9uTmFtZTpvLGpzb25TZXJpYWxpemVyOm51bGwhPShuPWMuanNvblNlcmlhbGl6ZXIpP246emV9KTtjb25zdCBoPV9fc3ByZWFkVmFsdWVzKHttZXRob2Q6ZSxoZWFkZXJzOnUsYm9keTpkfSxjKTtsZXQgZj1yLHk9aDtpZihsKXtjb25zdCBlPXlpZWxkIFByb21pc2UucmVzb2x2ZShsKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30saCkse3VybDpyLG9wZXJhdGlvbk5hbWU6byx2YXJpYWJsZXM6c30pKSkse3VybDp0fT1lO2Y9dCx5PV9fb2JqUmVzdChlLFsidXJsIl0pfXJldHVybiBwJiYoZj1gJHtmfT8ke3B9YCkseWllbGQgYShmLHkpfSkpO2NsYXNzIHJ0e2NvbnN0cnVjdG9yKGUsdD17fSl7dGhpcy51cmw9ZSx0aGlzLnJlcXVlc3RDb25maWc9dCx0aGlzLnJhd1JlcXVlc3Q9KC4uLmUpPT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3RbdCxuLHJdPWUsaT0oKGUsdCxuKT0+ZS5xdWVyeT9lOntxdWVyeTplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0pKHQsbixyKSxzPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpvLGZldGNoOmE9V2UsbWV0aG9kOmM9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOmwscmVzcG9uc2VNaWRkbGV3YXJlOnV9PXMsZD1fX29ialJlc3QocyxbImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInJlcXVlc3RNaWRkbGV3YXJlIiwicmVzcG9uc2VNaWRkbGV3YXJlIl0pLHt1cmw6cH09dGhpczt2b2lkIDAhPT1pLnNpZ25hbCYmKGQuc2lnbmFsPWkuc2lnbmFsKTtjb25zdHtvcGVyYXRpb25OYW1lOmh9PUhlKGkucXVlcnkpO3JldHVybiBpdCh7dXJsOnAscXVlcnk6aS5xdWVyeSx2YXJpYWJsZXM6aS52YXJpYWJsZXMsaGVhZGVyczpfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxldChhdChvKSkpLGV0KGkucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOmgsZmV0Y2g6YSxtZXRob2Q6YyxmZXRjaE9wdGlvbnM6ZCxtaWRkbGV3YXJlOmx9KS50aGVuKChlPT4odSYmdShlKSxlKSkpLmNhdGNoKChlPT57dGhyb3cgdSYmdShlKSxlfSkpfSkpfXJlcXVlc3QoZSwuLi50KXtyZXR1cm4gX19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2NvbnN0W24scl09dCxpPSgoZSx0LG4pPT5lLmRvY3VtZW50P2U6e2RvY3VtZW50OmUsdmFyaWFibGVzOnQscmVxdWVzdEhlYWRlcnM6bixzaWduYWw6dm9pZCAwfSkoZSxuLHIpLHM9dGhpcy5yZXF1ZXN0Q29uZmlnLHtoZWFkZXJzOm8sZmV0Y2g6YT1XZSxtZXRob2Q6Yz0iUE9TVCIscmVxdWVzdE1pZGRsZXdhcmU6bCxyZXNwb25zZU1pZGRsZXdhcmU6dX09cyxkPV9fb2JqUmVzdChzLFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDpwfT10aGlzO3ZvaWQgMCE9PWkuc2lnbmFsJiYoZC5zaWduYWw9aS5zaWduYWwpO2NvbnN0e3F1ZXJ5Omgsb3BlcmF0aW9uTmFtZTpmfT1IZShpLmRvY3VtZW50KTtyZXR1cm4gaXQoe3VybDpwLHF1ZXJ5OmgsdmFyaWFibGVzOmkudmFyaWFibGVzLGhlYWRlcnM6X19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sZXQoYXQobykpKSxldChpLnJlcXVlc3RIZWFkZXJzKSksb3BlcmF0aW9uTmFtZTpmLGZldGNoOmEsbWV0aG9kOmMsZmV0Y2hPcHRpb25zOmQsbWlkZGxld2FyZTpsfSkudGhlbigoZT0+KHUmJnUoZSksZS5kYXRhKSkpLmNhdGNoKChlPT57dGhyb3cgdSYmdShlKSxlfSkpfSkpfWJhdGNoUmVxdWVzdHMoZSx0KXt2YXIgbjtjb25zdCByPSgoZSx0KT0+ZS5kb2N1bWVudHM/ZTp7ZG9jdW1lbnRzOmUscmVxdWVzdEhlYWRlcnM6dCxzaWduYWw6dm9pZCAwfSkoZSx0KSxpPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpzfT1pLG89X19vYmpSZXN0KGksWyJoZWFkZXJzIl0pO3ZvaWQgMCE9PXIuc2lnbmFsJiYoby5zaWduYWw9ci5zaWduYWwpO2NvbnN0IGE9ci5kb2N1bWVudHMubWFwKCgoe2RvY3VtZW50OmV9KT0+SGUoZSkucXVlcnkpKSxjPXIuZG9jdW1lbnRzLm1hcCgoKHt2YXJpYWJsZXM6ZX0pPT5lKSk7cmV0dXJuIGl0KHt1cmw6dGhpcy51cmwscXVlcnk6YSx2YXJpYWJsZXM6YyxoZWFkZXJzOl9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LGV0KGF0KHMpKSksZXQoci5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6dm9pZCAwLGZldGNoOm51bGwhPShuPXRoaXMucmVxdWVzdENvbmZpZy5mZXRjaCk/bjpXZSxtZXRob2Q6dGhpcy5yZXF1ZXN0Q29uZmlnLm1ldGhvZHx8IlBPU1QiLGZldGNoT3B0aW9uczpvLG1pZGRsZXdhcmU6dGhpcy5yZXF1ZXN0Q29uZmlnLnJlcXVlc3RNaWRkbGV3YXJlfSkudGhlbigoZT0+KHRoaXMucmVxdWVzdENvbmZpZy5yZXNwb25zZU1pZGRsZXdhcmUmJnRoaXMucmVxdWVzdENvbmZpZy5yZXNwb25zZU1pZGRsZXdhcmUoZSksZS5kYXRhKSkpLmNhdGNoKChlPT57dGhyb3cgdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZSYmdGhpcy5yZXF1ZXN0Q29uZmlnLnJlc3BvbnNlTWlkZGxld2FyZShlKSxlfSkpfXNldEhlYWRlcnMoZSl7cmV0dXJuIHRoaXMucmVxdWVzdENvbmZpZy5oZWFkZXJzPWUsdGhpc31zZXRIZWFkZXIoZSx0KXtjb25zdHtoZWFkZXJzOm59PXRoaXMucmVxdWVzdENvbmZpZztyZXR1cm4gbj9uW2VdPXQ6dGhpcy5yZXF1ZXN0Q29uZmlnLmhlYWRlcnM9e1tlXTp0fSx0aGlzfXNldEVuZHBvaW50KGUpe3JldHVybiB0aGlzLnVybD1lLHRoaXN9fWNvbnN0IGl0PWU9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXt2YXIgdCxuO2NvbnN0e3F1ZXJ5OnIsdmFyaWFibGVzOmksZmV0Y2hPcHRpb25zOnN9PWUsbz1udCgobnVsbCE9KHQ9ZS5tZXRob2QpP3Q6InBvc3QiKS50b1VwcGVyQ2FzZSgpKTtjb25zdCBhPUFycmF5LmlzQXJyYXkoZS5xdWVyeSksYz15aWVsZCBvKGUpLGw9eWllbGQgb3QoYyxudWxsIT0obj1zLmpzb25TZXJpYWxpemVyKT9uOnplKSx1PUFycmF5LmlzQXJyYXkobCk/IWwuc29tZSgoKHtkYXRhOmV9KT0+IWUpKTpCb29sZWFuKGwuZGF0YSksZD1BcnJheS5pc0FycmF5KGwpfHwhbC5lcnJvcnN8fEFycmF5LmlzQXJyYXkobC5lcnJvcnMpJiYhbC5lcnJvcnMubGVuZ3RofHwiYWxsIj09PXMuZXJyb3JQb2xpY3l8fCJpZ25vcmUiPT09cy5lcnJvclBvbGljeTtpZihjLm9rJiZkJiZ1KXtjb25zdCBlPShBcnJheS5pc0FycmF5KGwpLGwpLHtlcnJvcnM6dH09ZSxuPV9fb2JqUmVzdChlLFsiZXJyb3JzIl0pLHI9Imlnbm9yZSI9PT1zLmVycm9yUG9saWN5P246bDtyZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSxhP3tkYXRhOnJ9OnIpLHtoZWFkZXJzOmMuaGVhZGVycyxzdGF0dXM6Yy5zdGF0dXN9KX10aHJvdyBuZXcgSmUoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwic3RyaW5nIj09dHlwZW9mIGw/e2Vycm9yOmx9OmwpLHtzdGF0dXM6Yy5zdGF0dXMsaGVhZGVyczpjLmhlYWRlcnN9KSx7cXVlcnk6cix2YXJpYWJsZXM6aX0pfSkpLHN0PShlLHQsbixyKT0+e2NvbnN0IGk9bnVsbCE9cj9yOnplO2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBpLnN0cmluZ2lmeSh7cXVlcnk6ZSx2YXJpYWJsZXM6dCxvcGVyYXRpb25OYW1lOm59KTtpZih2b2lkIDAhPT10JiYhQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjcmVhdGUgcmVxdWVzdCBib2R5IHdpdGggZ2l2ZW4gdmFyaWFibGUgdHlwZSwgYXJyYXkgZXhwZWN0ZWQiKTtjb25zdCBzPWUucmVkdWNlKCgoZSxuLHIpPT4oZS5wdXNoKHtxdWVyeTpuLHZhcmlhYmxlczp0P3Rbcl06dm9pZCAwfSksZSkpLFtdKTtyZXR1cm4gaS5zdHJpbmdpZnkocyl9LG90PShlLHQpPT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7bGV0IG47cmV0dXJuIGUuaGVhZGVycy5mb3JFYWNoKCgoZSx0KT0+eyJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYobj1lKX0pKSxuJiYobi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2pzb24iKXx8bi50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoImFwcGxpY2F0aW9uL2dyYXBocWwranNvbiIpfHxuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vZ3JhcGhxbC1yZXNwb25zZStqc29uIikpP3QucGFyc2UoeWllbGQgZS50ZXh0KCkpOmUudGV4dCgpfSkpLGF0PWU9PiJmdW5jdGlvbiI9PXR5cGVvZiBlP2UoKTplO3ZhciBjdD0oZT0+KGUuQmlsbGluZ1F1b3RhRXhjZWVkZWQ9IkJpbGxpbmdRdW90YUV4Y2VlZGVkIixlKSkoY3R8fHt9KTtjb25zdCBsdD1bY3QuQmlsbGluZ1F1b3RhRXhjZWVkZWQudG9TdHJpbmcoKV0sdXQ9ZT0+e2NvbnN0IHQ9KG4scixpLHM9MCk9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXt0cnl7cmV0dXJuIHlpZWxkIG4oKX1jYXRjaChvKXtpZihvIGluc3RhbmNlb2YgSmUmJiEoZT0+e3ZhciB0O3JldHVybiB2b2lkIDA9PT0obnVsbD09KHQ9ZS5yZXNwb25zZS5lcnJvcnMpP3ZvaWQgMDp0LmZpbmQoKGU9Pmx0LmluY2x1ZGVzKGUubWVzc2FnZSkpKSl9KShvKSl0aHJvdyBvO2lmKHM8NSlyZXR1cm4geWllbGQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMrNTAwKk1hdGgucG93KDIscykpKSkseWllbGQgdChuLHIsaSxzKzEpO3Rocm93IGNvbnNvbGUuZXJyb3IoYGhpZ2hsaWdodC5pbzogWyR7ZXx8ZX1dIGRhdGEgcmVxdWVzdCBmYWlsZWQgYWZ0ZXIgJHtzfSByZXRyaWVzYCksb319KSk7cmV0dXJuIHR9LGR0PVsibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiJdO2NsYXNzIHB0e2NvbnN0cnVjdG9yKGUsdCl7X19wdWJsaWNGaWVsZCh0aGlzLCJkZWJ1ZyIpLF9fcHVibGljRmllbGQodGhpcywibmFtZSIpLHRoaXMuZGVidWc9ZSx0aGlzLm5hbWU9dH1sb2coLi4uZSl7aWYodGhpcy5kZWJ1Zyl7bGV0IHQ9YFske0RhdGUubm93KCl9XWA7dGhpcy5uYW1lJiYodCs9YCAtICR7dGhpcy5uYW1lfWApLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsW3QsLi4uZV0pfX19dmFyIGh0PVVpbnQ4QXJyYXksZnQ9VWludDE2QXJyYXkseXQ9SW50MzJBcnJheSxtdD1uZXcgaHQoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLF90PW5ldyBodChbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSx2dD1uZXcgaHQoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxFdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1uZXcgZnQoMzEpLHI9MDtyPDMxOysrciluW3JdPXQrPTE8PGVbci0xXTt2YXIgaT1uZXcgeXQoblszMF0pO2ZvcihyPTE7cjwzMDsrK3IpZm9yKHZhciBzPW5bcl07czxuW3IrMV07KytzKWlbc109cy1uW3JdPDw1fHI7cmV0dXJue2I6bixyOml9fSxndD1FdChtdCwyKSxUdD1ndC5iLGJ0PWd0LnI7VHRbMjhdPTI1OCxidFsyNThdPTI4O2Zvcih2YXIgTnQ9RXQoX3QsMCkucixJdD1uZXcgZnQoMzI3NjgpLE90PTA7T3Q8MzI3Njg7KytPdCl7dmFyIEF0PSg0MzY5MCZPdCk+PjF8KDIxODQ1Jk90KTw8MTtBdD0oNjE2ODAmKEF0PSg1MjQyOCZBdCk+PjJ8KDEzMTA3JkF0KTw8MikpPj40fCgzODU1JkF0KTw8NCxJdFtPdF09KCg2NTI4MCZBdCk+Pjh8KDI1NSZBdCk8PDgpPj4xfXZhciB4dD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUubGVuZ3RoLGk9MCxzPW5ldyBmdCh0KTtpPHI7KytpKWVbaV0mJisrc1tlW2ldLTFdO3ZhciBvLGE9bmV3IGZ0KHQpO2ZvcihpPTE7aTx0OysraSlhW2ldPWFbaS0xXStzW2ktMV08PDE7aWYobil7bz1uZXcgZnQoMTw8dCk7dmFyIGM9MTUtdDtmb3IoaT0wO2k8cjsrK2kpaWYoZVtpXSlmb3IodmFyIGw9aTw8NHxlW2ldLHU9dC1lW2ldLGQ9YVtlW2ldLTFdKys8PHUscD1kfCgxPDx1KS0xO2Q8PXA7KytkKW9bSXRbZF0+PmNdPWx9ZWxzZSBmb3Iobz1uZXcgZnQociksaT0wO2k8cjsrK2kpZVtpXSYmKG9baV09SXRbYVtlW2ldLTFdKytdPj4xNS1lW2ldKTtyZXR1cm4gb30sU3Q9bmV3IGh0KDI4OCk7Zm9yKE90PTA7T3Q8MTQ0OysrT3QpU3RbT3RdPTg7Zm9yKE90PTE0NDtPdDwyNTY7KytPdClTdFtPdF09OTtmb3IoT3Q9MjU2O090PDI4MDsrK090KVN0W090XT03O2ZvcihPdD0yODA7T3Q8Mjg4OysrT3QpU3RbT3RdPTg7dmFyIHd0PW5ldyBodCgzMik7Zm9yKE90PTA7T3Q8MzI7KytPdCl3dFtPdF09NTt2YXIgRHQ9eHQoU3QsOSwwKSxrdD14dCh3dCw1LDApLEN0PWZ1bmN0aW9uKGUpe3JldHVybihlKzcpLzh8MH0sUHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihudWxsPT10fHx0PDApJiYodD0wKSwobnVsbD09bnx8bj5lLmxlbmd0aCkmJihuPWUubGVuZ3RoKSxuZXcgaHQoZS5zdWJhcnJheSh0LG4pKX0sUnQ9ZnVuY3Rpb24oZSx0LG4pe248PD03JnQ7dmFyIHI9dC84fDA7ZVtyXXw9bixlW3IrMV18PW4+Pjh9LEx0PWZ1bmN0aW9uKGUsdCxuKXtuPDw9NyZ0O3ZhciByPXQvOHwwO2Vbcl18PW4sZVtyKzFdfD1uPj44LGVbcisyXXw9bj4+MTZ9LEZ0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoOysrcillW3JdJiZuLnB1c2goe3M6cixmOmVbcl19KTt2YXIgaT1uLmxlbmd0aCxzPW4uc2xpY2UoKTtpZighaSlyZXR1cm57dDpxdCxsOjB9O2lmKDE9PWkpe3ZhciBvPW5ldyBodChuWzBdLnMrMSk7cmV0dXJuIG9bblswXS5zXT0xLHt0Om8sbDoxfX1uLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZi10LmZ9KSksbi5wdXNoKHtzOi0xLGY6MjUwMDF9KTt2YXIgYT1uWzBdLGM9blsxXSxsPTAsdT0xLGQ9Mjtmb3IoblswXT17czotMSxmOmEuZitjLmYsbDphLHI6Y307dSE9aS0xOylhPW5bbltsXS5mPG5bZF0uZj9sKys6ZCsrXSxjPW5bbCE9dSYmbltsXS5mPG5bZF0uZj9sKys6ZCsrXSxuW3UrK109e3M6LTEsZjphLmYrYy5mLGw6YSxyOmN9O3ZhciBwPXNbMF0ucztmb3Iocj0xO3I8aTsrK3Ipc1tyXS5zPnAmJihwPXNbcl0ucyk7dmFyIGg9bmV3IGZ0KHArMSksZj0kdChuW3UtMV0saCwwKTtpZihmPnQpe3I9MDt2YXIgeT0wLG09Zi10LF89MTw8bTtmb3Iocy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBoW3Quc10taFtlLnNdfHxlLmYtdC5mfSkpO3I8aTsrK3Ipe3ZhciB2PXNbcl0ucztpZighKGhbdl0+dCkpYnJlYWs7eSs9Xy0oMTw8Zi1oW3ZdKSxoW3ZdPXR9Zm9yKHk+Pj1tO3k+MDspe3ZhciBFPXNbcl0ucztoW0VdPHQ/eS09MTw8dC1oW0VdKystMTorK3J9Zm9yKDtyPj0wJiZ5Oy0tcil7dmFyIGc9c1tyXS5zO2hbZ109PXQmJigtLWhbZ10sKyt5KX1mPXR9cmV0dXJue3Q6bmV3IGh0KGgpLGw6Zn19LCR0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4tMT09ZS5zP01hdGgubWF4KCR0KGUubCx0LG4rMSksJHQoZS5yLHQsbisxKSk6dFtlLnNdPW59LE10PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBuPW5ldyBmdCgrK3QpLHI9MCxpPWVbMF0scz0xLG89ZnVuY3Rpb24oZSl7bltyKytdPWV9LGE9MTthPD10OysrYSlpZihlW2FdPT1pJiZhIT10KSsrcztlbHNle2lmKCFpJiZzPjIpe2Zvcig7cz4xMzg7cy09MTM4KW8oMzI3NTQpO3M+MiYmKG8ocz4xMD9zLTExPDw1fDI4NjkwOnMtMzw8NXwxMjMwNSkscz0wKX1lbHNlIGlmKHM+Myl7Zm9yKG8oaSksLS1zO3M+NjtzLT02KW8oODMwNCk7cz4yJiYobyhzLTM8PDV8ODIwOCkscz0wKX1mb3IoO3MtLTspbyhpKTtzPTEsaT1lW2FdfXJldHVybntjOm4uc3ViYXJyYXkoMCxyKSxuOnR9fSxWdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9MDtyPHQubGVuZ3RoOysrciluKz1lW3JdKnRbcl07cmV0dXJuIG59LEJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLmxlbmd0aCxpPUN0KHQrMik7ZVtpXT0yNTUmcixlW2krMV09cj4+OCxlW2krMl09MjU1XmVbaV0sZVtpKzNdPTI1NV5lW2krMV07Zm9yKHZhciBzPTA7czxyOysrcyllW2krcys0XT1uW3NdO3JldHVybiA4KihpKzQrcil9LGp0PWZ1bmN0aW9uKGUsdCxuLHIsaSxzLG8sYSxjLGwsdSl7UnQodCx1KyssbiksKytpWzI1Nl07Zm9yKHZhciBkPUZ0KGksMTUpLHA9ZC50LGg9ZC5sLGY9RnQocywxNSkseT1mLnQsbT1mLmwsXz1NdChwKSx2PV8uYyxFPV8ubixnPU10KHkpLFQ9Zy5jLGI9Zy5uLE49bmV3IGZ0KDE5KSxJPTA7STx2Lmxlbmd0aDsrK0kpKytOWzMxJnZbSV1dO2ZvcihJPTA7STxULmxlbmd0aDsrK0kpKytOWzMxJlRbSV1dO2Zvcih2YXIgTz1GdChOLDcpLEE9Ty50LHg9Ty5sLFM9MTk7Uz40JiYhQVt2dFtTLTFdXTstLVMpO3ZhciB3LEQsayxDLFA9bCs1PDwzLFI9VnQoaSxTdCkrVnQocyx3dCkrbyxMPVZ0KGkscCkrVnQocyx5KStvKzE0KzMqUytWdChOLEEpKzIqTlsxNl0rMypOWzE3XSs3Kk5bMThdO2lmKGM+PTAmJlA8PVImJlA8PUwpcmV0dXJuIEJ0KHQsdSxlLnN1YmFycmF5KGMsYytsKSk7aWYoUnQodCx1LDErKEw8UikpLHUrPTIsTDxSKXt3PXh0KHAsaCwwKSxEPXAsaz14dCh5LG0sMCksQz15O3ZhciBGPXh0KEEseCwwKTtSdCh0LHUsRS0yNTcpLFJ0KHQsdSs1LGItMSksUnQodCx1KzEwLFMtNCksdSs9MTQ7Zm9yKEk9MDtJPFM7KytJKVJ0KHQsdSszKkksQVt2dFtJXV0pO3UrPTMqUztmb3IodmFyICQ9W3YsVF0sTT0wO008MjsrK00pe3ZhciBWPSRbTV07Zm9yKEk9MDtJPFYubGVuZ3RoOysrSSl7dmFyIEI9MzEmVltJXTtSdCh0LHUsRltCXSksdSs9QVtCXSxCPjE1JiYoUnQodCx1LFZbSV0+PjUmMTI3KSx1Kz1WW0ldPj4xMil9fX1lbHNlIHc9RHQsRD1TdCxrPWt0LEM9d3Q7Zm9yKEk9MDtJPGE7KytJKXt2YXIgaj1yW0ldO2lmKGo+MjU1KXtMdCh0LHUsd1soQj1qPj4xOCYzMSkrMjU3XSksdSs9RFtCKzI1N10sQj43JiYoUnQodCx1LGo+PjIzJjMxKSx1Kz1tdFtCXSk7dmFyIFU9MzEmajtMdCh0LHUsa1tVXSksdSs9Q1tVXSxVPjMmJihMdCh0LHUsaj4+NSY4MTkxKSx1Kz1fdFtVXSl9ZWxzZSBMdCh0LHUsd1tqXSksdSs9RFtqXX1yZXR1cm4gTHQodCx1LHdbMjU2XSksdStEWzI1Nl19LFV0PW5ldyB5dChbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSxxdD1uZXcgaHQoMCksS3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEludDMyQXJyYXkoMjU2KSx0PTA7dDwyNTY7Kyt0KXtmb3IodmFyIG49dCxyPTk7LS1yOyluPSgxJm4mJi0zMDY2NzQ5MTIpXm4+Pj4xO2VbdF09bn1yZXR1cm4gZX0oKSxHdD1mdW5jdGlvbihlLHQsbixyLGkpe2lmKCFpJiYoaT17bDoxfSx0LmRpY3Rpb25hcnkpKXt2YXIgcz10LmRpY3Rpb25hcnkuc3ViYXJyYXkoLTMyNzY4KSxvPW5ldyBodChzLmxlbmd0aCtlLmxlbmd0aCk7by5zZXQocyksby5zZXQoZSxzLmxlbmd0aCksZT1vLGkudz1zLmxlbmd0aH1yZXR1cm4gZnVuY3Rpb24oZSx0LG4scixpLHMpe3ZhciBvPXMuenx8ZS5sZW5ndGgsYT1uZXcgaHQocitvKzUqKDErTWF0aC5jZWlsKG8vN2UzKSkraSksYz1hLnN1YmFycmF5KHIsYS5sZW5ndGgtaSksbD1zLmwsdT03JihzLnJ8fDApO2lmKHQpe3UmJihjWzBdPXMucj4+Myk7Zm9yKHZhciBkPVV0W3QtMV0scD1kPj4xMyxoPTgxOTEmZCxmPSgxPDxuKS0xLHk9cy5wfHxuZXcgZnQoMzI3NjgpLG09cy5ofHxuZXcgZnQoZisxKSxfPU1hdGguY2VpbChuLzMpLHY9MipfLEU9ZnVuY3Rpb24odCl7cmV0dXJuKGVbdF1eZVt0KzFdPDxfXmVbdCsyXTw8dikmZn0sZz1uZXcgeXQoMjVlMyksVD1uZXcgZnQoMjg4KSxiPW5ldyBmdCgzMiksTj0wLEk9MCxPPXMuaXx8MCxBPTAseD1zLnd8fDAsUz0wO08rMjxvOysrTyl7dmFyIHc9RShPKSxEPTMyNzY3Jk8saz1tW3ddO2lmKHlbRF09ayxtW3ddPUQseDw9Tyl7dmFyIEM9by1PO2lmKChOPjdlM3x8QT4yNDU3NikmJihDPjQyM3x8IWwpKXt1PWp0KGUsYywwLGcsVCxiLEksQSxTLE8tUyx1KSxBPU49ST0wLFM9Tztmb3IodmFyIFA9MDtQPDI4NjsrK1ApVFtQXT0wO2ZvcihQPTA7UDwzMDsrK1ApYltQXT0wfXZhciBSPTIsTD0wLEY9aCwkPUQtayYzMjc2NztpZihDPjImJnc9PUUoTy0kKSlmb3IodmFyIE09TWF0aC5taW4ocCxDKS0xLFY9TWF0aC5taW4oMzI3NjcsTyksQj1NYXRoLm1pbigyNTgsQyk7JDw9ViYmLS1GJiZEIT1rOyl7aWYoZVtPK1JdPT1lW08rUi0kXSl7Zm9yKHZhciBqPTA7ajxCJiZlW08ral09PWVbTytqLSRdOysraik7aWYoaj5SKXtpZihSPWosTD0kLGo+TSlicmVhazt2YXIgVT1NYXRoLm1pbigkLGotMikscT0wO2ZvcihQPTA7UDxVOysrUCl7dmFyIEs9Ty0kK1AmMzI3NjcsRz1LLXlbS10mMzI3Njc7Rz5xJiYocT1HLGs9Syl9fX0kKz0oRD1rKS0oaz15W0RdKSYzMjc2N31pZihMKXtnW0ErK109MjY4NDM1NDU2fGJ0W1JdPDwxOHxOdFtMXTt2YXIgej0zMSZidFtSXSxZPTMxJk50W0xdO0krPW10W3pdK190W1ldLCsrVFsyNTcrel0sKytiW1ldLHg9TytSLCsrTn1lbHNlIGdbQSsrXT1lW09dLCsrVFtlW09dXX19Zm9yKE89TWF0aC5tYXgoTyx4KTtPPG87KytPKWdbQSsrXT1lW09dLCsrVFtlW09dXTt1PWp0KGUsYyxsLGcsVCxiLEksQSxTLE8tUyx1KSxsfHwocy5yPTcmdXxjW3UvOHwwXTw8Myx1LT03LHMuaD1tLHMucD15LHMuaT1PLHMudz14KX1lbHNle2ZvcihPPXMud3x8MDtPPG8rbDtPKz02NTUzNSl7dmFyIEg9Tys2NTUzNTtIPj1vJiYoY1t1Lzh8MF09bCxIPW8pLHU9QnQoYyx1KzEsZS5zdWJhcnJheShPLEgpKX1zLmk9b31yZXR1cm4gUHQoYSwwLHIrQ3QodSkraSl9KGUsbnVsbD09dC5sZXZlbD82OnQubGV2ZWwsbnVsbD09dC5tZW0/TWF0aC5jZWlsKDEuNSpNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKToxMit0Lm1lbSxuLHIsaSl9LHp0PWZ1bmN0aW9uKGUsdCxuKXtmb3IoO247Kyt0KWVbdF09bixuPj4+PTh9O2Z1bmN0aW9uIFl0KGUsdCl7dHx8KHQ9e30pO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGU9LTE7cmV0dXJue3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPWUscj0wO3I8dC5sZW5ndGg7KytyKW49S3RbMjU1Jm5edFtyXV1ebj4+Pjg7ZT1ufSxkOmZ1bmN0aW9uKCl7cmV0dXJufmV9fX0oKSxyPWUubGVuZ3RoO24ucChlKTt2YXIgaSxzPUd0KGUsdCwxMCsoKGk9dCkuZmlsZW5hbWU/aS5maWxlbmFtZS5sZW5ndGgrMTowKSw4KSxvPXMubGVuZ3RoO3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQuZmlsZW5hbWU7aWYoZVswXT0zMSxlWzFdPTEzOSxlWzJdPTgsZVs4XT10LmxldmVsPDI/NDo5PT10LmxldmVsPzI6MCxlWzldPTMsMCE9dC5tdGltZSYmenQoZSw0LE1hdGguZmxvb3IobmV3IERhdGUodC5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksbil7ZVszXT04O2Zvcih2YXIgcj0wO3I8PW4ubGVuZ3RoOysrcillW3IrMTBdPW4uY2hhckNvZGVBdChyKX19KHMsdCksenQocyxvLTgsbi5kKCkpLHp0KHMsby00LHIpLHN9dmFyIEh0PSJ1bmRlZmluZWQiIT10eXBlb2YgVGV4dEVuY29kZXImJm5ldyBUZXh0RW5jb2RlcixKdD0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyJiZuZXcgVGV4dERlY29kZXI7dHJ5e0p0LmRlY29kZShxdCx7c3RyZWFtOiEwfSksMX1jYXRjaChXdCl7fWNvbnN0IFF0PXNlbGY7ZnVuY3Rpb24gWHQoZSx0KXtjb25zdCBuPXt9LHI9W10saT1bXTtmb3IoY29uc3RbbyxhXW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZihudWxsPT1hKWNvbnRpbnVlO2xldCBlO2R0LmluY2x1ZGVzKHR5cGVvZiBhKXx8ci5wdXNoKHtbb106YX0pLGU9InN0cmluZyI9PXR5cGVvZiBhP2E6cyhhKSxlLmxlbmd0aD4yZTMmJihpLnB1c2goe1tvXTphfSksZT1lLnN1YnN0cmluZygwLDJlMykpLG5bb109ZX1yZXR1cm4ic2Vzc2lvbiIhPT10JiYoci5sZW5ndGg+MCYmY29uc29sZS53YXJuKGBIaWdobGlnaHQgd2FzIHBhc3NlZCBvbmUgb3IgbW9yZSAke3R9IHByb3BlcnRpZXMgbm90IG9mIHR5cGUgc3RyaW5nLCBudW1iZXIsIG9yIGJvb2xlYW4uYCxyKSxpLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBleGNlZWRpbmcgMjAwMCBjaGFyYWN0ZXJzLCB3aGljaCB3aWxsIGJlIHRydW5jYXRlZC5gLGkpKSxufXtsZXQgZSxuLHIsaT0wLG89ITEsYT0wLGM9bmV3IHB0KCExLCJbd29ya2VyXSIpO2NvbnN0IGw9W10sdT0oKT0+MCE9PWEmJmk8NSYmISEobnVsbD09cj92b2lkIDA6ci5sZW5ndGgpLGQ9KGUsbik9PntRdC5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6dC5DdXN0b21FdmVudCx0YWc6ZSxwYXlsb2FkOm59fSl9LHA9bj0+X19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2NvbnN0e2lkOmksZXZlbnRzOm8sbWVzc2FnZXM6YSxlcnJvcnM6YyxyZXNvdXJjZXNTdHJpbmc6dSx3ZWJTb2NrZXRFdmVudHNTdHJpbmc6ZCxpc0JlYWNvbjpwLGhhc1Nlc3Npb25VbmxvYWRlZDpoLGhpZ2hsaWdodExvZ3M6Zn09bix5PXMoe21lc3NhZ2VzOmF9KTtsZXQgbT17c2Vzc2lvbl9zZWN1cmVfaWQ6cixwYXlsb2FkX2lkOmkudG9TdHJpbmcoKSxldmVudHM6e2V2ZW50czpvfSxtZXNzYWdlczp5LHJlc291cmNlczp1LHdlYl9zb2NrZXRfZXZlbnRzOmQsZXJyb3JzOmMsaXNfYmVhY29uOnAsaGFzX3Nlc3Npb25fdW5sb2FkZWQ6aH07ZiYmKG0uaGlnaGxpZ2h0X2xvZ3M9Zik7Y29uc3QgXz1mdW5jdGlvbihlLHQpe2lmKHQpe2Zvcih2YXIgbj1uZXcgaHQoZS5sZW5ndGgpLHI9MDtyPGUubGVuZ3RoOysrciluW3JdPWUuY2hhckNvZGVBdChyKTtyZXR1cm4gbn1pZihIdClyZXR1cm4gSHQuZW5jb2RlKGUpO3ZhciBpPWUubGVuZ3RoLHM9bmV3IGh0KGUubGVuZ3RoKyhlLmxlbmd0aD4+MSkpLG89MCxhPWZ1bmN0aW9uKGUpe3NbbysrXT1lfTtmb3Iocj0wO3I8aTsrK3Ipe2lmKG8rNT5zLmxlbmd0aCl7dmFyIGM9bmV3IGh0KG8rOCsoaS1yPDwxKSk7Yy5zZXQocykscz1jfXZhciBsPWUuY2hhckNvZGVBdChyKTtsPDEyOHx8dD9hKGwpOmw8MjA0OD8oYSgxOTJ8bD4+NiksYSgxMjh8NjMmbCkpOmw+NTUyOTUmJmw8NTczNDQ/KGEoMjQwfChsPTY1NTM2KygxMDQ3NTUyJmwpfDEwMjMmZS5jaGFyQ29kZUF0KCsrcikpPj4xOCksYSgxMjh8bD4+MTImNjMpLGEoMTI4fGw+PjYmNjMpLGEoMTI4fDYzJmwpKTooYSgyMjR8bD4+MTIpLGEoMTI4fGw+PjYmNjMpLGEoMTI4fDYzJmwpKX1yZXR1cm4gUHQocywwLG8pfShKU09OLnN0cmluZ2lmeShtKSksdj1ZdChfKSxFPXlpZWxkIGZ1bmN0aW9uKGUpe3JldHVybiBfX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3QgdD15aWVsZCBuZXcgUHJvbWlzZSgodD0+e2NvbnN0IG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWQ9KCk9PnQobi5yZXN1bHQpLG4ucmVhZEFzRGF0YVVSTChuZXcgQmxvYihbZV0pKX0pKTtyZXR1cm4gdC5zbGljZSh0LmluZGV4T2YoIiwiKSsxKX0pKX0odiksZz1lLlB1c2hQYXlsb2FkQ29tcHJlc3NlZCh7c2Vzc2lvbl9zZWN1cmVfaWQ6cixwYXlsb2FkX2lkOmkudG9TdHJpbmcoKSxkYXRhOkV9KTtsZXQgVD1Qcm9taXNlLnJlc29sdmUoKTtsLmxlbmd0aCYmKFQ9ZS5wdXNoTWV0cmljcyh7bWV0cmljczpsfSksbC5zcGxpY2UoMCkpLHlpZWxkIFByb21pc2UuYWxsKFtnLFRdKSxRdC5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6dC5Bc3luY0V2ZW50cyxpZDppLGV2ZW50c1NpemU6Xy5sZW5ndGgsY29tcHJlc3NlZFNpemU6RS5sZW5ndGh9fSl9KSksaD10PT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3R7dXNlck9iamVjdDppLHVzZXJJZGVudGlmaWVyOm8sc291cmNlOmF9PXQ7ZCgic2VnbWVudCI9PT1hPyJTZWdtZW50IElkZW50aWZ5IjoiSWRlbnRpZnkiLHMoX19zcHJlYWRWYWx1ZXMoe3VzZXJJZGVudGlmaWVyOm99LGkpKSkseWllbGQgZS5pZGVudGlmeVNlc3Npb24oe3Nlc3Npb25fc2VjdXJlX2lkOnIsdXNlcl9pZGVudGlmaWVyOm8sdXNlcl9vYmplY3Q6WHQoaSwidXNlciIpfSk7Y29uc3QgbD0ic2VnbWVudCI9PT1hP2E6ImRlZmF1bHQiO2MubG9nKGBJZGVudGlmeSAoJHtvfSwgc291cmNlOiAke2x9KSB3LyBvYmo6ICR7cyhpKX0gQCAke259YCl9KSksZj10PT5fX2FzeW5jKHRoaXMsbnVsbCwoZnVuY3Rpb24qKCl7Y29uc3R7cHJvcGVydGllc09iamVjdDppLHByb3BlcnR5VHlwZTpvfT10O2xldCBhO3ZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmNsaWNrVGV4dENvbnRlbnQpPyhhPSJDbGlja1RleHRDb250ZW50Iix5aWVsZCBlLmFkZFNlc3Npb25Qcm9wZXJ0aWVzKHtzZXNzaW9uX3NlY3VyZV9pZDpyLHByb3BlcnRpZXNfb2JqZWN0Olh0KGksInNlc3Npb24iKX0pKToic2Vzc2lvbiI9PT0obnVsbD09bz92b2lkIDA6by50eXBlKT8oYT0iU2Vzc2lvbiIseWllbGQgZS5hZGRTZXNzaW9uUHJvcGVydGllcyh7c2Vzc2lvbl9zZWN1cmVfaWQ6cixwcm9wZXJ0aWVzX29iamVjdDpYdChpLCJzZXNzaW9uIil9KSk6InNlZ21lbnQiPT09KG51bGw9PW8/dm9pZCAwOm8uc291cmNlKT8oYT0iU2VnbWVudCIsZCgiU2VnbWVudCBUcmFjayIscyhpKSkpOihhPSJUcmFjayIsZChhLHMoaSkpKSxjLmxvZyhgQWRkaW5nICR7YX0gUHJvcGVydGllcyB0byBzZXNzaW9uICgke3J9KSB3LyBvYmo6ICR7SlNPTi5zdHJpbmdpZnkoaSl9IEAgJHtufWApfSkpLHk9ZT0+X19hc3luYyh0aGlzLG51bGwsKGZ1bmN0aW9uKigpe2wucHVzaCguLi5lLm1ldHJpY3MubWFwKChlPT4oe25hbWU6ZS5uYW1lLHZhbHVlOmUudmFsdWUsc2Vzc2lvbl9zZWN1cmVfaWQ6cixjYXRlZ29yeTplLmNhdGVnb3J5LGdyb3VwOmUuZ3JvdXAsdGltZXN0YW1wOmUudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksdGFnczplLnRhZ3N9KSkpKX0pKSxtPXQ9Pl9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXtjb25zdHt0aW1lc3RhbXA6bix2ZXJiYXRpbTppLHVzZXJFbWFpbDpzLHVzZXJOYW1lOm99PXQ7eWllbGQgZS5hZGRTZXNzaW9uRmVlZGJhY2soe3Nlc3Npb25fc2VjdXJlX2lkOnIsdGltZXN0YW1wOm4sdmVyYmF0aW06aSx1c2VyX2VtYWlsOnMsdXNlcl9uYW1lOm99KX0pKTtRdC5vbm1lc3NhZ2U9ZnVuY3Rpb24ocyl7cmV0dXJuIF9fYXN5bmModGhpcyxudWxsLChmdW5jdGlvbiooKXtpZihzLmRhdGEubWVzc2FnZS50eXBlPT09dC5Jbml0aWFsaXplKXJldHVybiBuPXMuZGF0YS5tZXNzYWdlLmJhY2tlbmQscj1zLmRhdGEubWVzc2FnZS5zZXNzaW9uU2VjdXJlSUQsbz1zLmRhdGEubWVzc2FnZS5kZWJ1ZyxhPXMuZGF0YS5tZXNzYWdlLnJlY29yZGluZ1N0YXJ0VGltZSxjLmRlYnVnPW8sdm9pZChlPWZ1bmN0aW9uKGUsdD1HZSl7cmV0dXJue1B1c2hQYXlsb2FkOihuLHIpPT50KCh0PT5lLnJlcXVlc3QoJGUsbixfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxyKSx0KSkpLCJQdXNoUGF5bG9hZCIsIm11dGF0aW9uIixuKSxQdXNoUGF5bG9hZENvbXByZXNzZWQ6KG4scik9PnQoKHQ9PmUucmVxdWVzdChNZSxuLF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LHIpLHQpKSksIlB1c2hQYXlsb2FkQ29tcHJlc3NlZCIsIm11dGF0aW9uIixuKSxpZGVudGlmeVNlc3Npb246KG4scik9PnQoKHQ9PmUucmVxdWVzdChWZSxuLF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LHIpLHQpKSksImlkZW50aWZ5U2Vzc2lvbiIsIm11dGF0aW9uIixuKSxhZGRTZXNzaW9uUHJvcGVydGllczoobixyKT0+dCgodD0+ZS5yZXF1ZXN0KEJlLG4sX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sciksdCkpKSwiYWRkU2Vzc2lvblByb3BlcnRpZXMiLCJtdXRhdGlvbiIsbikscHVzaE1ldHJpY3M6KG4scik9PnQoKHQ9PmUucmVxdWVzdChqZSxuLF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LHIpLHQpKSksInB1c2hNZXRyaWNzIiwibXV0YXRpb24iLG4pLGFkZFNlc3Npb25GZWVkYmFjazoobixyKT0+dCgodD0+ZS5yZXF1ZXN0KFVlLG4sX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sciksdCkpKSwiYWRkU2Vzc2lvbkZlZWRiYWNrIiwibXV0YXRpb24iLG4pLGluaXRpYWxpemVTZXNzaW9uOihuLHIpPT50KCh0PT5lLnJlcXVlc3QocWUsbixfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSxyKSx0KSkpLCJpbml0aWFsaXplU2Vzc2lvbiIsIm11dGF0aW9uIixuKSxJZ25vcmU6KG4scik9PnQoKHQ9PmUucmVxdWVzdChLZSxuLF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LHIpLHQpKSksIklnbm9yZSIsInF1ZXJ5IixuKX19KG5ldyBydChuLHtoZWFkZXJzOnt9fSksdXQocikpKTtpZih1KCkpdHJ5e3MuZGF0YS5tZXNzYWdlLnR5cGU9PT10LkFzeW5jRXZlbnRzP3lpZWxkIHAocy5kYXRhLm1lc3NhZ2UpOnMuZGF0YS5tZXNzYWdlLnR5cGU9PT10LklkZW50aWZ5P3lpZWxkIGgocy5kYXRhLm1lc3NhZ2UpOnMuZGF0YS5tZXNzYWdlLnR5cGU9PT10LlByb3BlcnRpZXM/eWllbGQgZihzLmRhdGEubWVzc2FnZSk6cy5kYXRhLm1lc3NhZ2UudHlwZT09PXQuTWV0cmljcz95aWVsZCB5KHMuZGF0YS5tZXNzYWdlKTpzLmRhdGEubWVzc2FnZS50eXBlPT09dC5GZWVkYmFjayYmKHlpZWxkIG0ocy5kYXRhLm1lc3NhZ2UpKSxpPTB9Y2F0Y2gobCl7byYmY29uc29sZS5lcnJvcihsKSxpKz0xfX0pKX19fSgpOwo=",Yo=typeof window<"u"&&window.Blob&&new Blob([(t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)))(Ko)],{type:"text/javascript;charset=utf-8"});function sa(t){let e;try{if(e=Yo&&(window.URL||window.webkitURL).createObjectURL(Yo),!e)throw"";const i=new Worker(e,{name:t==null?void 0:t.name});return i.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(e)}),i}catch{return new Worker("data:text/javascript;base64,"+Ko,{name:t==null?void 0:t.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}var Fo=(t=>(t.BillingQuotaExceeded="BillingQuotaExceeded",t))(Fo||{});const oa=[Fo.BillingQuotaExceeded.toString()],ra=t=>{const e=(i,n,s,o=0)=>oe(this,null,function*(){try{return yield i()}catch(l){if(l instanceof ot&&!(d=>{var a;return((a=d.response.errors)==null?void 0:a.find(c=>oa.includes(c.message)))===void 0})(l))throw l;if(o<5)return yield new Promise(d=>setTimeout(d,1e3+500*Math.pow(2,o))),yield e(i,n,s,o+1);throw console.error(`highlight.io: [${t||t}] data request failed after ${o} retries`),l}});return e};var Ue=(t=>(t[t.Initialize=0]="Initialize",t[t.AsyncEvents=1]="AsyncEvents",t[t.Identify=2]="Identify",t[t.Properties=3]="Properties",t[t.Metrics=4]="Metrics",t[t.Feedback=5]="Feedback",t[t.CustomEvent=6]="CustomEvent",t))(Ue||{});class la{constructor(e,i){x(this,"debug"),x(this,"name"),this.debug=e,this.name=i}log(...e){if(this.debug){let i=`[${Date.now()}]`;this.name&&(i+=` - ${this.name}`),console.log.apply(console,[i,...e])}}}const aa=()=>oe(this,null,function*(){const t=[];for(let e=0;e<30;e++)t.push(yield new Promise(i=>requestAnimationFrame(n=>requestAnimationFrame(s=>i(s-n)))));return t.reduce((e,i)=>e+i,0)/t.length}),Ho="iframe parent ready",Eo="iframe ok",ct=(t,e)=>{console.warn(`Highlight Warning: (${t}): `,{output:e})},Mo="app.highlight.run",Oo={normal:{bytes:1e7,time:24e4},canvas:{bytes:16e6,time:5e3}};class mn{constructor(e,i){var n,s,o,l,d,a;x(this,"options"),x(this,"isRunningOnHighlight"),x(this,"organizationID"),x(this,"graphqlSDK"),x(this,"events"),x(this,"sessionData"),x(this,"ready"),x(this,"manualStopped"),x(this,"state"),x(this,"logger"),x(this,"enableSegmentIntegration"),x(this,"privacySetting"),x(this,"enableCanvasRecording"),x(this,"enablePerformanceRecording"),x(this,"samplingStrategy"),x(this,"inlineImages"),x(this,"inlineStylesheet"),x(this,"debugOptions"),x(this,"listeners"),x(this,"firstloadVersion"),x(this,"environment"),x(this,"sessionShortcut"),x(this,"appVersion"),x(this,"serviceName"),x(this,"_worker"),x(this,"_optionsInternal"),x(this,"_backendUrl"),x(this,"_recordingStartTime"),x(this,"_isOnLocalHost"),x(this,"_onToggleFeedbackFormVisibility"),x(this,"_firstLoadListeners"),x(this,"_isCrossOriginIframe"),x(this,"_eventBytesSinceSnapshot"),x(this,"_lastSnapshotTime"),x(this,"_lastVisibilityChangeTime"),x(this,"pushPayloadTimerId"),x(this,"hasSessionUnloaded"),x(this,"hasPushedData"),x(this,"reloaded"),x(this,"_hasPreviouslyInitialized"),x(this,"_payloadId"),x(this,"_recordStop"),e.sessionSecureID||(e.sessionSecureID=hi()),this.options=e,typeof((n=this.options)==null?void 0:n.debug)=="boolean"?this.debugOptions=this.options.debug?{clientInteractions:!0}:{}:this.debugOptions=(o=(s=this.options)==null?void 0:s.debug)!=null?o:{},this.logger=new la(this.debugOptions.clientInteractions),e.storageMode&&(this.logger.log(`initializing in ${e.storageMode} session mode`),a=e.storageMode,$i=a),this._worker=new sa,this._worker.onmessage=r=>{var u,p;((u=r.data.response)==null?void 0:u.type)===Ue.AsyncEvents?(this._eventBytesSinceSnapshot+=r.data.response.eventsSize,this.logger.log(`Web worker sent payloadID ${r.data.response.id} size ${r.data.response.eventsSize} bytes, compression ratio ${r.data.response.eventsSize/r.data.response.compressedSize}.
                Total since snapshot: ${(this._eventBytesSinceSnapshot/1e6).toFixed(1)}MB`)):((p=r.data.response)==null?void 0:p.type)===Ue.CustomEvent&&this.addCustomEvent(r.data.response.tag,r.data.response.payload)};let c=Uo();if(this.reloaded=!1,!((l=this.sessionData)!=null&&l.sessionSecureID)&&(c==null?void 0:c.sessionSecureID))this.sessionData=c,this.options.sessionSecureID=c.sessionSecureID,this.reloaded=!0,this.logger.log(`Tab reloaded, continuing previous session: ${this.sessionData.sessionSecureID}`);else{for(const r of Object.values(ce))tn(r);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,sessionStartTime:Date.now()}}this._hasPreviouslyInitialized=!1,this._firstLoadListeners=i||new Je(this.options);try{window.parent.document&&(this._isCrossOriginIframe=!1)}catch{this._isCrossOriginIframe=(d=this.options.recordCrossOriginIframe)==null||d}this._initMembers(this.options)}static create(e){return new mn(e)}_reset(e){return oe(this,arguments,function*({forceNew:i}){let n,s;if(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),!i)try{n=Ve(ce.USER_IDENTIFIER);const o=Ve(ce.USER_OBJECT);o&&(s=JSON.parse(o))}catch{}for(const o of Object.values(ce))tn(o);this.sessionData.sessionSecureID=hi(),this.sessionData.sessionStartTime=Date.now(),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._payloadId=0,this.stopRecording(),this._firstLoadListeners=new Je(this.options),yield this.initialize(),n&&s&&(yield this.identify(n,s))})}_initMembers(e){var i,n,s,o,l,d,a,c,r,u,p,h;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="",this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!e.enableSegmentIntegration,this.privacySetting=(i=e.privacySetting)!=null?i:"default",this.enableCanvasRecording=(n=e.enableCanvasRecording)!=null&&n,this.enablePerformanceRecording=(s=e.enablePerformanceRecording)==null||s,this.inlineImages=(o=e.inlineImages)!=null?o:this._isOnLocalHost,this.inlineStylesheet=(l=e.inlineStylesheet)==null||l,this.samplingStrategy=z({canvasFactor:.5,canvasMaxSnapshotDimension:360,canvasClearWebGLBuffer:!0},(d=e.samplingStrategy)!=null?d:{canvas:2}),this._backendUrl=(a=e==null?void 0:e.backendUrl)!=null?a:"https://pub.highlight.io",this._backendUrl[0]==="/"&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const m=new hl(`${this._backendUrl}`,{headers:{}});this.graphqlSDK=function(g,f=Nl){return{PushPayload:(y,S)=>f(G=>g.request(ji,y,z(z({},S),G)),"PushPayload","mutation",y),PushPayloadCompressed:(y,S)=>f(G=>g.request(Xl,y,z(z({},S),G)),"PushPayloadCompressed","mutation",y),identifySession:(y,S)=>f(G=>g.request(Cl,y,z(z({},S),G)),"identifySession","mutation",y),addSessionProperties:(y,S)=>f(G=>g.request(Gl,y,z(z({},S),G)),"addSessionProperties","mutation",y),pushMetrics:(y,S)=>f(G=>g.request(Wl,y,z(z({},S),G)),"pushMetrics","mutation",y),addSessionFeedback:(y,S)=>f(G=>g.request(Rl,y,z(z({},S),G)),"addSessionFeedback","mutation",y),initializeSession:(y,S)=>f(G=>g.request(vl,y,z(z({},S),G)),"initializeSession","mutation",y),Ignore:(y,S)=>f(G=>g.request(kl,y,z(z({},S),G)),"Ignore","query",y)}}(m,ra(((c=this.sessionData)==null?void 0:c.sessionSecureID)||((r=this.options)==null?void 0:r.sessionSecureID))),this.environment=(u=e.environment)!=null?u:"production",this.appVersion=e.appVersion,this.serviceName=(p=e.serviceName)!=null?p:"",typeof e.organizationID=="string"?this.organizationID=e.organizationID:this.organizationID=e.organizationID.toString(),this.isRunningOnHighlight=this.organizationID==="1"||this.organizationID==="1jdkoe52",this.firstloadVersion=e.firstloadVersion||"unknown",this.sessionShortcut=e.sessionShortcut||!1,this._onToggleFeedbackFormVisibility=()=>{};const b=e,I=Fe(b,["firstloadVersion"]);this._optionsInternal=I,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})}),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime(),this._lastVisibilityChangeTime=new Date().getTime(),this._payloadId=(h=Number(Ve(ce.PAYLOAD_ID)))!=null?h:1,Ge(ce.PAYLOAD_ID,this._payloadId.toString())}identify(e,i={},n){e&&e!==""?(this.sessionData.userIdentifier=e.toString(),this.sessionData.userObject=i,Ge(ce.USER_IDENTIFIER,e.toString()),Ge(ce.USER_OBJECT,JSON.stringify(i)),this._worker.postMessage({message:{type:Ue.Identify,userIdentifier:e,userObject:i,source:n}})):console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:e,user_object:i})}pushCustomError(e,i){return oe(this,null,function*(){var n,s,o;const l=(yield Kl.get()).slice(1);this._firstLoadListeners.errors.push({event:e,type:"custom",url:window.location.href,source:(n=l[0].fileName)!=null?n:"",lineNumber:(s=l[0].lineNumber)!=null?s:0,columnNumber:(o=l[0].columnNumber)!=null?o:0,stackTrace:l,timestamp:new Date().toISOString(),payload:i})})}consumeCustomError(e,i,n){return oe(this,null,function*(){var s,o,l,d;if(e.cause){let c={"exception.cause":e.cause};if(n)try{c=z(z({},JSON.parse(n)),c)}catch{}n=JSON.stringify(c)}const a=St.parse(e);this._firstLoadListeners.errors.push({event:i?i+":"+e.message:e.message,type:"custom",url:window.location.href,source:"",lineNumber:(s=a[0])!=null&&s.lineNumber?(o=a[0])==null?void 0:o.lineNumber:0,columnNumber:(l=a[0])!=null&&l.columnNumber?(d=a[0])==null?void 0:d.columnNumber:0,stackTrace:a,timestamp:new Date().toISOString(),payload:n})})}addProperties(e={},i){const n=z({},e);Object.entries(n).forEach(([s,o])=>{try{structuredClone(o)}catch{delete n[s]}}),this._worker.postMessage({message:{type:Ue.Properties,propertiesObject:n,propertyType:i}})}initialize(e){return oe(this,null,function*(){var i,n,s,o,l,d,a;if(navigator!=null&&navigator.webdriver&&!window.Cypress||(i=navigator==null?void 0:navigator.userAgent)!=null&&i.includes("Googlebot")||(n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("AdsBot"))(s=this._firstLoadListeners)==null||s.stopListening();else try{if(!this.reloaded&&this.organizationID==="6glrjqg9"&&Math.random()>=.02)return void((o=this._firstLoadListeners)==null||o.stopListening());if(e!=null&&e.forceNew)return yield this._reset(e),void this.takeFullSnapshot();const c=Ve(ce.RECORDING_START_TIME);c?this._recordingStartTime=parseInt(c,10):(this._recordingStartTime=new Date().getTime(),Ge(ce.RECORDING_START_TIME,this._recordingStartTime.toString()));let r,u=Ve("highlightClientID");u||(u=hi(),Ge("highlightClientID",u)),tn(ce.SESSION_DATA),r=!this.options.disableSessionRecording&&this.options.disableNetworkRecording===void 0&&typeof this.options.networkRecording!="boolean"&&(((l=this.options.networkRecording)==null?void 0:l.recordHeadersAndBody)||!1);let p=[];if(typeof this.options.networkRecording=="object"&&(d=this.options.networkRecording.destinationDomains)!=null&&d.length&&(p=this.options.networkRecording.destinationDomains),this._isCrossOriginIframe)yield this._setupCrossOriginIframe();else{const b=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:this.privacySetting==="strict",privacy_setting:this.privacySetting,enable_recording_network_contents:r,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:u,appVersion:this.appVersion,serviceName:this.serviceName,session_secure_id:this.sessionData.sessionSecureID,client_id:u,network_recording_domains:p,disable_session_recording:this.options.disableSessionRecording});if(b.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log(`Unexpected secure id returned by initializeSession: ${b.initializeSession.secure_id}`),this.sessionData.sessionSecureID=b.initializeSession.secure_id,this.sessionData.projectID=parseInt(((a=b==null?void 0:b.initializeSession)==null?void 0:a.project_id)||"0"),!this.sessionData.projectID||!this.sessionData.sessionSecureID)return void console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData)}if(this.logger.log(`Loaded Highlight
Remote: ${this._backendUrl}
Project ID: ${this.sessionData.projectID}
SessionSecureID: ${this.sessionData.sessionSecureID}`),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:Ue.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}}),Ge(ce.SESSION_SECURE_ID,this.sessionData.sessionSecureID),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||Je.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening(),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this._isCrossOriginIframe||(this.pushPayloadTimerId=setTimeout(()=>{this._save()},1e3)),this.options.disableSessionRecording)return this.logger.log("Highlight is NOT RECORDING a session replay per H.init setting."),this.ready=!0,this.state="Recording",void(this.manualStopped=!1);const{getDeviceDetails:h}=(()=>{if(!("performance"in window)||!("memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const b=window.performance;return{getDeviceDetails:()=>({deviceMemory:ia(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>({jsHeapSizeLimit:hn(b.memory.jsHeapSizeLimit),totalJSHeapSize:hn(b.memory.totalJSHeapSize),usedJSHeapSize:hn(b.memory.usedJSHeapSize)})}})();h&&this.recordMetric([{name:Vt.DeviceMemory,value:h().deviceMemory,category:Ne.Device,group:window.location.href}]);const m=b=>{this.events.push(b)};if(m.bind(this),!this._recordStop){let b;(typeof this.options.debug=="boolean"&&this.options.debug||typeof this.options.debug=="object"&&this.options.debug.domRecording)&&(b={debug:this.logger.log,warn:ct});const[I,g]=(y=>{switch(y){case"strict":case"default":return[!0,void 0];case"none":return[!1,{password:!0}]}})(this.privacySetting);this._recordStop=xe({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:m,recordCrossOriginIframes:this.options.recordCrossOriginIframe,privacySetting:this.privacySetting,maskAllInputs:I,maskInputOptions:g,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,fpsManual:this.samplingStrategy.canvasManualSnapshot,resizeFactor:this.samplingStrategy.canvasFactor,clearWebGLBuffer:this.samplingStrategy.canvasClearWebGLBuffer,initialSnapshotDelay:this.samplingStrategy.canvasInitialSnapshotDelay,dataURLOptions:{type:"image/webp",quality:.9},maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:y=>!this.options.recordCrossOriginIframe,inlineImages:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[Vr()],logger:b}),this.options.recordCrossOriginIframe&&this._setupCrossOriginIframeParent();const f={height:window.innerHeight,width:window.innerWidth};this.addCustomEvent("Viewport",f),this.submitViewportMetrics(f)}document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(c){this._isOnLocalHost&&(console.error(c),ct("initializeSession",c))}})}_visibilityHandler(e){return oe(this,null,function*(){if(this.manualStopped)this.logger.log("Ignoring visibility event due to manual stop.");else if(!(new Date().getTime()-this._lastVisibilityChangeTime<100))if(this._lastVisibilityChangeTime=new Date().getTime(),this.logger.log(`Detected window ${e?"hidden":"visible"}.`),e){if(this.addCustomEvent("TabHidden",!0),"sendBeacon"in navigator)try{yield this._sendPayload({isBeacon:!0,sendFn:i=>{let n=new Blob([JSON.stringify({query:zi(ji),variables:i})],{type:"application/json"});return navigator.sendBeacon(`${this._backendUrl}`,n),Promise.resolve(0)}})}catch(i){this._isOnLocalHost&&(console.error(i),ct("_sendPayload",i))}this.options.disableBackgroundRecording&&this.stopRecording()}else this.options.disableBackgroundRecording&&(yield this.initialize()),this.addCustomEvent("TabHidden",!1)})}_setupCrossOriginIframe(){return oe(this,null,function*(){this.logger.log("highlight in cross-origin iframe is waiting "),yield new Promise(e=>{const i=n=>{if(n.data.highlight===Ho){const s=n.data;this.logger.log("highlight got window message ",s),this.sessionData.projectID=s.projectID,this.sessionData.sessionSecureID=s.sessionSecureID,window.parent.postMessage({highlight:Eo},"*"),window.removeEventListener("message",i),e()}};window.addEventListener("message",i)})})}_setupCrossOriginIframeParent(){this.logger.log("highlight setting up cross origin iframe parent notification"),setInterval(()=>{window.document.querySelectorAll("iframe").forEach(e=>{var i;(i=e.contentWindow)==null||i.postMessage({highlight:Ho,projectID:this.sessionData.projectID,sessionSecureID:this.sessionData.sessionSecureID},"*")})},1e3),window.addEventListener("message",e=>{e.data.highlight===Eo&&this.logger.log("highlight got response from initialized iframe")})}_setupWindowListeners(){var e;try{const n=this;this.enableSegmentIntegration&&this.listeners.push(Hl(o=>{if(o.type==="track"){const l={};l["segment-event"]=o.event,n.addProperties(l,{type:"track",source:"segment"})}else if(o.type==="identify"){const l=o.userId.replace(/^"(.*)"$/,"$1");n.identify(l,o.traits,"segment")}})),this.listeners.push(Yr(o=>{this.reloaded?(this.addCustomEvent("Reload",o),this.reloaded=!1,n.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",o),n.addProperties({"visited-url":o},{type:"session"})})),this.listeners.push((o=>{let l;const d=()=>{clearTimeout(l),l=setTimeout(()=>{o({height:window.innerHeight,width:window.innerWidth})},500)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)})(o=>{this.addCustomEvent("Viewport",o),this.submitViewportMetrics(o)})),this.listeners.push((o=>{const l=d=>{if(d.target){const a=uo(d.target);o(a,d)}};return window.addEventListener("click",l),()=>window.removeEventListener("click",l)})((o,l)=>{o&&this.addCustomEvent("Click",o);let d=null,a=null;if(l&&l.target){const c=l.target;d=po(c),a=c.textContent,a&&a.length>2e3&&(a=a.substring(0,2e3))}n.addProperties({clickTextContent:a,clickSelector:d},{type:"session"})})),this.listeners.push((o=>{const l=d=>{if(d.target){const a=uo(d.target);o(a)}};return window.addEventListener("focusin",l),()=>window.removeEventListener("focusin",l)})(o=>{o&&this.addCustomEvent("Focus",o)})),this.listeners.push(ta(o=>{const{name:l,value:d}=o;this.recordMetric([{name:l,value:d,group:window.location.href,category:Ne.WebVital}])})),this.sessionShortcut&&Ol(this.sessionShortcut,()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")}),this.enablePerformanceRecording&&(this.listeners.push(((o,l)=>{let d=0,a=0;const c=()=>{const m=(new Date().getTime()-l)/1e3,b=Jo.memory.jsHeapSizeLimit||0,I=Jo.memory.usedJSHeapSize||0;o({jsHeapSizeLimit:b,usedJSHeapSize:I,relativeTimestamp:m,fps:d})};let r;c(),r=setInterval(()=>{c()},5e3);let u=0,p=Date.now();const h=function(){var m=Date.now();u++,m>1e3+p&&(d=Math.round(1e3*u/(m-p)),u=0,p=m),a=requestAnimationFrame(h)};return h(),()=>{clearInterval(r),cancelAnimationFrame(a)}})(o=>{this.addCustomEvent("Performance",Ae(o)),this.recordMetric(Object.entries(o).map(([l,d])=>d?{name:l,value:d,category:Ne.Performance,group:window.location.href}:void 0).filter(l=>l))},this._recordingStartTime)),this.listeners.push(((o,l)=>{let d={},a=16.666666666666668;aa().then(h=>a=h);const c=h=>{var m;d!=null&&d.event||(d={event:h,location:window.location.href,timerStart:(m=window.performance)==null?void 0:m.now()},window.requestAnimationFrame(r))},r=()=>{if(!(d!=null&&d.timerStart))return;const h=window.performance.now()-d.timerStart-a;u(h),d={}},u=h=>{const m=(new Date().getTime()-l)/1e3;o({relativeTimestamp:m,jankAmount:h,querySelector:p(),newLocation:window.location.href!=d.location?window.location.href:void 0})},p=()=>{var h;return(h=d==null?void 0:d.event)!=null&&h.target?po(d.event.target):""};return window.addEventListener("click",c,!0),window.addEventListener("keydown",c,!0),()=>{window.removeEventListener("keydown",c,!0),window.removeEventListener("click",c,!0)}})(o=>{this.addCustomEvent("Jank",Ae(o)),this.recordMetric([{name:"Jank",value:o.jankAmount,category:Ne.WebVital,group:o.querySelector}])},this._recordingStartTime))),this._hasPreviouslyInitialized||((e=window.electron)!=null&&e.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",({visible:o})=>{this._visibilityHandler(!o)}),this.logger.log("Set up Electron highlight.run events.")):((o=>{let l,d;if(document.hidden!==void 0?(l="hidden",d="visibilitychange"):document.msHidden!==void 0?(l="msHidden",d="msvisibilitychange"):document.webkitHidden!==void 0&&(l="webkitHidden",d="webkitvisibilitychange"),d===void 0)return()=>{};if(l===void 0)return()=>{};const a=l,c=()=>{const r=document[a];o(!!r)};document.addEventListener(d,c)})(o=>this._visibilityHandler(o)),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const s=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",s),this.listeners.push(()=>window.removeEventListener("beforeunload",s))}catch(n){this._isOnLocalHost&&(console.error(n),ct("initializeSession _setupWindowListeners",n))}const i=()=>{this.addCustomEvent("Page Unload",""),Ge(ce.SESSION_DATA,JSON.stringify(this.sessionData))};if(window.addEventListener("beforeunload",i),this.listeners.push(()=>window.removeEventListener("beforeunload",i)),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const n=()=>{this.addCustomEvent("Page Unload",""),Ge(ce.SESSION_DATA,JSON.stringify(this.sessionData))};window.addEventListener("pagehide",n),this.listeners.push(()=>window.removeEventListener("beforeunload",n))}}submitViewportMetrics({height:e,width:i}){this.recordMetric([{name:Vt.ViewportHeight,value:e,category:Ne.Device,group:window.location.href},{name:Vt.ViewportWidth,value:i,category:Ne.Device,group:window.location.href},{name:Vt.ViewportArea,value:e*i,category:Ne.Device,group:window.location.href}])}recordMetric(e){this._worker.postMessage({message:{type:Ue.Metrics,metrics:e.map(i=>Ye(z({},i),{tags:i.tags||[],group:i.group||window.location.href,category:i.category||Ne.Frontend,timestamp:new Date}))}})}stopRecording(e){this.manualStopped=!!e,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",e&&this._recordStop&&(this._recordStop(),this._recordStop=void 0),this.listeners.forEach(i=>i()),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const e=new Date().getTime(),{projectID:i,sessionSecureID:n}=this.sessionData,s=(e-this._recordingStartTime)/1e3;return`https://${Mo}/${i}/sessions/${n}?ts=${s}`}getCurrentSessionURL(){const e=this.sessionData.projectID,i=this.sessionData.sessionSecureID;return e&&i?`https://${Mo}/${e}/sessions/${i}`:null}snapshot(e){return oe(this,null,function*(){yield xe.snapshotCanvas(e)})}addSessionFeedback({timestamp:e,verbatim:i,user_email:n,user_name:s}){var o;this._worker.postMessage({message:{type:Ue.Feedback,verbatim:i,timestamp:e,userName:s||this.sessionData.userIdentifier,userEmail:n||((o=this.sessionData.userObject)==null?void 0:o.name)}})}_save(){return oe(this,null,function*(){var e;try{let i,n=144e5;this.organizationID==="odzl0xep"&&(n=432e5),this.state==="Recording"&&this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>n&&(yield this._reset({})),((e=this.options)==null?void 0:e.sendMode)==="local"&&(i=s=>oe(this,null,function*(){let o=new Blob([JSON.stringify({query:zi(ji),variables:s})],{type:"application/json"});return yield window.fetch(`${this._backendUrl}`,{method:"POST",body:o}),0})),yield this._sendPayload({isBeacon:!1,sendFn:i}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now()}catch(i){this._isOnLocalHost&&(console.error(i),ct("_save",i))}this.state==="Recording"&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout(()=>{this._save()},2e3))})}addCustomEvent(e,i){if(this.state==="NotRecording"){let n;const s=()=>{clearInterval(n),this.state==="Recording"&&this.events.length>0?cs(e,i):n=setTimeout(s,500)};n=setTimeout(s,500)}else this.state==="Recording"&&(this.events.length>0||this.hasPushedData)&&cs(e,i)}_sendPayload(e){return oe(this,arguments,function*({isBeacon:i,sendFn:n}){const s=Je.getRecordedNetworkResources(this._firstLoadListeners,this._recordingStartTime),o=Je.getRecordedWebSocketEvents(this._firstLoadListeners),l=[...this.events],d=[...this._firstLoadListeners.messages],a=[...this._firstLoadListeners.errors];if(!i){const{bytes:r,time:u}=this.enableCanvasRecording?Oo.canvas:Oo.normal;this._eventBytesSinceSnapshot>=r&&new Date().getTime()-this._lastSnapshotTime>=u&&this.takeFullSnapshot()}this.logger.log(`Sending: ${l.length} events, ${d.length} messages, ${s.length} network resources, ${a.length} errors 
To: ${this._backendUrl}
Org: ${this.organizationID}
SessionSecureID: ${this.sessionData.sessionSecureID}`);const c=Ve(Nt)||"";n?yield n({session_secure_id:this.sessionData.sessionSecureID,events:{events:l},messages:Ae({messages:d}),resources:JSON.stringify({resources:s}),web_socket_events:JSON.stringify({webSocketEvents:o}),errors:a,is_beacon:i,has_session_unloaded:this.hasSessionUnloaded,payload_id:this._payloadId.toString()}):this._worker.postMessage({message:{type:Ue.AsyncEvents,id:this._payloadId,events:l,messages:d,errors:a,resourcesString:JSON.stringify({resources:s}),webSocketEventsString:JSON.stringify({webSocketEvents:o}),isBeacon:i,hasSessionUnloaded:this.hasSessionUnloaded,highlightLogs:c}}),this._payloadId++,Ge(ce.PAYLOAD_ID,this._payloadId.toString()),i||(Je.clearRecordedNetworkResources(this._firstLoadListeners),this.events=this.events.slice(l.length),this._firstLoadListeners.messages=this._firstLoadListeners.messages.slice(d.length),this._firstLoadListeners.errors=this._firstLoadListeners.errors.slice(a.length),na(c))})}takeFullSnapshot(){xe.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=new Date().getTime()}}Ce.FirstLoadListeners=Je,Ce.GenerateSecureID=hi,Ce.Highlight=mn,Ce.HighlightWarning=ct,Ce.MetricCategory=Ne,Ce.getPreviousSessionData=Uo,Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"})})})(yn,yn.exports);var Wa=yn.exports;const va=Ga({__proto__:null},[Wa]);export{va as i};
